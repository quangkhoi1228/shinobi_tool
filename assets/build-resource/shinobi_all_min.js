var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};e.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(r){f(r)}}:b}var d,f,g=new e(function(a,b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return g};
e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c(f.value).callWhenSettled_(b,
d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function f(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,c(d.value).callWhenSettled_(f(g.length-1),e),d=b.next();while(!d.done)})};return e},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.entries",function(a){return a?a:function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push([d,a[d]]);return b}},"es8","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push(a[d]);return b}},"es8","es3");$jscomp.polyfill("Number.parseFloat",function(a){return a||parseFloat},"es6","es3");
$jscomp.polyfill("Number.parseInt",function(a){return a||parseInt},"es6","es3");$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");
shinobi.seoMarkUpBuilder={baseURL:"/page/blogpost/",JSON:[{baseurl:"/page/blogpost/",pagename:"B\u00e0i vi\u1ebft",markuprender:"shinobi.articleMarkUp.build"}],getJSON:function(){var a={};a.baseurl=baseURL;shinobi.api.request("/api/Api/getJSON",JSON.stringify(a),function(a){a=JSON.parse(a);shinobi.seoMarkUpBuilder.JSON=a})},render:function(){for(var a=shinobi.seoMarkUpBuilder.JSON,b=window.location.pathname,c=0;c<a.length;c++){var d=a[c];b.includes(d.baseurl)&&(d.markuprender&&""!=d.markuprender&&
null!=d.markuprender?eval(d.markuprender)():shinobi.seoMarkUpBuilder.defaultRender())}},defaultRender:function(){},build:function(){shinobi.seoMarkUpBuilder.render()}};
shinobi.api={request:function(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var f=JSON.parse(e.responseText);if(!d||d&&!d.hasOwnProperty("responseHandleFunction"))if("success"===f.result)c(f.content);else if("notify"===f.result)shinobi.notification.notification.info(f.content);else{var g=f.hasOwnProperty("content")&&""!=f.content.trim()?f.content:f.errorcode;["content","errorcode"].forEach(function(a){""==f[a].trim()||f[a].startsWith("ERROR_")||
f[a].startsWith("PAGECODE_")||(g=f[a])});shinobi.notification.notification.error(g)}else"function"==typeof d.responseHandleFunction&&d.responseHandleFunction({data:f,url:a,request:b,callback:c,options:d})}else 4==this.readyState&&(d&&d.errorCallback?d.errorCallback(this.status):console.log("response api code",this.status,a))};e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send(b)}};
shinobi.areasplinechart=function(){var a=function(b,c){this.data=[];this.name=this.title="";this.categories=[];this.options=c?c:null;this.createAreaSplineChart=function(a,b,c){this.containerId=a;this.categories=b;this.data=c;this.renderChart()};this.setData=function(a){this.data=a};this.setName=function(a){this.name=a};this.renderChart=function(){Highcharts.chart(this.containerId,{chart:{type:"areaspline",height:null==this.options?400:null==this.options.height?400:this.options.height},title:{text:""},
xAxis:{categories:this.categories},yAxis:{title:!1},exporting:{enabled:!1},credits:{enabled:!1},series:this.data})};a.staticmethod={hello:function(){}}};return a}();
shinobi.areastacksplinechart=function(){var a=function(b){this.data=[];this.name=this.title="";this.categories=[];this.createAreaStackSplineChart=function(a,b,e){this.containerId=a;this.categories=b;this.data=e;this.renderChart()};this.setData=function(a){this.data=a};this.setName=function(a){this.name=a};this.renderChart=function(){Highcharts.chart(this.containerId,{chart:{type:"areaspline"},title:{text:""},xAxis:{categories:this.categories},yAxis:{title:!1},exporting:{enabled:!1},tooltip:{split:!0},
credits:{enabled:!1},plotOptions:{areaspline:{stacking:"normal"}},series:this.data})};a.staticmethod={hello:function(){}}};return a}();
shinobi.articleMarkUp={title:"Aladin | N\u1ec1n t\u1ea3ng k\u1ebft n\u1ed1i c\u1ed9ng \u0111\u1ed3ng nh\u00e0 \u0111\u1ea7u t\u01b0 ch\u1ee9ng kho\u00e1n chuy\u00ean nghi\u1ec7p",gaid:"UA-119675169-1",headLine:"",postURL:"",image:"image.aladin.finance/aladin.finance.public.image/783d7f463d1a8269ab447d3593641cae/HVN.png",datePublished:new Date,dateModified:new Date,authorName:"",authorImageURL:"",publisherName:"Aladin | aladin.finance",publisherLogoURL:"https://image.aladin.finance/aladin.finance.public.image/c73f7e23e7ccb4d33744cd03cfc8a18f/Aladin-Logo-test.png",
description:"",buildArticleMarkupScript:function(){var a='<script type="application/ld+json">{"@context": "https://schema.org", "@type": "NewsArticle",'+('"mainEntityOfPage": {"@type": "WebPage", "@id": "'+shinobi.articleMarkUp.postURL+'"},');a+='"headline": "'+shinobi.articleMarkUp.title+'",';a+='"image": ["'+shinobi.articleMarkUp.image+'"],';a+='"datePublished": "'+shinobi.articleMarkUp.datePublished+'",';a+='"dateModified": "'+shinobi.articleMarkUp.dateModified+'",';a+='"author": {"@type": "Person", "name": "'+
shinobi.articleMarkUp.authorName+'",';a+='"image": {"@type": "ImageObject", "url": "'+shinobi.articleMarkUp.authorImageURL+'"}},';a+='"publisher": {"@type": "Organization", "name": "'+shinobi.articleMarkUp.publisherName+'",';a+='"logo": {"@type": "ImageObject", "url": "'+shinobi.articleMarkUp.publisherLogoURL+'"}},';a+='"description": "'+shinobi.articleMarkUp.description+'"}';return a+"\x3c/script>"},addGA:function(){ga("create",shinobi.articleMarkUp.gaid,"auto");ga("send","pageview")},buildArticleMarkUp:function(){var a=
window.location.pathname.split("/"),b={};b.posturl=blogPostPageUrl+a[a.length-1];shinobi.api.request("/api/BlogOverviewApi/getPreViewContent",JSON.stringify(b),function(a){var b=JSON.parse(a);shinobi.articleMarkUp.getAuthorInfo(b.createduser,function(){shinobi.articleMarkUp.setNewParam(b);shinobi.articleMarkUp.applyToHead();shinobi.articleMarkUp.addGA()})})},getAuthorInfo:function(a,b){var c={};c.username=a;shinobi.api.request("/api/UserApi/getAllUserInfo",JSON.stringify(c),function(a){a=JSON.parse(a);
shinobi.articleMarkUp.authorImageURL=a.avatarlink;shinobi.articleMarkUp.authorName=a.firstname+" "+a.lastname;b()})},setNewParam:function(a){a.posttitle.includes('"')?shinobi.articleMarkUp.title=a.posttitle.replace(/"/g,'\\"'):shinobi.articleMarkUp.title=a.posttitle;shinobi.articleMarkUp.dateModified=a.lastmodifieddate;shinobi.articleMarkUp.datePublished=a.createddate;shinobi.articleMarkUp.image=a.thumpnailurl;shinobi.articleMarkUp.postURL="https://www.aladin.finance"+a.posturl},applyToHead:function(){var a=
document.head.innerHTML;a+=shinobi.articleMarkUp.buildArticleMarkupScript();document.head.innerHTML=a},build:function(){shinobi.articleMarkUp.buildArticleMarkUp()}};
shinobi.autocomplete=function(){var a=function(a,c){this.input=this.autoCompleteObject="";this.selector=a;this.onUpdate=function(a,b){console.log(a.length+" results");-1<b&&console.log("Selected: "+a[b])};this.getResultValue=function(a){};this.autoSelect=!0;this.containerSelector="shinobiAutoComplete"+shinobi.util.sha256(a);this.options=c;this.onSearch=function(a,b){return[]};this.renderResult=function(a,b){return"<li "+b+"> "+JSON.stringify(a)+"</li>"};this.onSubmit=function(a,b){b.autoCompleteObject.input.value=
JSON.stringify(a)};this.loadOptions=function(){c.hasOwnProperty("onSearch")&&(this.onSearch=c.onSearch);c.hasOwnProperty("renderResult")&&(this.renderResult=c.renderResult);c.hasOwnProperty("onSubmit")&&(this.onSubmit=c.onSubmit);c.hasOwnProperty("onUpdate")&&(this.onUpdate=c.onUpdate);c.hasOwnProperty("autoSelect")&&(this.autoSelect=c.autoSelect)};this.createObject=function(){var a=this;a.autoCompleteObject=new Autocomplete("#"+a.containerSelector,{search:function(b){return""!=b.trim()||c.hasOwnProperty("emptySearch")&&
c.emptySearch?new Promise(function(c){a.onSearch(b.trim(),c)}):[]},renderResult:function(b,c){return a.renderResult(b,c)},onSubmit:function(b){a.onSubmit(b,a)},autoSelect:a.autoSelect,onUpdate:function(b,c){a.onUpdate(b,c,a)}})};this.createStructure=function(a){this.input=document.querySelector(this.selector);if(!this.input.parentElement.classList.contains("autocomplete")){var b=document.createElement("div");b.setAttribute("class","autocomplete");b.setAttribute("id",this.containerSelector);b.innerHTML=
'<ul class="autocomplete-result-list"></ul>';this.input.classList.add("autocomplete-input");this.input.setAttribute("autocomplete","nope");this.input.setAttribute("autocorrect","off");this.input.value="";this.input.parentElement.replaceChild(b,this.input);b.insertBefore(this.input,b.firstElementChild);b.appendChild(this.input);var c=document.createElement("form");c.setAttribute("autocomplete","off");c.setAttribute("onSubmit","return false;");b.parentElement.replaceChild(c,b);c.appendChild(b)}a()};
this.loadAll=function(){var a=this;this.loadOptions();this.createStructure(function(){a.createObject()})};this.loadAll()};a.staticmethod={hello:function(){}};return a}();
shinobi.cacheapi={cache:{},request:function(a,b,c,d){var e=a+"_"+JSON.stringify(b);shinobi.cacheapi.cache.hasOwnProperty(e)?0==shinobi.cacheapi.cache[e]?setTimeout(function(){shinobi.cacheapi.request(a,b,c)},10):c(shinobi.cacheapi.cache[e]):(shinobi.cacheapi.cache[e]=!1,shinobi.api.request(a,b,function(a){shinobi.cacheapi.cache[e]=a;d&&d.hasOwnProperty("cacheExpired")&&setTimeout(function(){delete shinobi.cacheapi.cache[e]},d.cacheExpired);c(a)}))},clearKey:function(a,b,c){c=a+"_";b?(c+=JSON.stringify(b),
shinobi.cacheapi.cache.hasOwnProperty(c)&&delete shinobi.cacheapi.cache[c]):Object.keys(shinobi.cacheapi.cache).filter(function(b){return b.includes(a+"_")}).forEach(function(a){delete shinobi.cacheapi.cache[a]})},clear:function(){shinobi.cacheapi.cache={}}};
shinobi.chartadapter={convertDataPieChart:function(a){var b=[],c=a[0];a=c.xname;c=c.value;for(var d=c.length,e=0;e<d;e++){var f={};f.name=a[e];f.y=parseInt(c[e]);b.push(f)}return b},convertDataStockChart:function(a){var b=[],c=a.chartdata[0];a=c.xname;c=c.value;for(var d=a.length,e=0;e<d;e++){var f=[];f.push(Number(a[e]));f.push(Number(c[e]));b.push(f)}return b},convertDataSimpleChart:function(a){var b=[];a=a.chartdata[0].value;for(var c=a[0],d=a.length,e=0;e<d;e++)b.push(Number(a[e])-c);return b},
convertDataColumnChart:function(a){var b={};a=a.chartdata;b.categories=[];b.data=[];var c=a.length;if(0==c)return b;for(var d=a[0].yname,e=d.length,f=0;f<e;f++){var g={};g.name=d[f];g.data=[];for(var h=0;h<c;h++)b.categories.push(a[h].xname[0]),g.data.push(Number(a[h].value[f]));g.data=g.data.reverse();b.data.push(g)}b.categories=b.categories.reverse();return b},convertOneObjectDataColumnChart:function(a){for(var b={data:[]},c=a.chartdata,d=0;d<c.length;d++){for(var e=a.chartdata[d],f=e.xname,g=[],
h=0;h<f.length;h++){var k=shinobi.util.getFormatDate(new Date(Number(f[h])),{format:"dd-MM-yyyy hh:mm"});g.push(k)}b.categories=g;f=e.value;g=f.length;h={};h.name=e.yname[0];h.data=[];for(e=0;e<g;e++)h.data.push(Number(f[e]));b.data.push(h)}return b}};"object"==typeof CKEDITOR&&(CKEDITOR.editorConfig=function(a){a.language="vi";a.height=300;a.toolbarCanCollapse=!0;a.allowedContent=!0;a.bodyClass="content column";a.contentsCss="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css"});
"object"==typeof CKEDITOR&&(CKEDITOR.editorConfig=function(a){a.language="vi";a.height=300;a.toolbarCanCollapse=!0;a.allowedContent=!0;a.bodyClass="document-editor content has-padding-1-rem";a.contentsCss="/static/production/shinobi_2.css"});
shinobi.coreapi={logo:'<span class="title is-2">CFV</span>',lotteryResultApi:"/api/LotteryResultApi/",lotteryStatisticApi:"/api/LotteryStatisticApi/",userApi:"/api/UserApi/",menuNotiApi:"/authenapi/MenuNotiApi/",productApi:"/api/ProductApi/",getSessionIdApi:"/authenapi/userapi/",getLoggedUser:function(){shinobi.coreapi.checkAuthen()},checkAuthen:function(a){shinobi.cacheapi.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):
a(!1))})},checkNotCacheAuthen:function(a){shinobi.api.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):a(!1))})},requestAuthen:function(a){shinobi.coreapi.checkAuthen(function(b){"function"==typeof a&&(b?a(b):shinobi.notification.notification.error("Vui l\u00f2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 thao t\u00e1c"))})},reCheckAuthen:function(a){var b=shinobi.coreapi.userApi+"checkAuthen";"object"==typeof shinobi.cacheapi.cache&&
shinobi.cacheapi.clearKey(b);shinobi.coreapi.checkAuthen(a)},getSessionId:function(a){shinobi.api.request(shinobi.coreapi.systemUserApi+"getSessionId",JSON.stringify({}),function(b){"function"==typeof a&&(b=JSON.parse(b),b.hasOwnProperty("sessionid")?-1!=b.sessionid?a(b.sessionid):a(!1):a(!1))})},getUserInfo:function(a){shinobi.coreapi.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.userApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})},
getLoggedUserInfo:function(a){shinobi.coreapi.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})}};
shinobi.datalist=function(){var a=function(a){this.url=this.loadingContainer="";this.colNames=[];this.filters=[];this.staticfilters=[];this.sorts=[];this.paramsList="";this.staticsorts=[];this.renders=[];this.tableRows=[];this.pageNum=1;this.rowTotal=this.pageTotal=this.recordPerPage=10;this.tableNode=document.getElementById(a);this.tableContainerNode=this.tableNode.parentNode;this.sampleNode=this.tableNode.querySelector("[snb-datalist-parent="+this.tableNode.getAttribute("snb-datalist-node")+"]");
this.pageNumNode=this.tableContainerNode.querySelector(".shinobi-pagination-curpage");this.recordPerPageNode=this.tableContainerNode.querySelector(".shinobi-recordperpage");this.getColnames=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-colname]"),d=[],e=0;e<b.length;e++)d[e]=b[e].getAttribute("snb-colname");return d};this.registerSorts=function(){for(var a=this.tableNode.querySelectorAll("[snb-sort]"),b=0;b<a.length;b++)this.registerSort(a[b])};this.registerPagination=function(){this.paginationContainer=
this.tableNode.parentNode.querySelector(".table-pagination")};this.updatePagination=function(a){shinobi.mapping.renderElement(this.paginationContainer,JSON.parse(a));if(JSON.parse(a).pageNum){var b=this.paginationContainer.querySelectorAll(".shinobi-pagination-curpage")[0];0==JSON.parse(a).pageTotal?b.value=0:b.value=JSON.parse(a).pageNum}};this.registerSort=function(a){var b=this;a.addEventListener("click",function(){var a=this.getAttribute("snb-sort");this.parentNode.getAttribute("snb-colname");
""===a?(this.setAttribute("snb-sort","asc"),this.innerHTML="<i class='fas fa-sort-up'></i>",this.classList.add("is-visible")):"asc"===a?(this.setAttribute("snb-sort","desc"),this.innerHTML="<i class='fas fa-sort-down'></i>",this.classList.add("is-visible")):(this.setAttribute("snb-sort",""),this.innerHTML="<i class='fas fa-sort'></i>",this.classList.remove("is-visible"));b.reloadApi(b.pageNum)})};this.getSorts=function(){this.sorts=[];this.sorts=this.sorts.concat(this.staticsorts);for(var a=this.tableNode.querySelectorAll("[snb-sort]"),
b=0;b<a.length;b++){var e=a[b],f=e.parentNode.getAttribute("snb-colname");e=e.getAttribute("snb-sort");if(""!==e){var g={};g.colname=f;g.value=e;this.sorts.push(g)}}};this.registerHeaders=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-header-control]"),d=0;d<b.length;d++)this.registerHeader(b[d])};this.registerHeader=function(a){var b=this;a.addEventListener("dblclick",function(){if(3==this.childNodes[0].nodeType)if(null!==this.querySelector("input"))b.removeFilterControls(this),
b.resetPageNum(),b.reloadApi(b.pageNum);else{var a=document.createElement("select");b.addFilterToElement(a,this);var c=document.createElement("input");c.setAttribute("type","text");c.setAttribute("value","");c.style.width=this.offsetWidth+"px";this.appendChild(document.createElement("br"));this.appendChild(a);this.appendChild(c)}});a.addEventListener("keyup",function(a){13===a.keyCode&&(""==this.querySelector("input").value&&b.removeFilterControls(this),b.resetPageNum(),b.reloadApi(b.pageNum))})};
this.removeFilterControls=function(a){var b=a.querySelector("br"),c=a.querySelector("select"),f=a.querySelector("input");a.removeChild(b);a.removeChild(c);a.removeChild(f)};this.resetPageNum=function(){this.pageNum=1;this.pageNumNode.value=1};this.addFilterToElement=function(a,b){if("number"===b.getAttribute("snb-datatype")){b=["=",">",">=","<","<="];var c=["equal",">",">=","<","<="]}else b=["=","like"],c=["equal","like"];for(var d=0;d<b.length;d++){var g=document.createElement("option");g.text=b[d];
g.value=c[d];a.appendChild(g)}};this.registerRecordPerPage=function(){var a=this;this.recordPerPageNode.addEventListener("change",function(){a.resetPageNum();a.reloadApi(a.pageNum)})};this.registerPrevPagination=function(){var a=this.tableNode.parentNode,b=this;a.querySelector(".shinobi-pagination-prev").addEventListener("click",function(){var c=a.querySelector(".shinobi-pagination-curpage"),d=c.value;1<d&&(--d,c.value=d,b.reloadApi(d))})};this.registerNextPagination=function(){var a=this.tableNode.parentNode,
b=this;a.querySelector(".shinobi-pagination-next").addEventListener("click",function(){var c=a.querySelector(".shinobi-pagination-curpage"),d=Number(c.value);d<b.pageTotal&&(d+=1,c.value=d,b.reloadApi(d))})};this.registerCurrentPageEvent=function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage"),b=this;a.addEventListener("keyup",function(c){13===c.keyCode&&(c=Number(a.value),0<c&&c<=b.pageTotal&&b.reloadApi(c))})};this.registerPagination();this.registerPrevPagination();
this.registerNextPagination();this.registerCurrentPageEvent();this.registerRecordPerPage();this.viewDetailPanelId="";this.renderTable=function(a,b,e){var c=this,d=this.tableNode.getAttribute("snb-datalist-node");c.clear();var h=this.tableNode.querySelector("[snb-datalist-parent="+d+"]");h&&c.tableNode.removeChild(h);h=c.sampleNode;if(e&&e.hasOwnProperty("lazyload")&&1==e.lazyload){var k=e.hasOwnProperty("lazyloadSplitDataLength")?e.lazyloadSplitDataLength:20;d=e.hasOwnProperty("lazySplitDataInterval")?
e.lazySplitDataInterval:20;c.insertListInterval=setInterval(function(){if(a.length<k){var b=a;a=[]}else b=a.splice(0,k);c.renderTableListData(b,h,e);0==a.length&&clearInterval(c.insertListInterval)},d)}else c.renderTableListData(a,h);0==a.length&&(c.tableNode.innerHTML="<i>Ch\u01b0a c\u00f3 d\u1eef li\u1ec7u</i>");"function"===typeof b&&b()};this.renderTableListData=function(a,b,e){for(var c=0;c<a.length;c++){var d=b.cloneNode(!0),h=a[c];d.setAttribute("rowid",c);shinobi.mapping.renderElement(d,h);
e&&e.hasOwnProperty("insertType")?"start"==e.insertType?this.tableNode.insertBefore(d,this.tableNode.firstElementChild):this.tableNode.appendChild(d):this.tableNode.appendChild(d)}};this.initLoadApi=function(a,b,e){this.loadingContainer="TBODY"==this.tableNode.tagName?this.tableContainerNode:this.tableNode;this.loadingContainer.classList.add("snb-datalist-item-container");var c=this;b.pageNum=1;this.filters=this.filters.concat(this.staticfilters);this.sorts=this.sorts.concat(this.staticsorts);b.filters=
this.filters;b.sorts=this.sorts;""!=this.paramsList&&(b.paramsList=this.paramsList);c.loading();shinobi.api.request(a,JSON.stringify(b),function(b){var d=JSON.parse(b),f=d.data;c.url=a;c.rowTotal=d.rowTotal;c.pageNum=d.pageNum;c.recordPerPage=d.recordPerPage;c.pageTotal=d.pageTotal;c.tableRows=f;c.loaded();c.renderTable(f,e);c.updatePagination(b)})};this.reloadApi=function(a,b){var c=this;this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;var d={};d.recordPerPage=
this.recordPerPage;d.pageNum=a?a:this.pageNum;d.filters=this.filters;d.sorts=this.sorts;""!=this.paramsList&&(d.paramsList=this.paramsList);c.loading();shinobi.api.request(this.url,JSON.stringify(d),function(a){var d=JSON.parse(a),e=d.data;c.rowTotal=d.rowTotal;c.pageNum=d.pageNum;c.recordPerPage=d.recordPerPage;c.pageTotal=d.pageTotal;c.tableRows=e;c.pageNum<=c.pageTotal||0==c.pageTotal&&1==c.pageNum?(c.loaded(),c.renderTable(e,b),c.updatePagination(a)):c.reloadApi(c.pageTotal)})};this.loading=function(){""!=
this.sampleNode&&this.sampleNode.classList.add("is-hidden");this.changeState("loading")};this.loaded=function(){""!=this.sampleNode&&this.sampleNode.classList.remove("is-hidden");this.changeState("loaded")};this.changeState=function(a){var b=document.querySelector(".button.is-primary");b=b?shinobi.util.getComputedProperty(b,"background-color"):"#555";var c=document.createElement("style");c.setAttribute("class","table-node-loading-inline-style");c.innerHTML=".is-borderless{\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t@-webkit-keyframes spin {\n\t\t\t\t0% {\n\t\t\t\t\t-webkit-transform: rotate(0deg);\n\t\t\t\t}\n\t\t\n\t\t\t\t100% {\n\t\t\t\t\t-webkit-transform: rotate(360deg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t@keyframes spin {\n\t\t\t\t0% {\n\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t}\n\t\t\n\t\t\t\t100% {\n\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading {\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 5rem;\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading::before {\n\t\t\t\tposition: absolute;\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tbackground: #ddd;\n\t\t\t\tz-index: 1;\n\t\t\t\topacity: 0.3;\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading::after {\n\t\t\t\tposition: absolute;\n\t\t\t\tcontent: '';\n\t\t\t\tborder: 7px solid white;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tborder-top: 7px solid "+
b+";\n\t\t\t\twidth: 4rem;\n\t\t\t\theight: 4rem;\n\t\t\t\t-webkit-animation: spin 2s linear infinite;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t\tleft: calc(48% - 8px);\n\t\t\t\ttop: calc(48% - 8px);\n\t\t\t\tz-index: 2;\n\t\t\t}\n\t\t\t";this.tableNode.appendChild(c);"loading"==a?this.loadingContainer.classList.add("is-loading"):this.loadingContainer.classList.remove("is-loading")};this.clear=function(){clearInterval(this.insertListInterval);for(var a=this.tableNode;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(this.sampleNode)};this.updatePageTotal=function(){var a=this.tableNode.parentNode;a.querySelector(".shinobi-page-total").innerHTML=this.pageTotal;this.pageNum>this.pageTotal&&(this.pageNum=this.pageTotal,a.querySelector(".shinobi-pagination-curpage").value=this.pageNum)};this.getRowObject=function(a){return this.tableRows[a]};this.getTableFilters=function(){var b=document.getElementById(a).querySelectorAll("[snb-header-control] > input");this.filters=[];this.filters=this.filters.concat(this.staticfilters);
this.pageNum=1;for(var d=0;d<b.length;d++){var e=b[d],f=e.value;e=e.parentNode;var g=e.querySelector("select");g=g.options[g.selectedIndex].value;var h={};h.colname=e.getAttribute("snb-colname");h.operator=g;h.value=f;""!==f&&this.filters.push(h)}};this.viewDetailRender=function(a,b,e,f){b=document.createElement("a");b.setAttribute("class","button is-small");b.innerHTML="<span class='icon'> <i class='fa fa-search'></i></span>";a.appendChild(b);e=a.getAttribute("rowid");var c=a.parentNode.getAttribute("snb-detailid"),
d=f[e];b.addEventListener("click",function(){shinobi.mapping.render("#"+c,JSON.stringify(d))})}};a.staticmethod={hello:function(){}};return a}();
shinobi.dynamicchart=function(){return function(a,b){this.options=b;this.configChartId="";this.chartId=a;this.isLoadChartData=!1;this.chartData={};this.isLoadConfigData=!1;this.structureContent={};this.chartStructure="";this.chartStructureContent={};this.configData={};this.callback="";this.chartRenderObject={credits:{enabled:!1}};this.loadOptions=function(){this.options.configChartId&&(this.configChartId=this.options.configChartId);this.options.callback&&(this.callback=this.options.callback);this.loadDataChart()};
this.loadDataChart=function(){var a=this;if(this.options.getData){this.isLoadChartData=!1;var b=this.options.getData.url,e=JSON.stringify(this.options.getData.request),f=this.options.getData.callback;shinobi.api.request(b,e,function(b){f(b,function(b){a.isLoadChartData=!0;a.chartData=b})})}this.loadConfigChart()};this.loadConfigChart=function(){var a=this,b=this.options;if(b.getConfig)var e=setInterval(function(){if(1==a.isLoadChartData){clearInterval(e);a.isLoadConfigData=!1;var c=b.getConfig.url,
d=JSON.stringify(b.getConfig.request),h=b.getConfig.callback;shinobi.cacheapi.request(c,d,function(b){h(b,function(b){a.isLoadConfigData=!0;a.structureContent=b})})}},100);this.renderChart()};this.renderChart=function(){var a=this,b=setInterval(function(){1==a.isLoadChartData&&1==a.isLoadConfigData&&(clearInterval(b),a.buildRenderChartObject(),a.reRender(),"function"==typeof a.createChartCallback&&a.createChartCallback())},100)};this.reRender=function(){Highcharts.chart(this.chartId,this.chartRenderObject)};
this.buildRenderChartObject=function(){this.chartStructure=this.structureContent.charttemplatecontent;this.chartStructureContent=JSON.parse(this.structureContent.chartdetailcontent);this.configData=this.chartStructure;this.fillStructureContent();this.fillConfigAttributeValue();this.fillRenderObjectConfigAttribute()};this.convertStringFunctionToFuntion=function(a){for(var b=Object.entries(a),c=0;c<b.length;c++){var f=b[c][0],g=b[c][1];"object"==typeof g?a[f]=this.convertStringFunctionToFuntion(g):
"string"==typeof g&&-1<g.indexOf("function()")&&(a[f]=eval("("+g+")"))}return a};this.fillStructureContent=function(){var a=/[@{{}}]/g,b=this.configData.match(/@{{.*?\}}/g);if(b)for(var e=0;e<b.length;e++){var f=b[e].replace(a,"");f=this.chartStructureContent[f];f=this.getMappingValue(f);this.configData=this.configData.replace(new RegExp(b[e],"g"),f)}};this.fillConfigAttributeValue=function(){var a=/[#{{}}]/g,b=this.configData.match(/#{{.*?\}}/g);if(b)for(var e=0;e<b.length;e++){var f=b[e].replace(a,
"");f=this.chartData[f];f=this.getMappingValue(f);this.configData=this.configData.replace(new RegExp(b[e],"g"),f)}};this.getMappingValue=function(a){switch(typeof a){case "string":var b='"'+a+'"';break;case "object":b=JSON.stringify(a)}return b};this.fillAttributeValue=function(a){if("object"==typeof a)for(var b=Object.entries(a),c=0;c<b.length;c++){var f=b[c][0],g=b[c][1];switch(typeof g){case "object":this.fillAttributeValue(a[f]);break;case "string":var h=/[#{{}}]/g,k=g.match(/#{{.*?\}}/g);if(k&&
1==k.length&&g==k[0]){var l=k[0].replace(h,"");a[f]=this.chartData[l]}else if(k)for(var m=0;m<k.length;m++)l=k[m].replace(h,""),g=g.replace(new RegExp(k[m],"g"),this.chartData[l]),a[f]=g}}};this.fillRenderObjectConfigAttribute=function(){var a=JSON.parse(this.configData);a=this.convertStringFunctionToFuntion(a);a=Object.entries(a);for(var b=0;b<a.length;b++)this.chartRenderObject[a[b][0]]=a[b][1]};this.createChart=function(a){this.loadOptions();this.createChartCallback=a}}}();
var publicAccountLink="/page/account/",ratingDetailLink="/page/ratingdetail/",blogPostPageUrl="/page/blogpost/",adminPostCheckPageUrl="/system/adminpostcheckdetail/",beginDateDatalist="2019-01-01",endDateDatalist="2100-01-01",blogIconImageLink="/static/image/blogicon.svg",copyTradeIconImageLink="/static/image/copytradeicon.svg",aladinLogo="/static/image/aladin.svg",groupAvatar="https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/groupchatavatar.png",format=function(a){return Number(a).format(0,
3,",",".")},formatInputTagDatalist=function(a,b){a.value=format(b)},formatNumberTable=function(a,b,c,d){b=a.innerHTML;a.innerHTML="";formatInputTagDatalist(a,b)},cancelModal=function(a){document.getElementById(a).classList.remove("is-active")},renderPriceOrderTable=function(a,b,c){},renderRoomAvatarDataList=function(a,b){""==b.trim()?a.setAttribute("src",groupAvatar):a.setAttribute("src",b)},getCheckBoxList=function(a){var b=a.getAttribute("snb-key");a=a.getAttribute("snb-value-attr");b=document.querySelectorAll("[snb-key="+
b+"]");for(var c=[],d=0;d<b.length;d++)b[d].checked&&"checkbox"==b[d].getAttribute("type")&&c.push(b[d].getAttribute(a));return c.toString()},getNation=function(a){return a.getElementsByTagName("select")[0].value},renderProvinceList=function(a,b){var c=document.getElementById(a);shinobi.aladinUtil.removeAllChild(c);shinobi.api.request("/api/VietNamLocationNameApi/getAllVietNamProvince",JSON.stringify({}),function(a){a=JSON.parse(a);for(var d=0;d<a.length;d++){var f=document.createElement("option");
f.setAttribute("value",a[d].provinceid);f.innerHTML=a[d].provincename;c.appendChild(f)}c.value="79";"function"==typeof b&&b()});return c},getCheckRadio=function(a){var b=a.getAttribute("snb-value-attr");if(a.checked)return a.getAttribute(b)},removeAllChild=function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);b&&b()},getAllUserInfo=function(a,b){var c=a.username.toString();shinobi.global||(shinobi.global={});shinobi.global.getAllUserInfo||(shinobi.global.getAllUserInfo={});shinobi.global.getAllUserInfo[c]?
b(shinobi.global.getAllUserInfo[c]):0==shinobi.global.getAllUserInfo[c]?setTimeout(function(){getAllUserInfo(a,b)},10):(shinobi.global.getAllUserInfo[c]=!1,shinobi.api.request("/api/UserApi/getAllUserInfo",JSON.stringify(a),function(a){shinobi.global.getAllUserInfo[c]=a;b(a)}))},displayResultSelect=function(a){a=document.getElementById(a);var b=[],c;for(c=0;c<a.length;c++)b.push(a.options[c].value);return b},customRecordPerPagePagination=function(a,b){a=a.getElementsByClassName("shinobi-recordperpage")[0].getElementsByTagName("option");
for(var c=0;c<a.length;c++){var d=(parseInt(c)+1)*b;a[c].innerHTML=d;a[c].value=d}},renderStockCompanyDeleteStaffButton=function(a,b){var c=a.querySelectorAll("[snb-key=username]")[0].innerHTML,d=window.localStorage.getItem("loggedUserName");c==d?a.innerHTML="":a.onclick=function(){er.confirm(function(){var c={};c.id=b;shinobi.api.request("/authenapi/StockComStaffManagementApi/deleteStaffFromGroup",JSON.stringify(c),function(b){"update success"==b&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),
a.parentNode.remove())})})}},gotoPublicPage=function(a,b){if(b.homepageurl){var c=publicAccountLink+b.homepageurl;a.classList.add("has-redirect");a.onclick=function(){window.location.href=c}}},renderHasFee=function(a,b,c,d){b=d[b];c=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b="false"==c?shinobi.language.free:1==b.hasOwnProperty("feeamount")?shinobi.aladinUtil.formatNumberValue(b.feeamount)+" \u0111":"C\u00f3 ph\u00ed";a.innerHTML=b},renderPostType=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);
b=shinobi.aladinUtil.convertPostTypeToVn(b);a.innerHTML=b},renderFullName=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);a.innerHTML=b},renderFirstNameLastName=function(a,b,c,d){var e=a.innerHTML;removeAllChild(a,function(){buildFirstNameLastNameDatalist(a,e)})},renderStockCompanyTreeTable=function(a,b){a.classList.add("level-"+b);1==b&&a.parentNode.parentNode.parentNode.classList.remove("is-hidden");var c=a.parentNode.getElementsByClassName("open-button")[0],d=a.parentNode.getElementsByClassName("close-button")[0];
2==b&&(c.classList.add("is-hidden"),d.classList.add("is-hidden"));var e=document.getElementById("dataTable");c.onclick=function(){var a=this.getAttribute("childrenid");this.classList.add("is-hidden");d.classList.remove("is-hidden");for(var b=e.querySelectorAll("[snb-key=parentid]"),c=0;c<b.length;c++)b[c].innerHTML==a&&b[c].parentNode.classList.remove("is-hidden")};d.onclick=function(){var a=this.getAttribute("childrenid");this.classList.add("is-hidden");c.classList.remove("is-hidden");for(var b=
e.querySelectorAll("[snb-key=parentid]"),d=0;d<b.length;d++)b[d].innerHTML==a&&(b[d].parentNode.classList.add("is-hidden"),b[d].parentNode.getElementsByClassName("close-button")[0].click(),b[d].parentNode.getElementsByClassName("open-button")[0].classList.add("is-hidden"))}},renderStockCompanyTraderRegistrationInfo=function(a,b){b=JSON.parse(b);var c=a.getAttribute("snb-key-subkey");b[c]&&(a.innerHTML=b[c])},renderPostTitle=function(a,b,c,d){c=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=d[b];
d=document.createElement("a");d.setAttribute("class","has-link");d.innerHTML=c;a.appendChild(d);b.hasOwnProperty("posturl")&&d.setAttribute("href",b.posturl)},renderCheckRadio=function(a,b){a=a.getAttribute("snb-value-attr");document.querySelectorAll("["+a+"="+b+"]")[0].checked=!0},seenDetailOpenAccountForm=function(a,b){a.onclick=function(){shinobi.stockcomrealaccountregistrationrender.getDetailData(b,function(a){document.getElementById("openAccountDetailModal").classList.add("is-active");shinobi.mapping.render("#openAccountDetailModal",
JSON.stringify(a));document.getElementById("acceptPoliciesOpenTradingAccount").checked=!0})}},renderCheckBoxList=function(a,b){a=a.getAttribute("snb-value-attr");b=b.split(",");for(var c=0;c<b.length;c++)document.querySelectorAll("["+a+"="+b[c]+"]")[0].checked=!0},renderNation=function(a,b){a.getElementsByTagName("select")[0].value=b},removeOpenAccountFormButton=function(a,b){a.onclick=function(){shinobi.stockcomrealaccountregistrationrender.showConfirmRemoveModal(function(c){shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(a,
b,"FAIL",c)})}},acceptOpenAccountFormButton=function(a,b){a.onclick=function(){er.confirm(function(){shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(a,b,"FINISHED","")})}},renderDate=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy");a.setAttribute("class","date-time");a.innerHTML=b},renderFormatDate=function(a,b){var c=a.getAttribute("snb-format");b=shinobi.aladinUtil.getFormatDate(b,c);a.classList.add("date-time");
a.innerHTML=b},renderDateTime=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy hh:mm");a.setAttribute("class","date-time");a.innerHTML=b},getExpiredDate=function(a,b){return shinobi.aladinUtil.remainDateWithCurrentDate(b)},renderJoinDateDatalist=function(a,b){a.innerHTML=getExpiredDate(a,b)},renderExpireddateDatalist=function(a,b){a.innerHTML=b?"<p>C\u00f2n "+getExpiredDate(a,b)+" ng\u00e0y n\u1eefa</p>":"D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed "},
convertRatingPointToStar=function(a,b){a.innerHTML=b/2},buildRating=function(a,b){a.classList.add("is-flex");var c=b/=2;5<b&&(c=5);if(0>b||0==b)c=0;b="";for(var d=0;d<c;d++)b+='<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';for(d=0;d<5-c;d++)b+='<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';a.innerHTML=b},convertFequency=function(a){switch(a){case "MONTHLY":var b="1 Th\u00e1ng";break;case "QUATERLY":b="3 Th\u00e1ng";break;case "HALF_YEAR":b=
"6 Th\u00e1ng";break;case "ANNUALLY":b="12 Th\u00e1ng"}return b},renderFequencyDatalist=function(a,b){b=convertFequency(b);a.innerHTML=b},renderInfoButton=function(a,b){var c=document.createElement("a");c.setAttribute("class","button is-info is-small ");c.innerHTML=b;a.appendChild(c)},addUserOriginLogo=function(a,b){if(b.userorigin&&!a.parentNode.parentNode.querySelector(".table-logo")&&"ALADIN_MEMBER"!=b.userorigin&&1==b.isshoworiginavatar){var c=aladinLogo,d=document.createElement("p");d.setAttribute("class",
"stock-company-image ");a.parentNode.appendChild(d);a.parentNode.classList.add("stock-company-chat-avatar-container");a=document.createElement("img");d.appendChild(a);a.setAttribute("class","table-logo");switch(b.userorigin){case "DAS_STOCK_COMPANY":c="/static/image/daslogo.png"}a.setAttribute("src",c)}},buildAvatarDatalist=function(a,b){var c=document.createElement("p");a.parentElement&&(a.parentElement.insertBefore(c,a),c.appendChild(a));if("system"==b)a.setAttribute("src","/static/image/aladin.svg");
else{c={};c.username=b;var d;getAllUserInfo(c,function(c){d=JSON.parse(c);b=d.avatarlink?d.avatarlink:"https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg";a.parentNode.classList.add("has-text-centered");a.setAttribute("src",b);a.setAttribute("title",d.firstname+" "+d.lastname);addUserOriginLogo(a,d);gotoPublicPage(a,d)})}},getHeaderRenderKey=function(a,b,c){return(a=a.parentElement.parentElement.parentElement.getElementsByTagName("thead")[0])?(c=
a.rows[0].cells[c],c.hasAttribute("snb-colname")?c.getAttribute("snb-colname"):null):null},buildNickIdTable=function(a,b,c,d){c=getHeaderRenderKey(a,b,c);a.innerHTML='<div snb-key="'+c+'" snb-render="buildNickIdDatalist"></div>';shinobi.mapping.renderElement(a,d[b])},buildConnectButton=function(a,b,c,d){b=d[b];c=document.createElement("a");c.setAttribute("class","button is-link is-small");c.innerHTML="Ti\u1ebfp c\u1eadn";shinobi.aladinUtil.removeAllChild(a);a.appendChild(c);shinobi.investorlistingrender.addEventFollowButton(c,
b.username)},renderCellTable=function(a,b,c,d){shinobi.fragmenttraderfollowerrender.renderCellFollowerTable(a,c)},renderLimitButton=function(a,b,c){var d=a.innerHTML;a.innerHTML="";shinobi.fragmenttraderfollowerrender.renderLimitButtonFunction(a,b,c,d)},formatNumber=function(a,b,c){shinobi.aladinUtil.formatNumberRender(a,b,c)},buildNickIdDatalist=function(a,b){if("system"!=b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);b=document.createElement("span");b.setAttribute("class",
"icon has-text-orange create-public-chat-icon tooltip is-hidden");b.setAttribute("data-tooltip","Tr\u00f2 chuy\u1ec7n");b.innerHTML='<i class="far fa-comment-dots fa-lg"></i>';er.buildPublicChat(b,d.id);a.appendChild(b);b=document.createElement("span");b.classList.add("id-nick-container");b.innerHTML="#"+d.id;a.appendChild(b)})}},buildAvatarDatalistNoHref=function(a,b){var c=document.createElement("p");c.classList.add("margin-right-1rem");a.parentElement&&(a.parentElement.insertBefore(c,a),c.appendChild(a));
if("system"==b)a.setAttribute("src","/static/image/aladin.svg");else{c={};c.username=b;var d;getAllUserInfo(c,function(c){d=JSON.parse(c);d=JSON.parse(c);b=d.avatarlink?d.avatarlink:"https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg";a.setAttribute("src",b);a.setAttribute("title",d.firstname+" "+d.lastname);addUserOriginLogo(a,d)})}},buildHomePageUrlDatalist=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);
if(d.homepageurl){var c=publicAccountLink+d.homepageurl;a.innerHTML=window.location.host+c;a.onclick=function(){window.location.href=c}}})},buildFirstNameLastNameDatalist=function(a,b){if("system"!=b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);d=JSON.parse(b);a.innerHTML=d.firstname+" "+d.lastname;gotoPublicPage(a,d)})}},renderStockCompanyUpgradeRequestCommandButton=function(a,b){a.onclick=function(){er.confirm(function(){var c=a.getAttribute("snb-function"),d={};d.requestid=
b;shinobi.api.request("/authenapi/RequestUpgradeTraderOfStockCompanyApi/"+c,JSON.stringify(d),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),shinobi.stockcomtradersregistrationrender.datalist1.reloadApi(1))})})}},renderStockCompanyCustomerManagementButton=function(a,b){a.setAttribute("href","/private/stockcomtradersmanagementcustomer/"+b)},renderGoToPublicPageDatalist=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=
JSON.parse(b);gotoPublicPage(a,d)})},buildFirstNameLastNameDatalistNoHref=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);a.innerHTML=d.firstname+" "+d.lastname})},renderAvatar=function(a,b,c){var d=a.innerHTML;removeAllChild(a,function(){var b=document.createElement("img");b.setAttribute("class","table-avatar");a.appendChild(b);buildAvatarDatalist(b,d)})},renderInvestingStrategy=function(a,b){""==b.trim()?a.innerHTML="Hi\u1ec7n ch\u01b0a c\u00f3!":400<b.length?
(a.innerHTML=b.slice(0,400)+"...",b=document.createElement("a"),b.setAttribute("class","local-color"),b.innerHTML="[Xem th\u00eam]",a.appendChild(b)):a.innerHTML=b},renderInvestingPeriodDataList=function(a,b){switch(b.trim()){case "MONTH_1":a.innerHTML="1 Th\u00e1ng";break;case "MONTH_1_3":a.innerHTML="1-3 Th\u00e1ng";break;case "MONTH_3_6":a.innerHTML="3-6 Th\u00e1ng";break;case "MONTH_6_12":a.innerHTML="6-12 Th\u00e1ng";break;case "YEAR_1_3":a.innerHTML="1-3 N\u0103m";break;case "YEAR_OVER_3":a.innerHTML=
"H\u01a1n 3 N\u0103m"}},renderInvestingPeriod=function(a,b,c){b=a.innerHTML;removeAllChild(a);renderInvestingPeriodDataList(a,b)},renderFormatNumber=function(a,b,c){a.innerHTML=Number(a.innerHTML).format(0,3,",",".")},renderInvestingRisk=function(a,b,c){b=a.innerHTML;a.innerHTML='<div class="level width-50" ><input class="slider slider-width level-item" step="1" min="1" max="10" value="'+b+'" type="range" disabled="disabled"><span class="slider-value-padding level-item"> '+b+"/10</span></div>"},renderHomePageUrl=
function(a,b){b=publicAccountLink+b;a.setAttribute("href",b);a.innerHTML=window.location.host+b},autoRedirectMobile=function(){var a=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(a)&&(window.location.href="https://play.google.com/store/apps/details?id=com.aladinmobile.aladin");/iPhone|iPod/.test(a)&&!window.MSStream&&(window.location.href="https://apps.apple.com/app/id1474783146")},setHrefElem=function(a,b){a.style.cursor="pointer";var c=a.innerHTML;c&&a.setAttribute("title",
c.replace(/\s+/g," "));a.onclick=function(){window.location.href=b}},renderHref=function(a,b,c){setHrefElem(a,b)},renderHrefWithUserType=function(a,b,c){c=window.localStorage.getItem("loggedUserType");b="stock_com_admin"==c?"/private/stockcom"+b:"/private/"+c+b;if(a.hasAttribute("rs-hidden-with")){var d=a.getAttribute("rs-hidden-with");c==d&&a.classList.add("is-hidden")}a.hasAttribute("rs-parent-show-with")&&(d=a.getAttribute("rs-parent-show-with"),c==d&&a.parentNode.classList.remove("is-hidden"));
setHrefElem(a,b)},renderDashboardLastOrderAvatar=function(a,b,c){b=1==b||2==b?window.localStorage.getItem("loggedUserName"):b;buildAvatarDatalist(a,b)},renderDashboardLastOrderFullName=function(a,b){b=1==b||2==b?window.localStorage.getItem("loggedUserName"):b;buildFirstNameLastNameDatalist(a,b)},renderOrderSideDataList=function(a,b){a.innerHTML="S"==b?"B\u00e1n":"Mua"},getNumberOfSessionBack=function(a){var b=1;switch(a){case "ONE_DAY":b=1;break;case "ONE_WEEK":b=5;break;case "ONE_MONTH":b=20;break;
case "THREE_MONTH":b=60;break;case "SIX_MONTH":b=120;break;case "ALL_TIME":b=1E5}return b},renderChartAnalysisSimpleDatalist=function(a,b){var c={};c.account__0__String=b;c.numberofsessionback__1__int=Number(Number(getNumberOfSessionBack(shinobi.investortraderlistingcontentheaderrender.currentTab))+1).toString();b={};b.chartParams=c;shinobi.api.request("/api/AladinChartApi/getChartData/ACCOUNT_ASSET_CHART",JSON.stringify(b),function(b){b=JSON.parse(b);b=shinobi.chartadapter.convertDataSimpleChart(b);
(new shinobi.overviewareachart(a)).createOverviewAreaChart(a,"8rem","12rem",b)})},customStylePagination=function(a){a.parentNode.getAttribute("pagi-style");a.getElementsByClassName("set-pagination-record-number-container")},renderChexbox=function(a,b,c,d){var e=a.innerHTML;a.innerHTML="";c=document.createElement("p");c.setAttribute("class","has-text-centered");["PENDING","PARTIAL_MATCHED"].includes(e)&&(e=document.createElement("input"),e.setAttribute("type","checkbox"),e.setAttribute("snb-key-checkbox",
d[b].systemorderid),c.appendChild(e),a.appendChild(c))},getUserInfo=function(a){shinobi.cacheapi.request("/authenapi/SystemUserApi/getInfoLogin",JSON.stringify({}),function(b){console.log(b);b=JSON.parse(b);a&&a(b)})},getUserInfoNotCache=function(a){shinobi.capi.request("/authenapi/SystemUserApi/getInfoLogin",JSON.stringify({}),function(b){console.log(b);b=JSON.parse(b);a&&a(b)})},getRecordNumber=function(a){a=a?document.getElementById(a).nextElementSibling.getElementsByClassName("table-pagination")[0]:
document.getElementById("table-pagination");var b=a.parentNode;b=b.hasAttribute("record-num")?b.getAttribute("record-num"):a.getElementsByClassName("shinobi-recordperpage")[0].value;customRecordPerPagePagination(a,b);customStylePagination(a);return b},setHrefHomePageUrl=function(a,b){renderHref(a,ratingDetailLink+b)},renderDetailRatingPage=function(a,b){a.innerHTML="Chi ti\u1ebft \u0111\u00e1nh gi\u00e1";a.classList.add("has-link");setHrefHomePageUrl(a,b)},renderDashboardRatingDetailLink=function(a,
b,c){b=window.localStorage.getItem("loggedUserHomePage");setHrefHomePageUrl(a,b)},addColorElem=function(a,b,c){c=a.innerHTML;0<b&&(a.innerHTML='<span class="up-value">'+c+"</span>");0==b&&(a.innerHTML='<span class="unchange-value">'+c+"</span>");0>b&&(a.innerHTML='<span class="down-value">'+c+"</span>")},renderPercent=function(a,b,c){a.innerHTML=b+"%";addColorElem(a,b,c)},renderPercentNoColor=function(a,b,c){a.innerHTML=b+"%"},renderProfitPercent=function(a,b,c){renderPercent(a,b,c)};
renderProfitpercent100NoColorTable=function(a,b,c,d){c=a.innerHTML;a.innerHTML="";a.classList.add("has-text-right");renderProfitpercent100NoColor(a,c,d[b])};
var renderProfitpercent100Table=function(a,b,c,d){c=a.innerHTML;a.innerHTML="";a.classList.add("has-text-right");renderProfitpercent100(a,c,d[b])},renderProfitpercent100=function(a,b,c){renderPercent(a,Math.round(1E4*Number(b))/100,c)},renderProfitpercent100NoColor=function(a,b,c){renderPercentNoColor(a,Math.round(1E4*Number(b))/100,c)},renderformatNumberDatalist=function(a,b,c){a.classList.add("has-text-right");a.innerHTML=format(b)},renderProfit=function(a,b,c){a.innerHTML=format(b);addColorElem(a,
b,c)},renderProfitPercentTable=function(a,b,c){a.classList.add("has-text-right");b=a.innerHTML;removeAllChild(a);renderProfitPercent(a,b)},renderOrderType=function(a,b,c,d){b=a.innerHTML;c={LO:"L\u1ec7nh th\u01b0\u1eddng",CONDITION:"L\u1ec7nh \u0111i\u1ec1u ki\u1ec7n",CANCEL:"H\u1ee7y l\u1ec7nh",EDIT:"S\u1eeda l\u1ec7nh "};a.classList.add("has-text-left");a.innerHTML=c[b]?c[b]:b},renderOrderTypeDatalist=function(a,b,c){c={LO:"L\u1ec7nh th\u01b0\u1eddng",CONDITION:"L\u1ec7nh \u0111i\u1ec1u ki\u1ec7n",
CANCEL:"H\u1ee7y l\u1ec7nh",EDIT:"S\u1eeda l\u1ec7nh "};a.classList.add("has-text-left");a.innerHTML=c[b]?c[b]:b},renderNumberPriceTable=function(a,b,c,d){renderNumberPrice(a,a.innerHTML,d[b])},renderNumberPrice=function(a,b,c){a.parentNode.classList.add("has-text-right");a.innerHTML=b},renderOrderBuy=function(a,b,c,d){a.classList.add("has-text-centered");b=a.innerHTML;c={BUY:"Mua",SELL:"B\u00e1n"};a.innerHTML=c[b]?c[b]:b},renderOrderTypeStatus=function(a,b,c,d){a.classList.add("has-text-left");b=
a.innerHTML;c={NEW:"M\u1edbi",INPROCESS:"\u0110ang x\u1eed l\u00fd",SUCCESS:"Th\u00e0nh c\u00f4ng",PENDING:"Ch\u1edd kh\u1edbp",MATCHED:"\u0110\u00e3 kh\u1edbp",EDITED:"\u0110\u00e3 s\u1eeda",CANCELED:"\u0110\u00e3 h\u1ee7y",ERROR:"L\u1ed7i"};a.innerHTML=c[b]?c[b]:b},renderStockPriceDatalist=function(a,b){a.innerHTML=b/1E3},renderStockPriceTable=function(a,b,c,d){renderStockPriceDatalist(a,a.innerHTML)},renderProfitTable=function(a,b,c){b=a.innerHTML;removeAllChild(a);renderProfit(a,b)},getUserNameInUrl=
function(a){var b=window.location.pathname.split("/"),c={};c.pageurl=b[b.length-1];shinobi.api.request("/api/UserApi/getUsernameFromHomePage",JSON.stringify(c),function(b){b=JSON.parse(b);if(b.username)window.localStorage.setItem("currentUserDetail",b.username),a(b.username);else return shinobi.notification.notification.error("Kh\u00f4ng t\u00ecm th\u1ea5y ng\u01b0\u1eddi d\u00f9ng!"),!1})},getPathnameSplitIndex=function(a){var b=window.location.pathname.split("/"),c;0>a&&(c=b[b.length+a]);"length"==
a&&(c=b.length);0<a&&(c=b[a]);return c},renderPublicUserAssetInfo=function(a,b){var c={};c.username=b;shinobi.api.request("/api/ViewUserPublicAssetApi/getUserPublicAssetInfo",JSON.stringify(c),function(b){b=JSON.parse(b);b=JSON.stringify(b);shinobi.mapping.render(a,b)})},renderPublicUserInfo=function(a,b){var c={};c.username=b;getAllUserInfo(c,function(b){b=JSON.parse(b);b=JSON.stringify(b);shinobi.mapping.render(a,b)})},getPublicUserInfo=function(a,b){var c={};c.username=a;getAllUserInfo(c,function(a){a=
JSON.parse(a);"function"==typeof b&&b(a)})},changeFeeType=function(a){switch(a){case "isfollowcopytrade":case "COPY_TRADE":a="Copy trade";break;case "TRAINING":a="\u0110\u00e0o t\u1ea1o";break;case "isfollowblog":case "INVESTING_BLOG":a="Blog \u0111\u1ea7u t\u01b0";break;case "EVENT":a="S\u1ef1 ki\u1ec7n";break;case "ORTHER":a="Ph\u00ed kh\u00e1c";break;case "TRADER_POST_FEE":a="Ph\u00ed b\u00e0i vi\u1ebft";break;case "COPY_TRADE_FREQUENT_FEE":a="Ph\u00ed CopyTrade";break;default:a="Ph\u00ed d\u1ecbch v\u1ee5 kh\u00f4ng x\u00e1c \u0111\u1ecbnh"}return a},
changeOrderStatus=function(a){switch(a){case "INPROCESS":a="Copy trade";break;case "TRAINING":a="\u0110\u00e0o t\u1ea1o";break;case "isfollowblog":case "INVESTING_BLOG":a="Blog \u0111\u1ea7u t\u01b0";break;case "EVENT":a="S\u1ef1 ki\u1ec7n";break;case "ORTHER":a="Ph\u00ed kh\u00e1c";break;case "TRADER_POST_FEE":a="Ph\u00ed b\u00e0i vi\u1ebft";break;case "COPY_TRADE_FREQUENT_FEE":a="Ph\u00ed CopyTrade";break;default:a="Ph\u00ed d\u1ecbch v\u1ee5 kh\u00f4ng x\u00e1c \u0111\u1ecbnh"}return a},renderFeeTypeDatalist=
function(a,b,c){b=changeFeeType(b);a.innerHTML=b},renderFeeTypeTable=function(a,b,c,d){b=a.innerHTML;a.innerHTML="";renderFeeTypeDatalist(a,b)},buildTransStatus=function(a,b,c,d){a.innerHTML=shinobi.aladinUtil.changeTransStatus(a.innerHTML);b=d[b];""!=b.orthercomment.trim()&&(c=document.createElement("span"),c.setAttribute("class","tooltip is-tooltip-multiline icon has-text-warning"),c.innerHTML='<i class="fas fa-exclamation-triangle"></i>',c.setAttribute("data-tooltip",b.orthercomment.trim()),a.appendChild(c))},
renderSettlementCode=function(a,b){a.innerHTML=b;b=a.parentNode.querySelectorAll("[snb-key=orderid]")[0].innerHTML;a=a.parentNode;var c=window.localStorage.getItem("loggedUserType");a.setAttribute("href","/private/"+c+"accountrequestserviceformmanage/"+b)},gotoOrderDetail=function(a,b){},renderAmountDatalist=function(a,b,c){a.innerHTML=0==b?shinobi.language.free:format(b)},removeAllClassListInList=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c].classList.remove(b[d])},addAllClassListInList=
function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c].classList.add(b[d])},renderCopyTradeActionDatalist=function(a,b,c){switch(b){case "AUTOMATICAL":var d="T\u1ef1 \u0111\u1eb7t l\u1ec7nh";break;case "MANUAL":d="Th\u00f4ng b\u00e1o \u0111\u1eb7t l\u1ec7nh"}a.innerHTML=d},goToPageFollowUserType=function(a,b){"investor"==window.localStorage.getItem("loggedUserType")?window.location.href=a:window.location.href=b},goToPageWithUserType=function(a,b,c,d){var e=window.localStorage.getItem("loggedUserType"),
f=b;c||d||(f="/private/"+e+b);c&&(f=c+f);d&&(f+=d);a.onclick=function(){window.location.href=f}},er={addEventDropdown:function(a){var b=document.getElementById(a);b.querySelector("[aria-controls=dropdown-menu]").onclick=function(){b.classList.toggle("is-active")}},buildPublicChat:function(a,b){er.checkAuthen(function(c){null==JSON.parse(c)?(a.classList.remove("is-hidden"),a.onclick=function(){shinobi.notification.notification.error(er.suggestLogin)}):"system"!=b&&JSON.parse(c).username!=b&&er.getPublicChatInfo(b,
function(c){c=JSON.parse(c);c.chatroom?(a.classList.remove("is-hidden"),a.setAttribute("roomid",c.chatroom.roomid)):"BLOCKED_STRANGER"!=c.contactstatus&&"NOT_TRADER_AND_INVESTOR"!=c.contactstatus?(a.setAttribute("inviteduser",b),a.classList.remove("is-hidden")):(a.classList.add("tooltip"),a.setAttribute("data-tooltip","Kh\u00f4ng th\u1ec3 chat v\u1edbi ng\u01b0\u1eddi d\u00f9ng ch\u1eb7n b\u1ea1n ho\u1eb7c b\u1ecb ch\u1eb7n"),a.classList.replace("has-text-orange","has-text-grey"),a.innerHTML='<i class="fa fa-comment-slash"></i>');
a.onclick=function(){this.hasAttribute("roomid")?er.activeChatRoom(this.getAttribute("roomid")):this.hasAttribute("inviteduser")&&er.createStrangerContactRoomChat(this,b)}})})},getPublicChatInfo:function(a,b){var c={};c.inviteduser=a;shinobi.api.request("/authenapi/ChatRoomManagementApi/getContactStatusInfo",JSON.stringify(c),function(a){"function"==typeof b&&b(a)})},createStrangerContactRoomChat:function(a,b){var c={};c.inviteduser=b;shinobi.api.request("/authenapi/ChatRoomManagementApi/createStrangerContactRoomChat",
JSON.stringify(c),function(b){b=JSON.parse(b);b.roomid&&(a.setAttribute("roomid",b.roomid),a.onclick())})},getValueBulmaCalendar:function(a,b){if(""==a.value.trim())return!1;var c={};if(1==b.hasOwnProperty("isRange")&&a.value.split("-")[0]&&a.value.split("-")[1])return b=a.value.split("-")[0].trim().replace(/\//g,"-"),a=a.value.split("-")[1].trim().replace(/\//g,"-"),c.startdate=b,c.enddate=a,c},renderValueBulmaCalendar:function(a,b){b=a.getAttribute("id")+"-info-render";b=document.getElementsByClassName(b)[0];
if(b.hasAttribute("is-range")&&"true"==b.getAttribute("is-range")){var c=b.getAttribute("startdate"),d=b.getAttribute("enddate");b=a.parentElement.querySelectorAll(".datetimepicker-dummy-input")[0];var e=a.parentElement.querySelectorAll(".datetimepicker-dummy-input")[1];c=shinobi.aladinUtil.getFormatDate(c,"dd/mm/yyyy");d=shinobi.aladinUtil.getFormatDate(d,"dd/mm/yyyy");b.value=c;e.value=d;a.value=c+" - "+d}},activeChatRoom:function(a){document.getElementById("chatBoxColumn").classList.remove("is-hidden");
document.getElementById("chatMenuButton").click();var b=document.getElementById("listRoomChat").getElementsByClassName("room-chat");setTimeout(function(){for(var c=0;c<b.length;c++)b[c].getAttribute("id")==a&&b[c].click()},1E3)},investorRegistration:{investorRegistration:"/page/investorregistration"},login:{login:"/page/login"},traderlistingpage:{traderlistingpage:"/page/traderlisting"},investorlisting:{investorlisting:"/page/investorlisting"},suggestLogin:"B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n thao t\u00e1c n\u00e0y!",
convertUsingServiceToVn:function(a){switch(a){case "NEED_TO_EXTEND":a="Gia h\u1ea1n d\u1ecbch v\u1ee5";break;case "NEED_TO_SETTLE":a="Thanh to\u00e1n d\u1ecbch v\u1ee5";break;default:a=""}return a},convertStringToDate:function(a){return new Date(Date.parse(a.replace("-","/").replace("-","/")))},buildChatTime:function(a){a=er.convertStringToDate(a);var b=new Date,c=shinobi.aladinUtil.getFormatDate(a,"mm-dd-yyyy");b=shinobi.aladinUtil.getFormatDate(b,"mm-dd-yyyy");return c==b?shinobi.aladinUtil.getFormatDate(a,
"hh:mm"):shinobi.aladinUtil.getFormatDate(a,"dd-mm-yyyy hh:mm")},renderServiceUsingStatus:function(a,b){b&&(b=er.convertUsingServiceToVn(b),a.innerHTML=b)},reFormatDate:function(a,b,c){var d=a.substring(b.indexOf("d"),b.lastIndexOf("d")+1),e=a.substring(b.indexOf("m"),b.lastIndexOf("m")+1);a=a.substring(b.indexOf("y"),b.lastIndexOf("y")+1);return c.replace("dd",d).replace("mm",e).replace("yyyy",a)},renderCopyTradeStatus:function(a,b){var c={};c.feeid=b;c.publisher=a.parentNode.querySelectorAll("[snb-key=publisher]")[0].innerHTML;
shinobi.api.request("/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus",JSON.stringify(c),function(c){var d=JSON.parse(c);"FREE_SERVICE"==d.serviceusingstatus?a.innerHTML="D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed":"EXECUTING_PORTFOLIO"==d.serviceusingstatus&&(a.innerHTML="\u0110ang x\u1eed l\u00ed");if("NEED_TO_SETTLE"==d.serviceusingstatus){a.innerHTML='<p><a class="button open-order-button is-small is-link">C\u1ea7n thanh to\u00e1n</a></p>';a.getElementsByClassName("open-order-button")[0].onclick=
function(){shinobi.fragmentselectfollowrelationtypemodalrender.redirectPaymentPage(b)};var f=document.createElement("a");f.setAttribute("class","button is-text is-small");f.innerHTML="X\u00f3a \u0111\u01a1n h\u00e0ng";a.appendChild(f);f.onclick=function(){var a=d.followdetail,b={};b.feetype=a.feetype;b.subscriber=a.subscriber;b.publisher=a.publisher;shinobi.api.request("/authenapi/AladinProductOrderApi/deleteServiceOrder",JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("X\u00f3a \u0111\u01a1n h\u00e0ng th\u00e0nh c\u00f4ng"),
f.parentNode.parentNode.classList.add("is-hidden"))})}}else if("NEED_TO_EXTEND"==d.serviceusingstatus){c=document.createElement("a");c.setAttribute("class","button  is-danger is-small");c.innerHTML="Gia h\u1ea1n";a.appendChild(c);var g=document.createElement("p");g.setAttribute("class"," has-text-danger ");g.innerHTML="C\u00f2n "+d.remainday+" ng\u00e0y n\u1eefa";a.appendChild(g);c.onclick=function(){shinobi.fragmentextendrelationmodalrender.build(a,d.followdetail)}}else shinobi.fragmentaccountfollowingtraderender.buildServiceTimeContainer(a,
d.followdetail)})},renderUnFollowButton:function(a,b){var c={};c.feeid=b;c.publisher=a.parentNode.querySelectorAll("[snb-key=publisher]")[0].innerHTML;shinobi.api.request("/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus",JSON.stringify(c),function(b){1==JSON.parse(b).followdetail.isactive&&shinobi.fragmentaccountfollowingtraderender.buildUnFollowService(a,JSON.parse(b).followdetail)})},renderDetailRating:function(a,b,c){var d=document.createElement("span");d.setAttribute("class",
"star-container");a.appendChild(d);var e=document.createElement("span");e.setAttribute("class","count-rating-container");a.appendChild(e);a={};a.username=b;shinobi.api.request("/api/ViewTraderRatingApi/getUserOverViewRating",JSON.stringify(a),function(a){var b=JSON.parse(a);er.buildRating(d,b.averageratingpoint);e.innerHTML="("+b.totalratingmember+")";e.onclick=function(){window.location.href="/page/ratingdetail/"+b.homepageurl}})},getCurrentDayOfWeek:function(){return(new Date).getDay()},getParentNodeWithKey:function(a,
b,c){a.hasAttribute(b)?"function"==typeof c&&c(a):a.parentElement&&er.getParentNodeWithKey(a.parentElement,b,c)},buildRating:function(a,b){var c=b/=2;5<b&&(c=5);if(0>b||0==b)c=0;b="";for(var d=0;d<c;d++)b+='<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';for(d=0;d<5-c;d++)b+='<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';a.innerHTML=b},renderUserType:function(a,b,c){b=window.localStorage.getItem("loggedUserType");er.convertUserTypeDatalist(a,
b)},convertUserTypeDatalist:function(a,b){switch(b.toLowerCase()){case "trader":var c="Nh\u00e0 t\u01b0 v\u1ea5n";break;case "investor":c="Nh\u00e0 \u0111\u1ea7u t\u01b0";break;case "stock_com_admin":c="T\u1ed5 ch\u1ee9c h\u1ee3p t\u00e1c"}a.innerHTML=c},addEventFollowTable:function(a,b,c){b=a.innerHTML;removeAllChild(a);c=document.createElement("a");c.setAttribute("class","button is-link  is-small");c.innerHTML="Theo";a.appendChild(c);shinobi.fragmentselectfollowrelationtypemodalrender.addEventFollow(c,
b)},renderFreeOrUnFreeAmount:function(a,b,c){c=a.parentNode.parentNode.parentNode.parentNode;b=c.querySelectorAll("[snb-key=publisher]")[0].innerHTML;c=c.querySelectorAll("[snb-key=feetype]")[0].innerHTML;var d={};d.traderusername=b;d.feetype=c;shinobi.api.request("/authenapi/TraderBuildFeeScheduleApi/checkTraderContainsUnFreeFeeSchedule",JSON.stringify(d),function(b){a.innerHTML="true"==b?"C\u00f3 ph\u00ed":shinobi.language.free})},getValueNumberCleaveFormat:function(a){return a.value.trim().replace(/,/g,
"")},formatNameChatContainerHeader:function(a,b){a.innerHTML=b},renderFeeValue:function(a,b,c){c=a.parentNode.querySelectorAll("[snb-key=amount]")[0].innerHTML;var d="D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed";0<c&&(d=format(c)+"/"+convertFequency(b));a.innerHTML=d},checkAuthen:function(a){shinobi.global.checkAuthen?a(shinobi.global.checkAuthen):shinobi.global.isCheckAuthen?a(shinobi.global.checkAuthen):0==shinobi.global.isCheckAuthen?setTimeout(function(){er.checkAuthen(a)},10):(shinobi.global.isCheckAuthen=
!1,shinobi.api.request("/api/UserApi/checkAuthen",JSON.stringify({}),function(b){shinobi.global.checkAuthen=b;shinobi.global.isCheckAuthen=!0;a(b)}))},renderPostStatusDatalist:function(a,b,c){switch(b){case "WAITING_FOR_AUDIT":var d="Ch\u1edd duy\u1ec7t";var e="is-light";break;case "AVAILABLE":d="\u0110\u00e3 duy\u1ec7t";e="is-success";break;case "REJECTED":d="T\u1eeb ch\u1ed1i",e="is-danger"}a.innerHTML=d;a.classList.add(e)},activePathTabs:function(){for(var a=document.querySelectorAll(".tabs.active-pathname-tabs"),
b=0;b<a.length;b++){var c=a[b].querySelector("[href="+window.location.pathname.replace(/\//g,"\\/")+"]");c&&c.parentElement.classList.add("is-active")}},getFormatDatePickerInput:function(a,b){var c=document.getElementById(a+"-inputDivID").value;a=c.split("-")[0];var d=c.split("-")[1];c=c.split("-")[2];return shinobi.aladinUtil.getFormatDate(d+"-"+a+"-"+c,b)},getDatePickerValue:function(a){a=document.getElementById(a.id+"-inputDivID").value;var b=a.split("-")[0],c=a.split("-")[1];return a.split("-")[2]+
"-"+c+"-"+b},renderFeeIconFromListFeeType:function(a,b){b=JSON.parse(b);for(var c=0;c<b.length;c++){var d=b[c][0];if(d.feetype){var e=document.createElement("span");e.setAttribute("class","service-icon tooltip");e.setAttribute("data-tooltip",changeFeeType(d.feetype));var f=document.createElement("img");e.appendChild(f);switch(d.feetype){case "INVESTING_BLOG":var g=blogIconImageLink;break;case "COPY_TRADE":g=copyTradeIconImageLink}f.setAttribute("src",g);a.appendChild(e)}}},getListFeeIcon:function(a,
b){er.checkAuthen(function(c){"null"!=c&&(c={},c.traderusername=b,shinobi.api.request("/authenapi/TraderCustomerApi/getAllServiceCustomerIsFollowing",JSON.stringify(c),function(b){er.renderFeeIconFromListFeeType(a,b)}))})},listingTimeFrame:function(a){switch(a){case "ONE_DAY":var b="phi\u00ean g\u1ea7n nh\u1ea5t";break;case "ONE_WEEK":b="tu\u1ea7n";break;case "ONE_MONTH":b="th\u00e1ng";break;case "THREE_MONTH":b="ba th\u00e1ng";break;case "SIX_MONTH":b="s\u00e1u th\u00e1ng";break;case "ONE_YEAR":b=
"m\u1ed9t n\u0103m"}return"X\u1ebfp h\u1ea1ng "+b},postFiterConvert:function(a){switch(a){case "allpost":var b="T\u1ea5t c\u1ea3 b\u00e0i vi\u1ebft";break;case "hasfeepost":b="B\u00e0i vi\u1ebft c\u00f3 ph\u00ed";break;case "freepost":b="B\u00e0i vi\u1ebft mi\u1ec5n ph\u00ed";break;case "purchased":b="B\u00e0i vi\u1ebft \u0111\u00e3 mua"}return b},renderAdminPostCheckUrl:function(a,b,c){if(""!=b.trim){var d=b.replace(blogPostPageUrl,adminPostCheckPageUrl);a=a.parentNode.querySelectorAll('[snb-target="goToPostCheckPage"');
for(b=0;b<a.length;b++)a[b].onclick=function(){window.location.href=d}}},createSimpleBar:function(a){a=document.querySelectorAll(a);for(var b=0;b<a.length;b++)new SimpleBar(a[b])},confirm:function(a,b){var c=document.getElementById("confirmPanel");shinobi.aladinUtil.modalEventListener(c);b?(b.title&&(c.getElementsByClassName("modal-card-title")[0].innerHTML=b.title),b.content&&(c.getElementsByClassName("modal-card-body")[0].innerHTML=b.content),b.yescontent&&(c.getElementsByClassName("yes")[0].innerHTML=
b.yescontent),b.nocontent&&(c.getElementsByClassName("cancel")[0].innerHTML=b.nocontent),b.modalsize&&c.classList.add(b.modalsize),b.initfunction&&b.initfunction(c)):(c.getElementsByClassName("modal-card-title")[0].innerHTML="C\u1ea3nh b\u00e1o",c.getElementsByClassName("modal-card-body")[0].innerHTML="B\u1ea1n ch\u1eafc ch\u1eafn?",c.getElementsByClassName("yes")[0].innerHTML="X\u00e1c nh\u1eadn",c.getElementsByClassName("cancel")[0].innerHTML="H\u1ee7y");c.classList.add("is-active");b=c.getElementsByClassName("yes")[0];
b.focus();b.onclick=function(){"function"==typeof a&&(c.classList.remove("is-active"),a())}},runSnbReload:function(a){if(a.hasAttribute("snb-reload")){var b=a.getAttribute("snb-reload");a.hasAttribute("snb-reload-key")?"this"==a.getAttribute("snb-reload-key")&&eval(b)(a):eval(b)()}},renderListFeeIsActive:function(a,b){b="";for(var c=a.parentNode.querySelectorAll("[snb-render-key=feeType]"),d=0;d<c.length;d++)if("true"==c[d].innerHTML){var e=c[d].getAttribute("snb-key");b=b+"/"+changeFeeType(e)}b=
b.slice(1,b.length);a.innerHTML=b},addEventTabs:function(a,b){var c=document.querySelectorAll(a);switch(b){case "hrefUserType":er.addEventHrefUserType(a,c)}},addEventHrefUserType:function(a,b){b=b[0].querySelectorAll("[snb-tab]");for(var c={},d=window.localStorage.getItem("loggedUserType"),e=0;e<b.length;e++){var f=b[e];f.hasAttribute("snb-tab")&&(f=f.getAttribute("snb-tab"),c[f]=f,c[f+"href"]="/private/"+d+f)}shinobi.mapping.render(a,JSON.stringify(c))},renderCurrentCashPlaceHolder:function(a,b){a.setAttribute("placeholder",
"V\u1ed1n kh\u1ea3 d\u1ee5ng: "+format(b))},renderCopyTradeMessage:function(a,b){var c=document.getElementById("copytradeSettingMessageContainer"),d=document.getElementById("copytradecapital");""==b.trim()?c.classList.add("is-hidden"):c.classList.remove("is-hidden");c=a.parentNode.querySelectorAll("[snb-key=currentcash")[0].innerHTML;1E5>Number(c)?(d.classList.add("is-danger"),d.disabled=!0):(d.classList.remove("is-danger"),d.disabled=!1);a.innerHTML=b},renderMaxQuantity:function(a,b){isNaN(Number(b))?
a.parentNode.classList.add("is-hidden"):(a.parentNode.classList.remove("is-hidden"),a.innerHTML=format(b))},renderPriceDatalist:function(a,b){a.innerHTML=0==b?shinobi.language.free:format(b)+"VN\u0110"},showDownloadFileModal:function(){var a=document.getElementById("confirmDownloadFileModal");a.classList.add("is-active");a.querySelector(".button.is-white").classList.add("is-loading");var b=document.getElementById("shinobinotification");setTimeout(function(){b.getAttribute("class").includes("errormessage")&&
a.classList.remove("is-active")},2E3)},renderDownloadFileModal:function(a){var b=document.getElementById("confirmDownloadFileModal");b.classList.add("is-active");var c=b.getElementsByClassName("is-loading")[0];"update success"==a?(c.classList.remove("is-loading"),c.innerHTML=a):b.classList.remove("is-active")},renderRemovePinLevel:function(a,b){a.classList.remove("is-hidden");a.onclick=function(){if(confirm("X\u00e1c nh\u1eadn x\u00f3a \u0111\u00e1nh d\u1ea5u")){var b=a.parentNode.querySelectorAll("[snb-key=postid]")[0].innerHTML,
d={};d.postid=b;shinobi.api.request("/authenapi/SystemAuditTraderPostApi/deletePinedTraderPost",JSON.stringify(d),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng!"),location.reload())})}}},renderDatePicker:function(a,b){a.getElementsByClassName("inputDivClass")[0].value=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy")},changeAllKeyChildren:function(a,b,c){for(var d=0;d<a.length;d++)er.renameKeys(b,a[d]),a[d].children&&0!=a[d].children.length&&
er.changeAllKeyChildren(a[d].children,b);"function"==typeof c&&c(a)},renameKeys:function(a,b){var c=Object.keys(a);a=Object.values(a);for(var d=0;d<c.length;d++)b[a[d]]=b[c[d]]},getAllObjectMenu:function(a,b){for(var c=0;c<b.length;c++)a.push(b[c]),b[c].children&&0!=b[c].children.length&&er.getAllObjectMenu(a,b[c].children)},getTokenValue:function(a){a=Number(a.slice(1,a.length-1));var b=Number(a).toString().split("").pop();return a>>>b},encodeURIComponent:function(a){return encodeURIComponent(a)},
decodeURIComponent:function(a){return encodeURIComponent(a)},addEventSearchUser:function(a){var b=document.getElementById(a);if("tags"==b.getAttribute("type"))var c=setInterval(function(){var a=b.nextElementSibling;a&&(a=a.getElementsByTagName("input")[0],er.addEventSearchUserElem(a,b),clearInterval(c))},100);else er.addEventSearchUserElem(b,b)},addResultList:function(a,b,c){if(0<a.parentNode.getElementsByClassName("result-absolute-container").length)var d=a.parentNode.getElementsByClassName("result-absolute-container")[0];
else d=document.createElement("div"),d.setAttribute("class","result-absolute-container"),a.parentNode.insertBefore(d,a.nextSibling);d.parentNode.classList.add("is-relative");if(0==b.length)d.remove(),a.setAttribute("refid","");else{d.innerHTML="";for(c=0;c<b.length;c++)if(3>c){a.setAttribute("refid",b[c].id);var e=document.createElement("div");e.setAttribute("class","level is-marginless");e.innerHTML='<div class="level-left chat-avatar"><img src="'+b[c].avatarlink+'" class="chat-room-avatar margin-right-05rem"></div><div class="level-item ">'+
b[c].firstname+" "+b[c].lastname+"</div>";d.appendChild(e)}a.onblur=function(){d.classList.add("is-hidden")};a.onclick=function(){d.classList.remove("is-hidden")}}},addEventSearchUserElem:function(a,b){a.onkeyup=function(){var c=a.value.trim();if(""!=c){var d={};d.searchkey=c;shinobi.api.request("/api/UserApi/searchUserById",JSON.stringify(d),function(c){c=JSON.parse(c);er.addResultList(a,c,b)})}else er.addResultList(a,[],b)}}},erLib={data:[],reportLink:"/static/report/",renderCheckbox:function(a,
b,c){a.innerHTML='<label class="checkbox"><input type="checkbox"></label>'},renderAllowDenyTable:function(a,b,c){"allow"==a.innerHTML&&(a.innerHTML="Cho ph\u00e9p");"deny"==a.innerHTML&&(a.innerHTML="Ch\u1eb7n")},showConfirmModal:function(a){var b=document.getElementById("confirmPanel");b.classList.add("is-active");b.getElementsByClassName("yes")[0].onclick=function(){b.classList.remove("is-active");a()}},createDataTreeRelation:function(a,b,c){if(b){var d=a.id;a.name=d;a.id=b.id+"/"+d}else a.name=
a.id;for(b=0;b<a.children.length;b++)erLib.createDataTreeRelation(a.children[b],a);"function"==typeof c&&c(a)},getFullPathSelectedNodeTree:function(a,b){var c=[];erLib.getFullPathSelected(c,a.treeNodes,"");b(c)},getFullPathSelected:function(a,b,c){for(var d=0;d<b.length;d++)2==b[d].status&&a.push(b[d].id),1==b[d].status&&erLib.getFullPathSelected(a,b[d].children,c);"function"==typeof c&&c(a)},getFullAreaTreeData:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",
JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&a(b)})},getAgencyAreaTreeData:function(a,b){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(a),function(a){a=JSON.parse(a);"function"==typeof b&&b(a)})},createFullAreaTree:function(a,b){erLib.getListProvinceDataTree(function(c){for(var d=0;d<c.length;d++)erLib.getListDicTristDataTree(c,d,function(d){for(var e=0;e<d.length;e++)erLib.getListPrecinctDataTree(d,e,function(){shinobi.createstafftreerender.tree=
erLib.createTree(a,c);var d=document.querySelectorAll(a)[0];shinobi.createstafftreerender.closeAllNode(d);"function"==typeof b&&b(tree)})})})},createTree:function(a,b){return new Tree(a,{data:b,loaded:function(){}})},getListPrecinctDataTree:function(a,b,c){var d={columnname:"district"};d.columnvalue=a[b].id;shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(d),function(d){d=JSON.parse(d);a[b].children=d;"function"==typeof c&&c(d);return a})},getListDicTristDataTree:function(a,
b,c){var d={columnname:"province"};d.columnvalue=a[b].id;shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(d),function(d){d=JSON.parse(d);a[b].children=d;"function"==typeof c&&c(d);return a})},getListProvinceDataTree:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getDefaultValueListAsTree",JSON.stringify({columnname:"province"}),function(b){b=JSON.parse(b);"function"==typeof a&&a(b);return b})},getFileName:function(a,b){b=b.split("/");
a.innerHTML=b[b.length-1]},renderDownloadFile:function(a,b){b=b.split("/");a.setAttribute("href",erLib.reportLink+b[b.length-1]);setTimeout(function(){a.focus()},200);a.onclick=function(){var b=a.getAttribute("modal-parent");document.getElementById(b).classList.remove("is-active")}},addEventSelectAll:function(a,b){document.getElementById(a).onchange=function(){for(var a=document.getElementById(b).getElementsByTagName("tbody")[0].getElementsByTagName("tr"),d=0;d<a.length;d++){var e=a[d];e.getElementsByTagName("td");
e.querySelectorAll("[type=checkbox]")[0].checked=this.checked?!0:!1}}},hiddenCommandButton:function(a){document.getElementById("buttonGroup").getElementsByClassName(a)[0].classList.add("is-hidden")},addEventRemoveRowTable:function(a,b,c,d){b=a.innerHTML;removeAllChild(a);erLib.addEventRemoveRowDatalist(a,b,d)},addEventRemoveRowDatalist:function(a,b,c){var d=document.createElement("a");d.setAttribute("class","button is-danger is-small");d.innerHTML='<span class="icon"><i class="fa fa-times"></i></span><span>X\u00f3a</span>';
a.appendChild(d);d.onclick=function(){var a={};a.id=b;shinobi.api.request(c,JSON.stringify(a),function(a){erLib.removeMessage(a);location.reload()})}},createMessage:function(a){"update success"==a&&shinobi.notification.notification.info("T\u1ea1o m\u1edbi th\u00e0nh c\u00f4ng")},renderCellChangeStaffValue:function(a,b,c,d){erLib.renderNodeChangeValueListener(a,function(){a.getElementsByTagName("input")[0].setAttribute("list","fragmentStaffIdDatalist");erLib.renderDataListStaff("fragmentStaffIdDatalist",
d[b].agency)})},updateMessage:function(a,b){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),"function"==typeof b&&b())},removeMessage:function(a){"update success"==a&&shinobi.notification.notification.info("X\u00f3a th\u00e0nh c\u00f4ng")},renderUserTypeTable:function(a,b,c){erLib.renderUserTypeDatalist(a,a.innerHTML)},renderUserTypeDatalist:function(a,b){switch(b.toLowerCase()){case "shop":var c="\u0110\u1ea1i l\u00fd";break;case "agency":c=
"Ph\u00e1p nh\u00e2n";break;case "staff":c="Nh\u00e2n vi\u00ean";break;case "mobi_hcm_2":c="Mobifone";break;case "system":c="Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"}a.innerHTML=c},renderOrderResultTable:function(a,b,c){erLib.renderOrderResultDatalist(a,a.innerHTML)},renderOrderResultDatalist:function(a,b){switch(b.toLowerCase()){case "inprocess":b="\u0110ang x\u1eed l\u00ed";break;case "fail":b="Th\u1ea5t b\u1ea1i";break;case "success":b="Th\u00e0nh c\u00f4ng"}a.innerHTML=b},notiFillInput:function(){shinobi.notification.notification.error("\u0110i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin")},
addStartDateEndDateRequest:function(a,b){var c=document.getElementById("fromDate-inputDivID"),d=document.getElementById("toDate-inputDivID");""==c.value.trim()||""==d.value.trim()?erLib.notiFillDateInput():(a.startdate=er.getFormatDatePickerInput("fromDate","yyyy-mm-dd"),a.enddate=er.getFormatDatePickerInput("toDate","yyyy-mm-dd"),"function"==typeof b&&b(a))},notiFillDateInput:function(){shinobi.notification.notification.error("Ch\u01b0a \u0111i\u1ec1n t\u1eeb ng\u00e0y \u0111\u1ebfn ng\u00e0y")},
createTableListener:function(a){a=document.getElementById(a).getElementsByTagName("td");for(var b=0;b<a.length;b++)erLib.renderNodeChangeValueListener(a[b])},renderCellChangeValue:function(a,b,c,d){"function"==typeof d?erLib.renderNodeChangeValueListener(a,d):erLib.renderNodeChangeValueListener(a)},renderHasSendProfileContentTable:function(a,b,c,d){c="\u0110\u00e3 n\u1ed9p";d[b].staffsendprofiledate||(c="Ch\u01b0a n\u1ed9p");a.innerHTML=c},addHasSendProfileSelect:function(a,b){a.innerHTML="";b=document.createElement("div");
b.setAttribute("class","select is-fullwidth");b.setAttribute("snb-key","isprofilesent");b.innerHTML='  <select class="profile-send-select"> <option value="true">\u0110\u00e3 n\u1ed9p</option> <option value="false">Ch\u01b0a n\u1ed9p</option>  </select>';a.appendChild(b);return b.getElementsByTagName("select")[0]},renderHasSendProfileTable:function(a,b,c,d){erLib.addHasSendProfileSelect(a);c=a.getElementsByTagName("select")[0];"SUCCESS"==d[b].orderresult?c.value=d[b].staffsendprofiledate?"true":"false":
(c.value="false",c.disabled=!0);c.onchange=function(){var b=a.parentNode.querySelectorAll("[type=checkbox]")[0];b&&(b.checked=!0)}},renderNodeChangeValueListener:function(a,b,c){a.ondblclick=function(){var d=a.innerText;a.classList.add("table-change-value-cell");var e=a.getElementsByClassName("table-change-value-input")[0];if(e)var f=e;else f=document.createElement("input"),f.setAttribute("class","input is-small table-change-value-input");a.appendChild(f);f.focus();"function"==typeof b&&b(f);f.onchange=
function(){"function"==typeof c&&c();a.classList.remove("table-change-value-cell");var b=f.value;f.remove();""==b.trim()?a.innerHTML=d:a.innerHTML=b};f.addEventListener("keypress",function(b){13===(b.which||b.keyCode)&&("function"==typeof c&&c(),a.classList.remove("table-change-value-cell"),b=f.value,f.remove(),""==b.trim()?a.innerHTML=d:a.innerHTML=b)})}},createButtonEvent:function(a){document.getElementById("buttonGroup").getElementsByClassName("createButton")[0].onclick=function(){a()}},updateButtonEvent:function(a){document.getElementById("buttonGroup").getElementsByClassName("updateButton")[0].onclick=
function(){a()}},getSelectFormShopcodeValue:function(a,b,c){a=document.getElementById(a);var d=a.value;if("ALL"!=d){var e={};e.columnname=b;e.columnvalue=d.split("-")[0];a.hasAttribute("user-level")&&(e.userlevel=a.getAttribute("user-level"));c.push(e)}},renderShopCodeCheckGroup:function(a,b){var c={};c.columnname=b;c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueListAfterCheckGroup",c)},renderShopCode:function(a){var b=
{columnname:"shopcode"};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",b)},renderStatusCodeDetail:function(a){var b={};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCodeWithCodeValue",b)},renderObjectReport:function(a){var b={};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/ExportTotalCommissionToExcelFileApi/getListShopAndAgency",
b)},renderShopCodeOfAgency:function(a,b,c){var d={};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",d);"function"==typeof c&&c();return a},renderShopCodeOfAgencyHasAllValue:function(a,b){var c={};c.columnvalue=b;c.getallvalue="ALL";c.recordPerPage=getRecordNumber(a);c.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",c);return a},
renderEmtyCell:function(a,b,c){a.innerHTML=""},renderRemoveCell:function(a,b,c){a.classList.add("is-hidden")},renderAgency:function(a,b){var c={columnname:"agency"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",c,b)},renderAgencyOfShopcode:function(a,b,c){var d={columnname:"agency"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
d,c)},renderAgencyOfShopcodeHasAllValue:function(a,b,c){var d={columnname:"agency"};d.columnvalue=b;d.getallvalue="ALL";d.recordPerPage=getRecordNumber(a);d.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",d,c)},getListAgency:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",JSON.stringify({columnname:"agency"}),function(b){b=JSON.parse(b);a(b.data)})},convertListToTreeNode:function(a,b,c,d){for(var e=
[],f=0;f<a.length;f++){var g=a[f],h={};h.text=g[b];h.id=g[c];d&&(h.children=[]);e.push(h)}return e},renderProvince:function(a,b){var c={columnname:"province"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",c,b)},renderDistrictListener:function(a,b,c){var d=erLib.renderDistrict(a,document.getElementById(b).value,function(){c();document.getElementById(b).onchange=function(){var b=document.getElementById(a);removeAllChild(b);
b.appendChild(d.sampleNode);erLib.renderDistrict(a,this.value)}})},renderDistrict:function(a,b,c){document.getElementById(a).disabled=!1;var d={columnname:"province"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getAreaDistribution",d,c);return a},renderShopcodeHasAllValue:function(a,b){document.getElementById(a).disabled=!1;var c={columnname:"shopcode"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;a=new shinobi.datalist(a);
a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueListWithAllValue",c,b);return a},renderStaffInputListenner:function(a,b){var c=document.getElementById(b);setTimeout(function(){erLib.createStaffInputDatalist(a,c.value)},2E3);c.onchange=function(){erLib.createStaffInputDatalist(a,this.value)}},createStaffInputDatalist:function(a,b){var c=a+"Datalist",d=c+"Container",e=document.getElementById(d);e&&e.remove();e=document.getElementById("tempDataList").cloneNode(!0);e.getElementsByTagName("datalist")[0].innerHTML=
'<option  snb-datalist-parent="staffInputDatalist" snb-key="columnvalue"></option>';e.setAttribute("id",d);document.getElementsByTagName("main")[0].appendChild(e);a=document.getElementById(a);a.setAttribute("list",c);a.value="";a=e.getElementsByTagName("datalist")[0];a.setAttribute("id",c);a.setAttribute("snb-datalist-node",c);e=e.getElementsByTagName("option")[0];e.setAttribute("snb-datalist-parent",c);e.setAttribute("snb-key","columnvalue");return a=erLib.renderDataListStaff(c,b)},getStaffList:function(a,
b){var c={};c.agency=a.id;shinobi.api.request("/authenapi/StaffAreaDistributionApi/getStaffList",JSON.stringify(c),function(c){c=JSON.parse(c).data;c=erLib.convertListToTreeNode(c,"columnname","columnvalue",!1);a.children=c;b(a)})},renderDataListStaff:function(a,b){var c=document.createElement("option");c.setAttribute("snb-datalist-parent",a);c.setAttribute("snb-key","columnvalue");var d=document.getElementById(a);removeAllChild(d);d.appendChild(c);c={};c.agency=b;c.recordPerPage=getRecordNumber(a);
c.pageNum=1;d=new shinobi.datalist(a);d.initLoadApi("/authenapi/StaffAreaDistributionApi/getStaffList",c);return d},renderDataListOrderStatus:function(a,b){var c=document.createElement("option");c.setAttribute("snb-datalist-parent",a);c.setAttribute("snb-key","orderstatus");c.setAttribute("snb-key-innerhtml","orderstatus");c.setAttribute("snb-key-result","orderresult");var d=document.getElementById(a);removeAllChild(d);d.appendChild(c);c={};c.agency=b;c.recordPerPage=getRecordNumber(a);c.pageNum=
1;d=new shinobi.datalist(a);d.initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCode",c)},renderWardListener:function(a,b){var c=erLib.renderWard(a,document.getElementById(b).value,function(){document.getElementById(b).onchange=function(){var b=document.getElementById(a);removeAllChild(b);b.appendChild(c.sampleNode);erLib.renderWard(a,this.value)}})},renderWard:function(a,b,c){document.getElementById(a).disabled=!1;var d={columnname:"district"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);
d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getAreaDistribution",d,c);return a}};
shinobi.exportfile={exportFile:function(a,b,c){shinobi.notification.notification.loading();shinobi.api.request(a,JSON.stringify(b),function(a){shinobi.notification.notification.loaded();console.log(a);a=JSON.parse(a);console.log(a);if(a.hasOwnProperty("linkfile")){var b=document.getElementById("confirmDownloadExcelFileModal");shinobi.mapping.renderElement(b,a);b.classList.add("is-active")}else shinobi.notification.notification.error("Kh\u00f4ng t\u00ecm th\u1ea5y file");console.log(a)})},request:function(a,
b,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");e.responseType="blob";e.onload=function(a){a="export."+c;if(200===this.status){var b=this.response;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(b,a);else{"function"==typeof d&&d();var f=window.document.createElement("a"),k=e.getResponseHeader("Content-Type");f.href=window.URL.createObjectURL(new Blob([b],{type:k}));f.download=a;document.body.appendChild(f);
f.click();document.body.removeChild(f)}}};e.send(b)}};
shinobi.fileupload={filelist:[],register:function(a,b,c,d,e){a=document.getElementById(a);shinobi.fileupload.registerElement(a,b,c,d,e)},registerElement:function(a,b,c,d,e,f){f&&f.hasOwnProperty("type")?"public"==f.type&&("change"==b?a.addEventListener(b,function(){shinobi.notification.notification.loading();var b=shinobi.fileupload.isImage(a.files[0].type);b=d(b);var f=new FormData;f.append("file",a.files[0]);f.append("session","###");f.append("fileindex",b);shinobi.fileupload.uploadFile(f,c,e)}):
"paste"==b?a.addEventListener(b,function(a){shinobi.notification.notification.loading();var b=new FormData,f=a.clipboardData.files[0];"[object File]"===Object.prototype.toString.call(f)&&(f=shinobi.fileupload.isImage(f.type),f=d(f),b.append("file",a.clipboardData.files[0]),b.append("session","###"),b.append("fileindex",f),shinobi.fileupload.uploadFile(b,c,e))}):"drop"==b&&a.addEventListener(b,function(a){shinobi.notification.notification.loading();d();var b=new FormData;b.append("file",a.dataTransfer.files[0]);
b.append("session","###");shinobi.fileupload.uploadFile(b,c,e)})):(f=shinobi.hasOwnProperty("coreapi")&&shinobi.coreapi.hasOwnProperty("userApi")?shinobi.coreapi.userApi:"/authenapi/userapi/",shinobi.hasOwnProperty("coreapi")&&shinobi.coreapi.hasOwnProperty("getSessionIdApi")&&(f=shinobi.coreapi.getSessionIdApi),shinobi.api.request(f+"getSessionId",JSON.stringify({}),function(f){var g=JSON.parse(f).sessionid;"change"==b?a.addEventListener(b,function(){shinobi.notification.notification.loading();var b=
shinobi.fileupload.isImage(a.files[0].type);b=d(b);var f=new FormData;f.append("file",a.files[0]);f.append("session",g);f.append("fileindex",b);shinobi.fileupload.uploadFile(f,c,e)}):"paste"==b?a.addEventListener(b,function(a){shinobi.notification.notification.loading();var b=new FormData,f=a.clipboardData.files[0];"[object File]"===Object.prototype.toString.call(f)&&(f=shinobi.fileupload.isImage(f.type),f=d(f),b.append("file",a.clipboardData.files[0]),b.append("session",g),b.append("fileindex",f),
shinobi.fileupload.uploadFile(b,c,e))}):"drop"==b&&a.addEventListener(b,function(a){shinobi.notification.notification.loading();d();var b=new FormData;b.append("file",a.dataTransfer.files[0]);b.append("session",g);shinobi.fileupload.uploadFile(b,c,e)})}))},uploadFile:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){shinobi.notification.notification.loaded();try{var a=JSON.parse(d.responseText);c(a)}catch(h){shinobi.notification.notification.error("C\u00f3 l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i")}}};
var e=window.location.hostname,f=window.location.protocol;shinobi.hasOwnProperty("fileuploadconfig")&&shinobi.fileuploadconfig.hasOwnProperty("uploadDomain")?(e=shinobi.fileuploadconfig.uploadDomain,d.open("POST",e+b,!0)):shinobi.hasOwnProperty("fileuploadconfig")&&shinobi.fileuploadconfig.hasOwnProperty("uploadDomainProcess")?(e=shinobi.fileuploadconfig.uploadDomainProcess(),d.open("POST",e+b,!0)):"localhost"==e?d.open("POST","http://localhost:9999/"+b,!0):"www.aladin.finance"===e?d.open("POST",
f+"//uploadfile.aladin.finance/"+b,!0):"chonso.cbv.com.vn"===e?d.open("POST",f+"//uploadfile.cbv.com.vn/"+b,!0):d.open("POST",f+"//uploadfile."+e+"/"+b,!0);d.withCredentials=!0;d.send(a)},isImage:function(a){return"image/png"==a||"image/jpeg"==a||"image/gif"==a?!0:!1}};
shinobi.fragmentchangepassword={classButtonControlSelector:"fragment-change-password-button-control",listButtonControl:[],modal:"",modalId:"fragmentChangePassword",init:function(){shinobi.fragmentchangepassword.modal=document.getElementById(shinobi.fragmentchangepassword.modalId);shinobi.fragmentchangepassword.addEventListButtonControl();shinobi.fragmentchangepassword.addEventButtonModal()},addEventButtonModal:function(){shinobi.fragmentchangepassword.addEventChangePasswordButton()},addEventChangePasswordButton:function(){var a=
shinobi.fragmentchangepassword.modal.getElementsByClassName("submit-button")[0];shinobi.fragmentchangepassword.addEventButtonWhenClick(a);shinobi.fragmentchangepassword.addEventButtonWhenEnter(a)},addEventButtonWhenClick:function(a){a.onclick=function(){shinobi.fragmentchangepassword.changePasswordProcess()}},addEventButtonWhenEnter:function(a){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.fragmentchangepassword.changePasswordProcess()})},changePasswordProcess:function(){var a=
shinobi.fragmentchangepassword.modal.getElementsByClassName("old-password-input")[0],b=shinobi.fragmentchangepassword.modal.getElementsByClassName("new-password-input")[0],c=shinobi.fragmentchangepassword.modal.getElementsByClassName("confirm-password-input")[0];""==c.value.trim()||""==b.value.trim()||""==a.value.trim()?shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!"):c.value.trim()!=b.value.trim()?shinobi.notification.notification.error("M\u1eadt kh\u1ea9u m\u1edbi v\u00e0 x\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u kh\u00f4ng gi\u1ed1ng nhau!"):
shinobi.notification.confirm(function(){var c={};c.oldpassword=shinobi.util.sha256(a.value.trim());c.newpassword=shinobi.util.sha256(b.value.trim());shinobi.fragmentchangepassword.sendRequest(c)},{title:"X\u00e1c nh\u1eadn",content:"B\u1ea1n ch\u1eafc ch\u1eafn"})},sendRequest:function(a){shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"changeUserPassword",JSON.stringify(a),function(a){shinobi.notification.notification.loaded();"update success"==a&&(shinobi.notification.notification.info("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\u00e0nh c\u00f4ng"),
shinobi.fragmentchangepassword.close())})},addEventListButtonControl:function(){shinobi.fragmentchangepassword.listButtonControl=document.getElementsByClassName(shinobi.fragmentchangepassword.classButtonControlSelector);for(var a=0;a<shinobi.fragmentchangepassword.listButtonControl.length;a++)shinobi.fragmentchangepassword.listButtonControl[a].onclick=function(){shinobi.fragmentchangepassword.open()}},open:function(){""!=shinobi.fragmentchangepassword.modal&&shinobi.fragmentchangepassword.modal.classList.add("is-active")},
close:function(){""!=shinobi.fragmentchangepassword.modal&&shinobi.fragmentchangepassword.modal.classList.remove("is-active")}};
shinobi.fragmentforgotpassword={classButtonControlSelector:"fragment-forgot-password-button-control",listButtonControl:[],classLogoutButtonSelector:"logout-button",classLoggedUserNameButtonSelector:"logged-username-button",modal:"",modalId:"fragmentForgotPassword",init:function(){shinobi.fragmentforgotpassword.modal=document.getElementById(shinobi.fragmentforgotpassword.modalId);shinobi.fragmentforgotpassword.modal.getElementsByClassName("note-field")[0].classList.add("is-hidden");shinobi.fragmentforgotpassword.addEventListButtonControl();
shinobi.fragmentforgotpassword.addEventButtonModal()},addEventButtonModal:function(){shinobi.fragmentforgotpassword.addEventSubmitButton()},addEventSubmitButton:function(){var a=shinobi.fragmentforgotpassword.modal.getElementsByClassName("submit-button")[0];shinobi.fragmentforgotpassword.addEventWhenClick(a);shinobi.fragmentforgotpassword.addEventWhenEnter(a)},addEventWhenClick:function(a){a.onclick=function(){shinobi.fragmentforgotpassword.request()}},addEventWhenEnter:function(a){a.addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.fragmentforgotpassword.request()})},request:function(){var a=shinobi.fragmentforgotpassword.modal.querySelector('input[snb-key="email"]');if(""==a.value.trim())shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");else{var b={};b.email=a.value.trim();shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"sendForGetPasswordEmail",JSON.stringify(b),function(a){"update success"==
a&&(shinobi.notification.notification.loaded(),shinobi.mapping.renderElement(shinobi.fragmentforgotpassword.modal,b))})}},disableInputAndButton:function(a,b,c){a.setAttribute("disabled",!0)},showNoteField:function(a,b,c){a.classList.remove("is-hidden")},addEventListButtonControl:function(){shinobi.fragmentforgotpassword.listButtonControl=document.getElementsByClassName(shinobi.fragmentforgotpassword.classButtonControlSelector);for(var a=0;a<shinobi.fragmentforgotpassword.listButtonControl.length;a++)shinobi.fragmentforgotpassword.listButtonControl[a].onclick=
function(){shinobi.fragmentsignup.close();shinobi.fragmentforgotpassword.open()}},open:function(){""!=shinobi.fragmentforgotpassword.modal&&shinobi.fragmentforgotpassword.modal.classList.add("is-active")},close:function(){""!=shinobi.fragmentforgotpassword.modal&&shinobi.fragmentforgotpassword.modal.classList.remove("is-active")}};
shinobi.fragmentlogin={href:window.location.href,classButtonControlSelector:"fragment-login-button-control",listButtonControl:[],classLogoutButtonSelector:"logout-button",classLoggedUserNameButtonSelector:"logged-username-button",modal:"",modalId:"fragmentLogin",init:function(){shinobi.fragmentlogin.addEventClickLoginButton();shinobi.fragmentlogin.checkHasLogged(function(){shinobi.fragmentlogin.modal=document.getElementById(shinobi.fragmentlogin.modalId);shinobi.fragmentlogin.addEventButtonModal();
shinobi.fragmentlogin.addEventLogout();shinobi.fragmentlogin.changeLoggedState();shinobi.fragmentlogin.showLoginSignUpButton()})},addEventClickLoginButton:function(){var a=document.querySelectorAll(".is-login-button");"/page/login"!=window.location.pathname&&a.forEach(function(a){a.setAttribute("href","/page/login?originpage="+window.location.pathname)})},showLoginSignUpButton:function(){JSON.stringify(document.body.classList).includes("not-logged")&&(document.querySelector(".is-signup-button").classList.remove("is-hidden"),
document.querySelector(".is-login-button").classList.remove("is-hidden"))},loadGoogleAndFacebookLib:function(){window.fbAsyncInit=function(){FB.init({appId:"515882212152388",autoLogAppEvents:!0,xfbml:!0,version:"v3.2"})};(function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="https://connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(a,d))})(document,"script","facebook-jssdk")},changeLoggedState:function(){shinobi.coreapi.reCheckAuthen(function(a){a?
(document.body.classList.add("has-logged"),document.body.classList.remove("not-logged")):(document.body.classList.remove("has-logged"),document.body.classList.add("not-logged"))})},addEventLogout:function(){for(var a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector),b=0;b<a.length;b++)a[b].onclick=function(){shinobi.fragmentloginextension.logoutProcess(function(){shinobi.fragmentlogin.logoutProcess()})}},logoutProcess:function(){shinobi.xhradapter.getResource("/logout",
function(a){});for(var a=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector),b=0;b<a.length;b++)a[b].classList.remove("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);for(b=0;b<a.length;b++)a[b].classList.remove("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);for(b=0;b<a.length;b++)a[b].classList.remove("is-logged");a=document.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
for(b=0;b<a.length;b++)a[b].classList.remove("is-logged"),a[b].classList.remove("is-logged"),a[b].innerHTML="";shinobi.cacheapi.clear();shinobi.fragmentlogin.changeLoggedState();window.location.href="/"},checkHasLogged:function(a){shinobi.coreapi.checkAuthen(function(b){b&&(shinobi.fragmentlogin.hasLoginProcess(),shinobi.fragmentloginextension.loginProcess());"function"==typeof a&&a()})},addEventButtonModal:function(){shinobi.fragmentlogin.addEventLoginButton()},addEventLoginButton:function(){[".username-input",
".password-input",".login-button"].forEach(function(a){a=shinobi.fragmentlogin.modal.querySelector(a);switch(a.tagName){case "INPUT":shinobi.fragmentlogin.addEventLoginWhenEnter(a);break;case "A":case "BUTTON":shinobi.fragmentlogin.addEventLoginWhenEnter(a);shinobi.fragmentlogin.addEventLoginWhenClick(a);break;default:shinobi.fragmentlogin.addEventLoginWhenClick(a)}})},addEventLoginWhenClick:function(a){a.onclick=function(){shinobi.fragmentlogin.login()}},addEventLoginWhenEnter:function(a){a.addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.fragmentlogin.login()})},login:function(){var a=document.getElementsByClassName("username-input")[0],b=document.getElementsByClassName("password-input")[0];if(""==a.value.trim()||""==b.value.trim())shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");else{var c={};c.username=a.value.trim();c.password=shinobi.util.sha256(b.value.trim());c.secureinfo="";shinobi.fragmentlogin.requestLogin(c,"/login")}},requestLogin:function(a,
b){shinobi.notification.notification.loading();shinobi.api.request(b,JSON.stringify(a),function(a){shinobi.notification.notification.loaded();"authen success"==a?(shinobi.fragmentlogin.hasLoginProcess(),shinobi.fragmentloginextension.loginProcess()):shinobi.notification.notification.error("T\u00e0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u sai!!!")})},hasLoginProcess:function(){for(var a=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector),b=0;b<a.length;b++)a[b].classList.add("is-hidden");
a=document.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-logged");a=document.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-logged"),a[b].classList.add("is-loading");shinobi.fragmentlogin.changeLoggedState()}};
shinobi.fragmentloginextension={loginProcess:function(){""==shinobi.socketmanager.privateWebSocket&&shinobi.socketmanager.init()},logoutProcess:function(a){"function"==typeof a&&a()}};
shinobi.fragmentsignup={classButtonControlSelector:"fragment-sign-up-button-control",listButtonControl:[],modal:"",modalId:"fragmentSignUp",intlTelInput:"",hasCheckTrashMail:!0,init:function(){shinobi.fragmentsignup.modal=document.getElementById(shinobi.fragmentsignup.modalId);shinobi.fragmentsignup.addEventListButtonControl();shinobi.fragmentsignup.renderSelectPhoneTelephoneInput();shinobi.fragmentsignup.addEventButtonModal()},renderSelectPhoneTelephoneInput:function(){var a=shinobi.fragmentsignup.modal.getElementsByClassName("phone-number-input")[0];
shinobi.fragmentsignup.intlTelInput=window.intlTelInput(a,{autoPlaceholder:"off",dropdownContainer:document.body,initialCountry:"vn",utilsScript:"/static/js/library/intlTelInputUtil.js"})},addEventButtonModal:function(){shinobi.fragmentsignup.addEventSignUpButton();shinobi.fragmentsignup.signUpWithFacebook();shinobi.fragmentsignup.signUpWithGoogle()},signUpWithGoogle:function(){var a=shinobi.fragmentsignup.modal.querySelector(".google-button");gapi.load("auth2",function(){gapi.auth2.init({client_id:"92469729159-a402g2mqs9o0bje69k6gr2lheun6beer.apps.googleusercontent.com",
cookiepolicy:"single_host_origin"}).attachClickHandler(a,{},function(a){var b=a.getBasicProfile();if(a.Zi)var d=a.Zi.access_token;a.tc&&(d=a.tc.access_token);if(d){d=shinobi.util.sha256(d);var e=Math.floor(899999999*Math.random()+1E8),f=a.El?a.El:a.Ca;a={lastname:a.w3?a.w3.ofa:a.Pt.CU,firstname:a.w3?a.w3.wea:a.Pt.BW,email:b.getEmail(),phonenumber:e,password:d,confirmPassword:d,username:"gg_"+f,acceptRule:!0};b=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0];shinobi.mapping.renderElement(b,
a);shinobi.fragmentsignup.signup({method:"google",data:a})}else shinobi.notification.notification.error("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi Google")},function(a){alert(JSON.stringify(a,void 0,2))})})},signUpWithFacebook:function(){shinobi.fragmentsignup.modal.querySelector(".facebook-button").onclick=function(){FB.login(function(a){if(a.authResponse){a=a.authResponse;var b=a.accessToken,c=a.userID;FB.api("/"+c,"GET",{fields:"id,first_name, last_name,birthday,email,hometown,location"},
function(a){var d=shinobi.util.sha256(b);a={lastname:a.last_name,firstname:a.first_name,email:a.email,phonenumber:Math.floor(899999999*Math.random()+1E8),password:d,confirmPassword:d,username:"fb_"+c,acceptRule:!0};d=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0];shinobi.mapping.renderElement(d,a);shinobi.fragmentsignup.signup({method:"facebook",data:a})})}else shinobi.notification.notification.error("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi Facebook")},{scope:"user_birthday, email, user_hometown, user_gender, user_location"})}},
addEventSignUpButton:function(){var a=shinobi.fragmentsignup.modal.querySelector(".signup-button");shinobi.fragmentsignup.addEventWhenClick(a);shinobi.fragmentsignup.addEventWhenEnter(a)},addEventWhenClick:function(a){a.onclick=function(){shinobi.fragmentsignup.signup()}},addEventWhenEnter:function(a){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.fragmentsignup.signup()})},signup:function(a){var b=shinobi.fragmentsignup.getInput();shinobi.fragmentsignup.checkInput(b,
function(a){shinobi.fragmentsignup.sendRequest(a)},a)},sendRequest:function(a){shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"createNewUser",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.loaded(),shinobi.fragmentsignup.checkMailProcess(a),shinobi.fragmentsignup.showCheckMailModal(a),shinobi.fragmentsignup.close())})},showCheckMailModal:function(a){shinobi.notification.confirm(function(){},{title:"X\u00e1c nh\u1eadn email",
content:"<p>Xin ch\u00e0o <b>"+a.lastname+" "+a.firstname+"</b>,<br>Ch\u00fang t\u00f4i \u0111\u00e3 g\u1eedi m\u00e3 x\u00e1c nh\u1eadn \u0111\u1ebfn email: <b>"+a.email+"</b><br>Vui l\u00f2ng x\u00e1c nh\u1eadn \u0111\u1ecba ch\u1ec9 email \u0111\u1ec3 ho\u00e0n t\u1ea5t \u0111\u0103ng k\u00fd t\u00e0i kho\u1ea3n.<br>Tr\u00e2n tr\u1ecdng. </p>",ishiddenfooter:!0,modalsize:"is-medium"})},checkMailProcess:function(a){shinobi.fragmentsignup.hasCheckTrashMail&&shinobi.api.request(shinobi.coreapi.mailApi+
"sendMail",JSON.stringify(a),function(a){})},getInput:function(){for(var a=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0].querySelectorAll("[snb-key]"),b={},c=0;c<a.length;c++){var d=a[c].getAttribute("snb-key"),e=shinobi.util.getValueInput(a[c]);b[d]=e}return b},checkInput:function(a,b,c){var d=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0],e=!0;Object.entries(a).forEach(function(a){var b=a[1];a=d.querySelector('[snb-key="'+a[0]+'"]');"string"==
typeof b&&""==b||"boolean"==typeof b&&0==b?(shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin v\u00e0 \u0111\u1ed3ng \u00fd c\u00e1c \u0111i\u1ec1u kho\u1ea3n"),a.classList.add("is-danger"),e=!1):a.classList.remove("is-danger")});if(e)if(a.password==a.confirmPassword){a.password=shinobi.util.sha256(a.password);a.confirmPassword=shinobi.util.sha256(a.confirmPassword);a.phonereligion=shinobi.fragmentsignup.getInternationalTelephoneCode();a.country=shinobi.fragmentsignup.getInternationalTelephoneCountry();
if(c)switch(c.method){case "google":case "facebook":a.username=c.data.username;break;default:a.username=a.email}else a.username=a.email;"function"==typeof b&&b(a)}else shinobi.notification.notification.error("X\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u kh\u00f4ng tr\u00f9ng kh\u1edbp")},getInternationalTelephoneCode:function(){return shinobi.util.getInternationalTelephoneCode(shinobi.fragmentsignup.intlTelInput)},getInternationalTelephoneCountry:function(){return shinobi.util.getInternationalTelephoneCountry(shinobi.fragmentsignup.intlTelInput)},
addEventListButtonControl:function(){shinobi.fragmentsignup.listButtonControl=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);for(var a=0;a<shinobi.fragmentsignup.listButtonControl.length;a++)shinobi.fragmentsignup.listButtonControl[a].onclick=function(){shinobi.fragmentlogin.close();shinobi.fragmentsignup.open()}},open:function(){""!=shinobi.fragmentsignup.modal&&shinobi.fragmentsignup.modal.classList.add("is-active")},close:function(){""!=shinobi.fragmentsignup.modal&&
shinobi.fragmentsignup.modal.classList.remove("is-active")}};
shinobi.gui=function(){return function(a,b){this.editors=[];this.tableId="dataTable";this.detailPanelId="detailpanel";this.buttonGroupId="buttonGroup";this.apiurl=a;this.option=b;this.detailPanelElem=document.getElementById(this.detailPanelId);shinobi.tableHelper.getColname(this.tableId);this.tableObject=new shinobi.table(this.tableId);this.loadTable=function(){this.tableObject.viewDetailPanelId=this.detailPanelId;var a=this.tableObject.getColnames(this.tableId),d=shinobi.tableHelper.getRender(this.tableId);
d[0]||(d[0]=this.tableObject.viewDetailRender);var e={},f=shinobi.util.getRecordNumber(this.tableId);e.recordPerPage=isNaN(f)?10:f;null!=b&&b.hasOwnProperty.tableObjectOption&&null!=b.tableObjectOption&&"undefined"!==typeof b.tableObjectOption.staticfilters&&null!=b.tableObjectOption.staticfilters&&(this.tableObject.staticfilters=b.tableObjectOption.staticfilters);this.tableObject.staticsorts[0]={colname:"id",value:"desc"};null!=b&&b.hasOwnProperty.tableObjectOption&&null!=b.tableObjectOption&&"undefined"!==
typeof b.tableObjectOption.hasCheckDuplicateFilterColumn&&null!=b.tableObjectOption.hasCheckDuplicateFilterColumn&&"undefined"!==typeof b.tableObjectOption.checkDuplicateFilterColumnList&&null!=b.tableObjectOption.checkDuplicateFilterColumnList&&(this.tableObject.hasCheckDuplicateFilterColumn=b.tableObjectOption.hasCheckDuplicateFilterColumn,this.tableObject.checkDuplicateFilterColumnList=b.tableObjectOption.checkDuplicateFilterColumnList);this.tableObject.initLoadApi(this.apiurl+"/findDataListExport",
e,a,d);return this};this.createElem=function(a,b){a=document.createElement(a);a.classList.add(b);return a};this.buildViewPanelObject=function(){var a=this,b={};document.getElementById(this.detailPanelId).querySelectorAll("[snb-key]").forEach(function(c){var d=c.getAttribute("snb-key");c.hasAttribute("snb-preprocess")?shinobi.mapping.getValueElement(a.detailPanelElem,function(e){b[d]=eval(c.getAttribute("snb-preprocess"))(c.value,{elem:c,gui:a,all:e})}):c.hasAttribute("snb-editor-index")?b[d]=shinobiEditors[c.getAttribute("snb-editor-index")].getData():
c.hasAttribute("snb-datatype")?"number"==c.getAttribute("snb-datatype")&&(b[d]=Number(c.value)):b[d]=c.value});return b};this.registerCreateButton=function(){var a=this,d=document.getElementById(this.buttonGroupId).getElementsByClassName("createButton")[0],e=!0;b&&b.hasOwnProperty("isHiddenCreateButton")&&1==b.isHiddenCreateButton&&(e=!1,d.classList.add("is-hidden"));e&&(d.onclick=function(){shinobi.mapping.getValue("#"+a.detailPanelId,function(b){shinobi.notification.confirm(function(){a.createProcess(b)})})})};
this.createProcess=function(a){var c=this;b&&b.hasOwnProperty("createFunction")?b.createFunction(c,a):b&&b.hasOwnProperty("checkEmpty")&&b.checkEmpty?shinobi.mapping.getValueElement(c.detailPanelElem,function(b){delete b.id;Object.values(b).includes("")?shinobi.util.fillInputMessage():c.sendCreateRequest(a)},{checkEmpty:!0}):c.sendCreateRequest(a)};this.sendCreateRequest=function(a){var b=this;delete a.id;shinobi.notification.notification.loading();shinobi.api.request(b.apiurl+"/create",JSON.stringify(a),
function(a){shinobi.notification.notification.info(a);b.loadTable()})};this.registerDeleteButton=function(){var a=document.getElementById(this.buttonGroupId).getElementsByClassName("deleteButton")[0],d=this,e=!0;b&&b.hasOwnProperty("isHiddenDeleteButton")&&1==b.isHiddenDeleteButton&&(e=!1,a.classList.add("is-hidden"));e&&(a.onclick=function(){d.checkDetailPanelJsonHasId(d,function(a){b&&b.hasOwnProperty("deleteFunction")?b.deleteFunction(d,a):(shinobi.notification.notification.loading(),shinobi.api.request(d.apiurl+
"/remove",JSON.stringify(a),function(a){shinobi.notification.notification.info(a);d.loadTable()}))})})};this.registerUpdateButton=function(){var a=document.getElementById(this.buttonGroupId).getElementsByClassName("updateButton")[0],d=this,e=!0;b&&b.hasOwnProperty("isHiddenUpdateButton")&&1==b.isHiddenUpdateButton&&(e=!1,a.classList.add("is-hidden"));e&&(a.onclick=function(){d.checkDetailPanelJsonHasId(d,function(a){b&&b.hasOwnProperty("updateFunction")?b.updateFunction(d,a):d.updateProcess(a)})})};
this.updateProcess=function(a){var c=this;b&&b.hasOwnProperty("updateFunction")?b.updateFunction(c,a):b&&b.hasOwnProperty("checkEmpty")&&b.checkEmpty?shinobi.mapping.getValueElement(c.detailPanelElem,function(b){Object.values(b).includes("")?shinobi.util.fillInputMessage():c.sendUpdateRequest(a)},{checkEmpty:!0}):c.sendUpdateRequest(a)};this.sendUpdateRequest=function(a){var b=this;shinobi.notification.notification.loading();shinobi.api.request(b.apiurl+"/merge",JSON.stringify(a),function(a){shinobi.notification.notification.info(a);
b.loadTable()})};this.checkDetailPanelJsonHasId=function(a,b){shinobi.mapping.getValue("#"+a.detailPanelId,function(a){a.hasOwnProperty("id")&&""!=a.id.trim()?shinobi.notification.confirm(function(){"function"==typeof b&&b(a)}):shinobi.notification.notification.error("Ch\u01b0a ch\u1ecdn record n\u00e0o trong danh s\u00e1ch \u0111\u1ec3 thao t\u00e1c")})};this.registerRefreshButton=function(){document.getElementById(this.buttonGroupId).getElementsByClassName("refreshButton")[0].addEventListener("click",
function(){location.reload()})};this.loadAll=function(){this.loadTable();this.registerCreateButton();this.registerRefreshButton();this.registerDeleteButton();this.registerUpdateButton()}}}();
shinobi.initbulma={quickviews:[],calendars:"",tagsInput:"",iconpicker:"",bulmaSlider:"",build:function(){shinobi.initbulma.addEventNavbarBurger();shinobi.initbulma.addEventModal();shinobi.initbulma.addEventTabs();shinobi.initbulma.addEventDropdown();shinobi.initbulma.activeNavbarHeader();"function"==typeof bulmaSlider&&(shinobi.initbulma.bulmaSlider=bulmaSlider.attach());"function"==typeof bulmaTagsinput&&(shinobi.initbulma.tagsInput=bulmaTagsinput.attach());"function"==typeof bulmaIconpicker&&(shinobi.initbulma.iconpicker=
bulmaIconpicker.attach());"function"==typeof bulmaCalendar&&(shinobi.initbulma.calendars=bulmaCalendar.attach('[type="date"]:not(.is-init-bulma-false)',{dateFormat:"DD/MM/YYYY",displayMode:"dialog",closeOnOverlayClick:!1}))},addEventDropdown:function(){for(var a=document.querySelectorAll(".dropdown:not(.is-hoverable)"),b=0;b<a.length;b++)shinobi.initbulma.addEventDropdownElem(a[b])},addEventDropdownElem:function(a){var b=a.getElementsByClassName("dropdown-trigger")[0].getElementsByClassName("button")[0];
b&&(b.onclick=function(){a.classList.toggle("is-active")})},activeNavbarHeader:function(){for(var a=document.querySelectorAll(".navbar.is-init"),b=0;b<a.length;b++)shinobi.initbulma.activeNavbar(a[b])},activeNavbar:function(a){for(var b=a.querySelectorAll(".navbar-item[href],.navbar-link[href]"),c=shinobi.initbulma.getPathNameAppendSearch(),d=0;d<b.length;d++){var e=b[d],f=e.getAttribute("href");c.includes(f)&&(e.classList.add("is-active"),shinobi.initbulma.activeParentNavbarItem(e.parentNode))}a=
a.querySelectorAll(".navbar-item[ref-list],.navbar-link[ref-list]");for(b=0;b<a.length;b++){var g=a[b];g.getAttribute("ref-list").split(",").forEach(function(a){a==c&&(g.classList.add("is-active"),shinobi.initbulma.activeParentNavbarItem(g.parentNode))})}},getPathNameAppendSearch:function(){return window.location.pathname+window.location.search},activeParentNavbarItem:function(a){if(a.hasAttribute("class")){var b=a.getAttribute("class");["navbar-start","nabvar-end","navbar-menu","navbar-brand","navbar"].forEach(function(a){b.includes(a)});
b.includes("navbar-item")&&b.includes("has-dropdown")?(a=a.getElementsByClassName("navbar-link")[0])&&a.classList.add("is-active"):shinobi.initbulma.activeParentNavbarItem(a.parentNode)}},activeTab:function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b?a[c].classList.add("is-active"):a[c].classList.remove("is-active"),a[c].hasAttribute("tab-container-id")){var d=document.getElementById(a[c].getAttribute("tab-container-id"));d&&(a[c]==b?d.classList.remove("is-hidden"):d.classList.add("is-hidden"))}},
addEventTabs:function(){for(var a=document.querySelectorAll(".tabs.is-init"),b=0;b<a.length;b++)shinobi.initbulma.addEvenOneTab(a,b)},addEvenOneTab:function(a,b){a=a[b];var c=a.getElementsByTagName("li");a=a.getAttribute("class");for(b=0;b<c.length;b++)if(a.includes("is-not-active-click")||(c[b].onclick=function(){shinobi.initbulma.activeTab(c,this)}),a.includes("is-active-pathname")){var d=shinobi.initbulma.getPathNameAppendSearch(),e=c[b].querySelector("a[href]");e&&(e=e.getAttribute("href"),d.includes(e)&&
c[b].classList.add("is-active"))}},addEventModal:function(){document.querySelectorAll(".modal").forEach(function(a,b){shinobi.initbulma.modalEventListener(a)})},modalOpen:function(a){a.classList.add("is-active");document.documentElement.classList.add("is-clipped")},modalClose:function(a){a.classList.remove("is-active");document.documentElement.classList.remove("is-clipped")},modalEventListener:function(a){var b=a.querySelectorAll('.delete,[aria-label="close"]');0<b.length&&(b=b[0])&&(b.onclick=function(){shinobi.initbulma.modalClose(a)});
b=a.getElementsByClassName("cancel-modal-button");for(var c=0;c<b.length;c++)b[c].onclick=function(){shinobi.initbulma.modalClose(a)};b=a.getElementsByClassName("modal-background");for(c=0;c<b.length;c++)b[c].onclick=function(){shinobi.initbulma.modalClose(a)};window.addEventListener("keydown",function(b){"Escape"==b.key&&shinobi.initbulma.modalClose(a)},!0);if(b=a.getElementsByTagName("footer")[0]){b=b.getElementsByTagName("button");for(var d in b)b[d].onclick=function(){shinobi.initbulma.modalClose(a)}}if(a.hasAttribute("control-button-list"))for(d=
a.getAttribute("control-button-list").split("|"),b=0;b<d.length;b++){var e=document.getElementById(d[b]);e.onclick=function(){shinobi.initbulma.modalOpen(a);if(e.hasAttribute("snb-render")){var b=e.getAttribute("snb-key"),c=e.getAttribute("snb-render");eval(c)(e,b)}}}},addEventNavbarBurger:function(){var a=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);0<a.length&&a.forEach(function(a){a.addEventListener("click",function(){var b=document.getElementById(a.dataset.target);
a.classList.toggle("is-active");b.classList.toggle("is-active")})})}};
shinobi.language={currentPagelang:"",existLangAttribte:"snb-exist-lang",option:{},jsonArray:[],dataRender:{},hasChangeLanguage:!0,warningList:[],build:function(a){this.option=a;this.setupOption();shinobi.language.renderLangCodeSelect(function(){shinobi.language.renderPageLanguage()})},setupOption:function(){var a=this.option;a&&a.hasOwnProperty("autoReload")&&a.autoReload&&setInterval(function(){shinobi.language.renderPageLanguage()},2E3)},renderPageLanguage:function(){shinobi.language.hasChangeLanguage?
shinobi.language.getLangCodeList(function(){shinobi.language.hasChangeLanguage=!1;shinobi.language.buildDataRender(function(){shinobi.language.render()})}):shinobi.language.render()},buildDataRender:function(a){shinobi.language.dataRender={};shinobi.language.jsonArray.forEach(function(a){shinobi.language.dataRender[a.resourcename]=a.resourcevalue});"function"==typeof a&&a()},render:function(){for(var a=document.querySelectorAll("[snb-lang]"),b=0;b<a.length;b++)shinobi.language.renderElement(a[b])},
renderContainer:function(a){a=a.querySelectorAll("[snb-lang]");for(var b=0;b<a.length;b++)shinobi.language.renderElement(a[b])},renderElement:function(a){var b=window.localStorage.getItem("currentLangCode");if(!a.hasAttribute("language")||a.getAttribute("language")!=b){var c=shinobi.language.dataRender,d=Object.values(a.attributes).filter(function(a){return a.name.includes("snb-lang")});if(0<d.length){if(1==d.length)if(c.hasOwnProperty(d[0].value))a.innerHTML=c[d[0].value];else{var e=d[0].value;shinobi.language.warningElem(a,
e)}else d.forEach(function(b){var d=b.name;e=b.value;d.includes("snb-lang-")&&(b=d.replace("snb-lang-",""),c.hasOwnProperty(e)?(d=c[e],"innerhtml"==b?a.innerHTML=d:"value"==b?a.value=d:a.setAttribute(b,d)):shinobi.language.warningElem(a,e))});a.setAttribute("language",b)}}},warningElem:function(a,b){shinobi.language.warningList.includes(b)||(console.log("---"),console.log(a),console.log("resourcename: "+b+"    =    ????"),shinobi.language.warningList.push(b))},renderLangCodeSelect:function(a){var b=
window.localStorage.getItem("currentLangCode"),c=document.getElementById("selectLangcode");c?(b?c.value=b:window.localStorage.setItem("currentLangCode",c.value),c.onchange=function(){window.localStorage.setItem("currentLangCode",this.value);shinobi.hasOwnProperty("userstorage")&&shinobi.userstorage.updateStorage();shinobi.language.hasChangeLanguage=!0;shinobi.language.renderPageLanguage();if(shinobi.language.option.hasOwnProperty("onchangeLangCodeSelectCallback"))shinobi.language.option.onchangeLangCodeSelectCallback()}):
(console.log(" not declare language select"),window.localStorage.setItem("currentLangCode","VN"));"function"==typeof a&&a()},getLangCodeList:function(a){var b=window.localStorage.getItem("currentLangCode"),c={};c.langcode=b;shinobi.cacheapi.request(("object"==typeof shinobi.coreapi&&shinobi.coreapi.languageApi?shinobi.coreapi.languageApi:"/api/StaticPagePublicApi/")+"getListPageCode",JSON.stringify(c),function(b){shinobi.language.jsonArray=JSON.parse(b);a(b)})},free:'<span snb-lang="PAGECODE_FREE"></span>',
subscribed:'<span snb-lang="PAGECODE_SUBCRIBED"></span>',onlyFollower:'<span snb-lang="PAGECODE_ONLYFORFOLLOWERS"></span>'};
shinobi.mapping={render:function(a,b){b=JSON.parse(b);a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.mapping.renderElement(a[c],b)},renderElement:function(a,b){for(var c in b){var d=a.querySelectorAll("[snb-key="+c+"]");0==d.length&&a.hasAttribute("snb-key")&&a.getAttribute("snb-key")==c&&shinobi.mapping.renderSelector(a,b,c);for(var e=0;e<d.length;e++)shinobi.mapping.renderSelector(d[e],b,c)}},renderSelector:function(a,b,c){var d=a.nodeType;c=b[c];if(a.hasAttribute("snb-render"))d=
a.getAttribute("snb-render"),eval(d)(a,c,b);else if(a.hasAttribute("snb-format")&&"number"===a.getAttribute("snb-format")&&(c=Number(c).format(0,3,",",".")),3===d)a.innerHTML=c;else if(1===d)if(a.hasAttribute("snb-editor-index"))"object"==typeof shinobiEditors?shinobiEditors[a.getAttribute("snb-editor-index")].setData(c):"object"==typeof CKEDITOR&&a.hasAttribute("id")?CKEDITOR.instances.hasOwnProperty(a.id)?CKEDITOR.instances[a.id].setData(c):console.log("elem has id"+a.id+" has not been replace by CKEDITOR "):
console.log("CKEDITOR could not be declare");else{d=a.attributes;for(var e=!1,f=d.length-1;0<=f;f--){var g=d[f].name,h=d[f].value;if(0<=g.search("snb-key-"))switch(e=!0,g=g.substring(8),g){case "value":a.value=b[h];a.setAttribute(g,b[h]);break;case "innerhtml":a.innerHTML=b[h];break;default:a.setAttribute(g,b[h])}}if(!1===e)if(["INPUT","SELECT","TEXTAREA"].includes(a.tagName))switch(c=shinobi.util.decodeValue(c),a.tagName){case "OPTION":a.hasAttribute("snb-key-innerhtml")&&(a.innerHTML=c);break;case "INPUT":switch(a.type){case "checkbox":a.checked=
JSON.parse(c);break;case "radio":c&&a.hasAttribute("radio-value")&&(a.getAttribute("radio-value")==c?a.checked=!0:a.checked=!1);break;default:a.value=c}break;case "SELECT":a.value=c;break;default:a.value=c}else a.innerHTML=c}},applySnbFormat:function(a,b){},getValue:function(a,b,c){a=document.querySelector(a);shinobi.mapping.getValueElement(a,b,c)},getValueElement:function(a,b,c){var d=[],e={};a.querySelectorAll("[snb-key]").forEach(function(b){var f=b.getAttribute("snb-key");if(b.hasAttribute("snb-editor-index"))e[f]=
shinobi.mapping.getValueShinobiEditor(b,{container:a});else{var h={container:a,listRadioNameHasGetValue:d};c&&c.hasOwnProperty("getHtml")&&c.getHtml&&(h.getHtml=!0);c&&c.hasOwnProperty("getText")&&c.getText&&(h.getText=!0);e[f]=shinobi.mapping.getValueMappingNormalTag(b,h)}shinobi.mapping.handleOptionMapping(b,e,c)});"function"==typeof b&&b(e)},handleOptionMapping:function(a,b,c){if(c){var d=a.tagName,e=a.getAttribute("snb-key");if(c.hasOwnProperty("checkEmpty")){b=""==b[e]?!0:!1;if(!a.classList.contains("disable-checkempty"))switch(d){case "INPUT":case "TEXTAREA":b?
a.classList.add("is-danger"):a.classList.remove("is-danger");break;case "SELECT":b?a.parentElement.classList.add("is-danger"):a.parentElement.classList.remove("is-danger")}a.hasAttribute("snb-editor-index")&&(c=CKEDITOR.instances[a.getAttribute("id")].container.$,b?(c.classList.add("input"),c.classList.add("is-danger")):(c.classList.remove("input"),c.classList.remove("is-danger")));"INPUT"==d&&"file"==a.getAttribute("type")&&(c=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"file"}),
b?c.classList.add("is-danger"):c.classList.remove("is-danger"));"INPUT"==d&&a.hasAttribute("snb-date-filter")&&(b?a.parentElement.classList.add("has-border-danger"):a.parentElement.classList.remove("has-border-danger"))}}},getValueMappingNormalTag:function(a,b){var c,d=b.listRadioNameHasGetValue;switch(a.tagName){case "INPUT":switch(a.hasAttribute("type")?a.getAttribute("type"):"text"){case "radio":(c=a.getAttribute("name"))?(d.push(c),c=(c=document.querySelector('input[type="radio"][name="'+c+'"]:checked'))?
c.getAttribute("radio-value"):!1):c=a.checked;break;case "file":c=a.hasAttribute("image-url")?a.getAttribute("image-url"):a.value;break;case "tags":(d=shinobi.util.getTagInputMappingElem(a))&&(c=d.tags.toString());break;case "checkbox":c=a.checked;break;default:c=a.value.trim()}break;case "SELECT":case "TEXTAREA":c=a.value.trim();break;default:b&&b.hasOwnProperty("getHtml")&&b.getHtml&&(c=a.innerHTML.trim()),b&&b.hasOwnProperty("getText")&&b.getText&&(c=a.innerText.trim())}return c=shinobi.mapping.checkPreProcess(a,
{container:b.container,returnValue:c})},replaceFormWithLabel:function(a){shinobi.mapping.replaceFormWithLabelElement(document.querySelector(a))},replaceFormWithLabelElement:function(a){a=a.querySelectorAll("[snb-key]");for(var b=0;b<a.length;b++)shinobi.mapping.replaceFormWithLabelSnbKey(a[b])},replaceFormWithLabelSnbKey:function(a){var b=a.tagName,c=document.createElement("p"),d=a.value;c.setAttribute("class","is-italic");console.log(a);if(["INPUT","SELECT","TEXTAREA"].includes(b))switch(b){case "SELECT":c.innerHTML=
0<a.selectedIndex?a.options[a.selectedIndex].text:"";a.parentElement.parentElement.replaceChild(c,a.parentElement);break;default:c.innerHTML=d,a.parentElement.replaceChild(c,a)}},checkPreProcess:function(a,b){var c=b.returnValue,d=b.container;b=c;a.hasAttribute("snb-preprocess")&&(b=eval(a.getAttribute("snb-preprocess"))(c,{elem:a,container:d}));a.getAttribute("snb-datatype")&&(b=(a=JSON.parse(b))?a:b);return b},getValueShinobiEditor:function(a,b){var c="object"==typeof shinobiEditors?shinobiEditors[a.getAttribute("snb-editor-index")].getData():
"object"==typeof CKEDITOR&&a.hasAttribute("id")?CKEDITOR.instances.hasOwnProperty(a.id)?CKEDITOR.instances[a.id].getData():"":"";return c=shinobi.mapping.checkPreProcess(a,{container:b.container,returnValue:c})},clear:function(a,b,c){a=document.querySelector(a);shinobi.mapping.clearElement(a,b,c)},clearElement:function(a,b,c){a.querySelectorAll("[snb-key]").forEach(function(a){switch(a.tagName){case "INPUT":switch(a.type){case "checkbox":case "radio":a.checked=!1;break;case "file":a.hasAttribute("image-url")?
a.removeAttribute("image-url"):a.value="";var b=a.parentElement.querySelector(".file-name");b&&(b.innerHTML="");(b=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"field"}))&&(b=b.querySelector(".image-info"))&&b.remove();break;default:a.value=""}break;case "SELECT":case "TEXTAREA":a.value=""}b=a.attributes;for(var c=b.length-1;0<=c;c--){var d=b[c].name;if(0<=d.search("snb-key-"))switch(d=d.substring(8),d){case "value":a.value="";a.removeAttribute(d);break;case "innerhtml":a.innerHTML=
"";break;default:a.removeAttribute(d)}}});"function"==typeof b&&b()}};
shinobi.menu={moduleTable:"",tableId:"dataTable",previewPatern:"#previewContainer",build:function(){shinobi.menu.renderListModule();shinobi.menu.addEventAddSubMenu();shinobi.menu.addEventIconPicker()},addEventIconPicker:function(){shinobi.initbulma||bulmaIconpicker.attach();setTimeout(function(){document.getElementsByClassName("iconpicker-modal")[0].classList.add("is-medium")},2E3)},addEventAddSubMenu:function(){document.getElementById("createSubmenuButton").onclick=function(){var a=document.getElementById("previewContainer"),
b={};b.modulename=a.getAttribute("value");shinobi.menu.activeMenuItemInfomationModal(b,function(a){shinobi.menu.createAndInsertMenuItemChildNode(a)})}},renderListModule:function(){shinobi.menu.moduleTable=new shinobi.table(shinobi.menu.tableId);var a=shinobi.menu.moduleTable.getColnames(shinobi.menu.tableId),b=[];b[0]=shinobi.menu.viewMenuStructure;var c={};c.recordPerPage=shinobi.util.getRecordNumber(shinobi.menu.tableId);shinobi.menu.moduleTable.staticfilters[0]={colname:"id",operator:">",value:0};
shinobi.menu.moduleTable.sorts[0]={colname:"id",value:"desc"};shinobi.menu.moduleTable.initLoadApi("/authenapi/ModuleApi/findDataList",c,a,b)},viewMenuStructure:function(a,b,c){var d=a.innerHTML;a.innerHTML='<a class="button is-small is-icon is-info"><span class="icon"><i class="fal fa-search"></i></span></a>';a.onclick=function(){shinobi.util.removeClass("menuButtonGroup","is-hidden");shinobi.menu.createStructure(d)}},createStructure:function(a){shinobi.menu.getModuleMenuData(a,function(b){var c=
document.getElementById("previewContainer");c.innerHTML="";c.setAttribute("value",a);shinobi.menurender.build(shinobi.menu.previewPatern,b);shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);setTimeout(function(){shinobi.menurender.showAllMenu(shinobi.menu.previewPatern)},1E3);shinobi.menu.addEventInsertChildNode(shinobi.menu.previewPatern);shinobi.menu.addEventDeleteMenuItem(shinobi.menu.previewPatern);shinobi.menu.addEventUpdateMenuItem(shinobi.menu.previewPatern);shinobi.menu.addEventMoveUpMenuItem(shinobi.menu.previewPatern);
shinobi.menu.addEventMoveDownMenuItem(shinobi.menu.previewPatern)})},addEventMoveDownMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addMoveDownItemButton(a,b)},addMoveDownItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon tooltip");c.setAttribute("data-tooltip","Chuy\u1ec3n xu\u1ed1ng");c.innerHTML='<i class="fal fa-arrow-down"></i>';a=a[b];a.parentNode.nextElementSibling&&
(a.appendChild(c),c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);a.menucode=a.menuparent;shinobi.menu.callApiUpdateMenu("/authenapi/MenuApi/moveMenuDown",a)})},addEventMoveUpMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addMoveUpItemButton(a,b)},addMoveUpItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon tooltip");c.setAttribute("data-tooltip","Chuy\u1ec3n l\u00ean");
c.innerHTML='<i class="fal fa-arrow-up"></i>';a=a[b];a.parentNode.previousElementSibling&&(a.appendChild(c),c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);a.menucode=a.menuparent;shinobi.menu.callApiUpdateMenu("/authenapi/MenuApi/moveMenuUp",a)})},callApiUpdateMenu:function(a,b){shinobi.notification.notification.loading();shinobi.api.request(a,JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(b.modulename)},
1E3))})},addEventUpdateMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addUpdateItemButton(a,b)},addUpdateItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-info tooltip");c.setAttribute("data-tooltip","Ch\u1ec9nh s\u1eeda");c.innerHTML='<i class="fal fa-pen"></i>';var d=a[b];d.appendChild(c);c.onclick=function(){var a=shinobi.menu.getParentMenuData(this),b=d.getElementsByTagName("a")[0];
a.menudes=b.getAttribute("title");a.menucode=b.getAttribute("id");a.menuicon=b.getAttribute("icon-class");a.menuname=b.innerHTML;a.menuurl=b.getAttribute("href");shinobi.menu.activeMenuItemInfomationModal(a,function(b){b.menucode=a.menucode;shinobi.api.request("/authenapi/MenuApi/updateMenu",JSON.stringify(b),function(b){"update success"==b&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},1E3))})})}},
addEventDeleteMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addDeleteItemButton(a,b)},addDeleteItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-danger tooltip");c.setAttribute("data-tooltip","X\u00f3a");c.innerHTML='<i class="fal fa-times"></i>';a[b].appendChild(c);c.onclick=function(){var a=shinobi.menu.getParentMenuData(this),b=document.getElementById("confirmRemoveMenuItemModal");
b.classList.add("is-active");document.getElementById("acceptRemoveMenuItemModal").onclick=function(){a.menucode=a.menuparent;delete a.menuparent;shinobi.api.request("/authenapi/MenuApi/deleteMenu",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.info("X\u00f3a th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},1E3))});b.classList.remove("is-active")}}},activeMenuItemInfomationModal:function(a,b){a.menudes||(a.menudes="");a.menuicon||
(a.menuicon=shinobi.menurender.defaultIcon);a.menuname||(a.menuname="");a.menuurl||(a.menuurl="");var c=document.getElementById("menuItemInfomationModal");a.menuparent||c.querySelectorAll("[snb-key=menuparent]")[0].removeAttribute("value");c.getElementsByClassName("iconpicker-preview")[0].innerHTML='<i snb-key="menuicon" snb-key-class="menuicon" class="iconpicker-icon-preview icon-menu"></i>';c.classList.add("is-active");shinobi.mapping.render("#menuItemInfomationModal",JSON.stringify(a));document.getElementById("acceptModalButton").onclick=
function(){var a=shinobi.menu.getModalInput();b(a);c.classList.remove("is-active")}},addEventInsertChildNode:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addInsertItemButton(a,b)},addInsertItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-success tooltip");c.setAttribute("data-tooltip","Th\u00eam menu con");c.innerHTML='<i class="fal fa-plus"></i>';a=a[b];a.appendChild(c);
c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);shinobi.menu.activeMenuItemInfomationModal(a,function(a){shinobi.menu.createAndInsertMenuItemChildNode(a)})};a.onclick=function(){}},createAndInsertMenuItemChildNode:function(a){shinobi.notification.notification.loading();shinobi.api.request("/authenapi/MenuApi/createMenu",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.info("T\u1ea1o m\u1edbi th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},
1E3))})},getParentMenuData:function(a){a=a.parentNode.getElementsByTagName("a")[0];var b=document.getElementById("previewContainer"),c={};c.menuparent=a.getAttribute("id");c.modulename=b.getAttribute("value");return c},getModalInput:function(){for(var a=document.getElementById("menuItemInfomationModal").querySelectorAll("[snb-key]"),b={},c=0;c<a.length;c++){var d=a[c].getAttribute("snb-key"),e=a[c].value;""!=e&&(b[d]=e)}a=document.getElementsByClassName("iconpicker-preview")[0].getElementsByTagName("i")[0].getAttribute("class");
b.menuicon=a;return b},getModuleMenuData:function(a,b){var c={};c.modulename=a;console.log(window.localStorage.getItem("currentModule"));console.log(a);shinobi.notification.notification.loading();shinobi.api.request("/authenapi/MenuApi/getListMenu",JSON.stringify(c),function(a){a=JSON.parse(a);shinobi.notification.notification.loaded();b(a)})}};
shinobi.menumodule={currentModule:"",patern:"",container:"",build:function(a,b){shinobi.menumodule.patern=a;a=document.querySelectorAll(a)[0];shinobi.menumodule.container=a;shinobi.menumodule.render(b)},activeCurrentTab:function(a,b){a=a.querySelectorAll("[href]");for(var c=0;c<a.length;c++){var d=window.location.pathname,e=a[c].getAttribute("href");b&&b.hasOwnProperty("includesSearch")&&b.includesSearch&&(d+=window.location.search);b&&b.hasOwnProperty("notCareSearch")&&b.notCareSearch&&(d=window.location.pathname,
e=e.indexOf("?")?e.slice(0,e.indexOf("?")):e);e==d&&(a[c].parentNode.classList.add("is-active"),shinobi.menumodule.openParentNode(a[c].parentNode.parentNode))}},renderMenuModuleSelectHeader:function(a){var b=window.localStorage.getItem("currentModule");b&&""!=b?shinobi.menumodule.buildHeaderSelectMenuModule(a):shinobi.menumodule.setDefaultModule(function(){shinobi.menumodule.buildHeaderSelectMenuModule(a)})},buildHeaderSelectMenuModule:function(a){var b=document.querySelector(a);b.setAttribute("class",
"navbar-item has-dropdown is-hoverable");a=document.createElement("a");a.setAttribute("class","navbar-link");a.innerHTML='<span class="icon"><i class="fal fa-cog"></i></span> <span>'+window.localStorage.getItem("currentModule")+"</span>";b.appendChild(a);shinobi.menumodule.getListModule(function(a){a=JSON.parse(a);var c=document.createElement("div");c.setAttribute("class","navbar-dropdown is-right");b.appendChild(c);for(var e=0;e<a.length;e++)shinobi.menumodule.buildHeaderMenuModuleItem(c,a,e)})},
buildHeaderMenuModuleItem:function(a,b,c){var d=document.createElement("a");d.setAttribute("class","navbar-item");d.innerHTML=b[c];a.appendChild(d);d.onclick=function(){var a=this.innerHTML;window.localStorage.setItem("currentModule",a);shinobi.menumodule.getListMenuModule(a,function(a){0<a.length?window.location.href=a[0].menuurl:location.reload()})}},setDefaultModule:function(a){shinobi.menumodule.getListModule(function(b){b=JSON.parse(b);b[0]&&(window.localStorage.setItem("currentModule",b[0]),
"function"==typeof a&&a())})},getListModule:function(a){shinobi.cacheapi.request("/authenapi/ModuleApi/getUserModules",JSON.stringify({}),function(b){a(b)})},openParentNode:function(a,b){setTimeout(function(){var c=a.getElementsByTagName("a")[0].parentNode;b&&b.hasOwnProperty("scrollTop")&&(b.scrollTop=c.offsetTop)},1E3);var c=a.parentNode;c.getAttribute("class")&&c.getAttribute("class").includes("ul-submenu")&&(c.previousElementSibling.click(),shinobi.menumodule.openParentNode(c.parentNode,b))},
render:function(a){if(window.localStorage.getItem("currentModule")){var b=window.localStorage.getItem("currentModule");shinobi.menumodule.getListMenuModule(b,function(b){shinobi.menurender.build(shinobi.menumodule.patern,b);shinobi.menumodule.activeCurrentTab(shinobi.menumodule.container);a&&a.hasOwnProperty("callback")&&a.callback()})}else setTimeout(function(){shinobi.menumodule.render(a)},200)},getListMenuModule:function(a,b){var c={};c.modulename=a;shinobi.cacheapi.request("/authenapi/MenuApi/getListMenu",
JSON.stringify(c),function(a){a=JSON.parse(a);b(a)})}};
shinobi.menurender={patern:"",data:"",container:"",dangerStyle:"color: rgb(241, 70, 104) !important;",defaultIcon:"iconpicker-icon-preview icon-menu",build:function(a,b,c){shinobi.menurender.patern=a;shinobi.menurender.data=b;a=document.querySelectorAll(a)[0];shinobi.menurender.container=a;shinobi.menurender.render(a,b);"function"==typeof c&&c()},showAllMenu:function(a){a=document.querySelectorAll(a)[0];for(var b=a.getElementsByClassName("shinobi-arrow"),c=0;c<b.length;c++){b[c].classList.add("arrow-down");
for(var d=a.getElementsByClassName("is-hidden"),e=0;e<d.length;e++)d[e].classList.remove("is-hidden")}},render:function(a,b){if(a){a.classList.add("shinobimenu");var c=document.createElement("ul");a.appendChild(c);shinobi.menurender.addEventToggleSubMenu(c);b.sort(function(a,b){return a.menucode.includes("_")&&b.menucode.includes("_")?Number(a.menucode.split("_")[1])-b.menucode.split("_")[1]:1});for(a=0;a<b.length;a++)shinobi.menurender.buildBlockMenu(c,b,a)}},addEventToggleSubMenu:function(a){if(a.previousElementSibling){var b=
a.previousElementSibling;b.getAttribute("class").includes("has-submenu")&&(a.classList.add("is-hidden"),a.classList.toggle("ul-submenu"),b.onclick=function(){a.classList.toggle("is-hidden");b.getElementsByClassName("shinobi-arrow")[0].classList.toggle("arrow-down")})}},buildBlockMenu:function(a,b,c){b=b[c];c=document.createElement("li");a.appendChild(c);a=document.createElement("div");a.setAttribute("class","shinobimenu-item");c.appendChild(a);var d=document.createElement("span");a.appendChild(d);
var e=document.createElement("i");e.setAttribute("class",shinobi.menurender.defaultIcon);d.appendChild(e);b.menuicon&&e.setAttribute("class",b.menuicon);d=document.createElement("a");d.innerHTML=b.menuname;a.appendChild(d);b.menucode&&(d.id=b.menucode);b.menuurl&&(d.href=shinobi.util.decodeValue(b.menuurl));b.menudes&&(d.title=b.menudes);b.menuicon?d.setAttribute("icon-class",b.menuicon):d.setAttribute("icon-class",shinobi.menurender.defaultIcon);b.menuchildren&&0!=b.menuchildren.length&&(a.classList.add("has-submenu"),
shinobi.menurender.createArrowSpan(a),shinobi.menurender.render(c,b.menuchildren));b.hasOwnProperty("menudes")&&(b.menudes.toLowerCase().includes("(nguy hi\u1ec3m)")||b.menudes.toLowerCase().includes("(danger)"))&&(e.setAttribute("style",shinobi.menurender.dangerStyle),d.setAttribute("style",shinobi.menurender.dangerStyle))},createArrowSpan:function(a){var b=document.createElement("span");b.setAttribute("class","is-right-align shinobi-arrow");a.appendChild(b)}};
shinobi.multivalueinput=function(){var a=function(a,c){this.inputSearch=this.input=this.multivalueinput="";this.selector=a;this.idSearchInputTag="selectorInputSearch";this.result=[];this.updateInputValue=function(){this.input.value=this.result};this.renderItem=function(a){try{return a=JSON.parse(a)}catch(e){return a}};this.getResultValue=this.setListResult=this.getListResult="";this.options=c;this.buildSearch=function(a){shinobi.util.addEventEnter(a.inputSearch,function(){var b=a.onSubmit(a.inputSearch.value.trim());
a.appendChildItem(b,a);a.inputSearch.value=""})};this.onSubmit=function(a,b){return a};this.appendChildItem=function(a,b){a&&(a=JSON.stringify(a),-1==b.result.indexOf(a)&&(b.result.push(a),b.updateInputValue(),b.insertBeforeSearch(a,b)))};this.insertBeforeSearch=function(a,b){var c=document.createElement("div");c.classList.add("tag","is-3","is-medium");c.innerHTML=b.renderItem(a);var d=document.createElement("button");d.classList.add("is-small","is-danger","delete","has-background-danger","has-text-white");
d.addEventListener("click",function(){c.remove();var d=b.result.indexOf(a);-1<d&&b.result.splice(d,1);b.updateInputValue()});c.appendChild(d);d=document.querySelector("#tagstaginput");var e=document.getElementById("tagsearch");d.insertBefore(c,e)};this.loadOptions=function(){c.hasOwnProperty("buildSearch")&&(this.buildSearch=c.buildSearch);c.hasOwnProperty("onSubmit")&&(this.onSubmit=c.onSubmit);c.hasOwnProperty("renderItem")&&(this.renderItem=c.renderItem);c.hasOwnProperty("getListResult")&&(this.getListResult=
c.getListResult);c.hasOwnProperty("setListResult")&&(this.setListResult=c.setListResult)};this.createStructure=function(a){var b=document.getElementById("tagstaginput");if(b)for(;b.firstChild.classList.contains("tag");)b.firstChild.remove();this.input=document.querySelector(this.selector);this.input.classList.add("is-hidden");b=document.createElement("div");b.style.padding="1rem";b.style.border="1px solid #ddd";b.style.borderRadius="10px";b.classList.add("box");var c=document.createElement("div");
c.setAttribute("class","tags is-multiline");c.setAttribute("id","tagstaginput");var d=document.createElement("div");d.setAttribute("class","is-5");d.setAttribute("id","tagsearch");var h=document.createElement("input");h.setAttribute("class","input is-bordered");h.setAttribute("id",this.idSearchInputTag);d.appendChild(h);c.appendChild(d);b.appendChild(c);this.inputSearch=h;this.input.parentElement.replaceChild(b,this.input);b.insertBefore(this.input,b.firstElementChild);b.appendChild(this.input);a()};
this.createObject=function(){var a=this;a.buildSearch(a);"function"===typeof a.setListResult&&a.setListResult(a.input).forEach(function(b){a.appendChildItem(b,a)});"function"===typeof a.getListResult&&getListResult(a.result)};this.loadAll=function(){var a=this;this.loadOptions();this.createStructure(function(){a.createObject()})};this.loadAll()};a.staticmethod={hello:function(){}};return a}();
shinobi.notification={config:{modalSize:"is-small"},modal:{modalId:"confirmPanel",isInitLoad:!1,isAccept:!1,confirm:function(a){document.getElementById(this.modalId).classList.add("is-active");this.isInitLoad||this.registerButton();this.isInitLoad=!0;this.isAccept=!1;this.doAccept=a},registerButton:function(){var a=document.getElementById(this.modalId);a.getElementsByClassName("delete")[0].addEventListener("click",function(){a.classList.remove("is-active")});a.getElementsByClassName("cancel")[0].addEventListener("click",
function(){a.classList.remove("is-active")});var b=this;a.getElementsByClassName("yes")[0].addEventListener("click",function(){a.classList.remove("is-active");b.isAccept=!0;b.doAccept()})},doAccep:function(){}},notification:{notificationId:"shinobinotification",isInitLoad:!1,isLoading:!0,show:function(a,b){var c=document.getElementById(this.notificationId),d=c.getElementsByClassName("notificationcontent")[0];d.innerHTML=b;shinobi.hasOwnProperty("language")&&shinobi.language.renderContainer(d);"info"===
a?(c.classList.add("info-message"),c.classList.remove("error-message"),c.classList.remove("loading-message"),setTimeout(function(){c.classList.remove("info-message")},3E3)):(c.classList.remove("info-message"),c.classList.add("error-message"),c.classList.remove("loading-message"));this.registerButton();this.isInitLoad=!0},info:function(a){this.show("info",a)},error:function(a){this.show("error",a)},loading:function(){var a=document.getElementById(this.notificationId);this.isInitLoad=!0;a.getElementsByClassName("delete")[0].classList.add("is-hidden");
a.classList.add("info-message");a.classList.add("loading-message");a.classList.remove("error-message");a=a.getElementsByClassName("notificationcontent")[0];a.innerHTML='<div class="columns is-vcentered"> <a class="button is-text  is-loading column is-1"></a> <div class="column" snb-lang="PAGECODE_LOADING">\u0110ang x\u1eed l\u00fd</div> </div>';shinobi.hasOwnProperty("language")&&shinobi.language.renderContainer(a)},loaded:function(){this.isInitLoad=!1;var a=document.getElementById(this.notificationId);
a.classList.remove("info-message");a.classList.remove("loading-message")},registerButton:function(){var a=document.getElementById(this.notificationId),b=a.getElementsByClassName("delete")[0];b.classList.remove("is-hidden");b.addEventListener("click",function(){a.classList.remove("info-message");a.classList.remove("error-message");b.classList.add("is-hidden")})}},confirm:function(a,b){shinobi.hasOwnProperty("notificationconfig")&&shinobi.notificationconfig.init();var c=document.getElementById("confirmPanel");
shinobi.util.modalEventListener(c);b?(b.title&&(c.getElementsByClassName("modal-card-title")[0].innerHTML=b.title),b.content&&(c.getElementsByClassName("modal-card-body")[0].innerHTML=b.content),b.yescontent&&(c.getElementsByClassName("yes")[0].innerHTML=b.yescontent),b.nocontent&&(c.getElementsByClassName("cancel")[0].innerHTML=b.nocontent),c.classList.remove("is-small"),c.classList.remove("is-medium"),c.classList.remove("is-large"),b.modalsize?c.classList.add(b.modalsize):c.classList.add(shinobi.notification.config.modalSize),
shinobi.notification.config.hasOwnProperty("modalFontSize")&&c.classList.add(shinobi.notification.config.modalFontSize),b.initfunction&&b.initfunction(c),b.ishiddenfooter?c.getElementsByClassName("modal-card-foot")[0].classList.add("is-hidden"):c.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden")):(c.getElementsByClassName("modal-card-title")[0].innerHTML="C\u1ea3nh b\u00e1o",c.getElementsByClassName("modal-card-body")[0].innerHTML="B\u1ea1n ch\u1eafc ch\u1eafn?",c.setAttribute("snb-lang",
"PAGECODE_ARE_YOU_SURE"),c.getElementsByClassName("yes")[0].innerHTML="X\u00e1c nh\u1eadn",c.getElementsByClassName("cancel")[0].innerHTML="H\u1ee7y",c.classList.remove("is-medium"),c.classList.remove("is-large"),c.classList.add("is-small"),c.classList.add(shinobi.notification.config.modalSize),shinobi.notification.config.hasOwnProperty("modalFontSize")&&c.classList.add(shinobi.notification.config.modalFontSize),c.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden"));c.classList.add("is-active");
var d=c.getElementsByClassName("yes")[0];d.focus();d.onclick=function(){"function"==typeof a&&(b?b.hasOwnProperty("notclosewhenacceft")&&b.notclosewhenacceft||c.classList.remove("is-active"):c.classList.remove("is-active"),a())}},image:function(a,b){var c=document.getElementById("imageModal");c?(c.querySelector(".modal-content").innerHTML='\n\t\t\t<p class="image">\n\t\t\t\t<img sizes="(min-width: 576px) 540px, 100vw" src="'+a+'"> \n\t\t\t</p>\n\t\t\t',shinobi.initbulma.modalOpen(c)):(c=shinobi.util.convertTextToElement(shinobi.notification.iamgeModalContent),
document.body.appendChild(c),shinobi.initbulma.modalEventListener(c),shinobi.notification.image(a,b))},iamgeModalContent:'<div id="imageModal" class="modal">\n\t\t\t\t\t<div class="modal-background"></div>\n\t\t\t\t\t<div class="modal-content">\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class="modal-close is-large" aria-label="close"></button>\n\t\t\t\t</div>'};
shinobi.render={renderDownloadButtonTable:function(a,b,c,d){a.innerHTML='<a class="button is-small is-link" href="'+d[b].fileurl+'" download><span class="icon"><i class="fa fa-file"></i></span><span>T\u1ea3i file</span></a>'},renderFormatNumber:function(a,b,c){b=shinobi.util.formatNumber(b);["INPUT","SELECT","TEXTAREA"].includes(a.tagName)?a.value=b:(a.innerHTML=b,["TD","TH"].includes(a.tagName)&&a.classList.add("has-text-right"))},showParentNode:function(a,b,c){a.innerHTML=b;a.parentNode.classList.remove("is-hidden")},
hiddenParentNode:function(a,b,c){a.innerHTML=b;a.parentNode.classList.add("is-hidden")},renderChangeAvatarImageContainer:function(a,b,c){c.hasOwnProperty("avatarlink")?a.classList.remove("is-hidden"):a.classList.add("is-hidden")},renderImageFileInput:function(a,b,c){if(""!=b.trim()&&"null"!=b.trim()){a.setAttribute("image-url",b);c=b.split("/")[b.split("/").length-1];var d=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"file"});b=shinobi.util.getParentElementHasAttribute(a,{type:"class",
value:"field"});d.getElementsByClassName("file-name")[0].innerHTML=c;b.classList.add("is-grouped");(c=b.querySelector(".control.image-info"))&&c.remove();c=document.createElement("div");c.setAttribute("class","control image-info");d=document.createElement("a");d.setAttribute("class","button is-primary is-icon");d.innerHTML='<span class="icon"><i class="fal fa-image"></i></span>';c.appendChild(d);b.appendChild(c);d.onclick=function(){shinobi.notification.image(a.getAttribute("image-url"))}}},renderRatioTable:function(a,
b,c,d){shinobi.render.renderRatio(a,a.innerHTML,d[b])},renderRatio:function(a,b,c){a.innerHTML=b+"%"},renderPercent:function(a,b,c){a.value=100*Number(b)+"%"},getRatio:function(a,b){return a.replace("%","")},renderFullNameTable:function(a,b,c,d){shinobi.render.renderFullName(a,a.innerHTML,d[b])},renderFullName:function(a,b,c){a.innerHTML=c.lastname+" "+c.firstname},enumMapping:{SETTLE:"Ho\u00e0n t\u1ea5t",INPROCESS:"\u0110ang x\u1eed l\u00fd",WAITING_FOR_CHEQUE:"\u0110\u1ee3i thanh to\u00e1n",EXPIRED:"\u0110\u00e3 h\u1ebft h\u1ea1n",
DELETED:"\u0110\u00e3 x\u00f3a",ACCEPTED:"Ch\u1ea5p nh\u1eadn",REJECTED:"T\u1eeb ch\u1ed1i",WAITING_FOR_TRANFER:"\u0110ang x\u1eed l\u00fd",CANCEL:"\u0110\u00e3 h\u1ee7y",WAITING_FOR_AUDIT:"Ch\u1edd x\u1eed l\u00fd",DEPOSIT:"N\u1ea1p ti\u1ec1n",DEPOSIT_DEAL:"\u0110\u01a1n n\u1ea1p ti\u1ec1n",WITHDRAWAL:"R\u00fat ti\u1ec1n",TRADING_DEAL:"Mua h\u00e0ng",WINNING_LOTTERY:"Th\u1eafng c\u01b0\u1ee3c",WITHDRAW:"R\u00fat ti\u1ec1n",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",
ACCEPTED_BY_ADMIN:"Admin \u0111\u1ed3ng \u00fd",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n sang \u0111ang x\u1eed l\u00fd",REJECTED_BY_ADMIN:"Admin t\u1eeb ch\u1ed1i",MARK_AS_TRANFER_BY_ADMIN:"Admin chuy\u1ec3n sang ch\u1edd chuy\u1ec3n",WAITING_FOR_EMAIL_VERIFY:"\u0110\u1ee3i x\u00e1c nh\u1eadn email"},enumMappingResultStatus:{NOT_YET:"Ch\u01b0a \u0111\u1ebfn l\u01b0\u1ee3t",ON_WAITING:"Ch\u1edd x\u1ed5",COMPLETE:"\u0110\u00e3 x\u1ed5 xong",IN_PROCESS:"\u0110ang x\u1ed5"},enumMappingWithdrawalRequestActionType:{ADD_BY_ADMIN:"Admin n\u1ea1p ti\u1ec1n",
ACCEPTED_BY_ADMIN:"\u0110ang x\u1eed l\u00fd",REJECTED_BY_ADMIN:"T\u1eeb ch\u1ed1i",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",MARK_AS_TRANFER_BY_ADMIN:"Admin x\u00e1c nh\u1eadn ho\u00e0n t\u1ea5t",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n qua \u0111ang x\u1eed l\u00fd",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u"},enumMappingDepositRequestActionType:{ADD_BY_ADMIN:"Admin n\u1ea1p ti\u1ec1n",ACCEPTED_BY_ADMIN:"Admin ho\u00e0n t\u1ea5t",REJECTED_BY_ADMIN:"Admin t\u1eeb ch\u1ed1i",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",
MARK_AS_TRANFER_BY_ADMIN:"Admin x\u00e1c nh\u1eadn \u0111\u00e3 chuy\u1ec3n",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n qua \u0111ang x\u1eed l\u00fd",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u"},renderEnumActionWithdrawalDepositTable:function(a,b,c,d){shinobi.render.renderEnumActionWithdrawalDeposit(a,a.innerHTML,d[b])},renderEnumActionWithdrawalDeposit:function(a,b,c){c="DEPOSIT"==c.actiontype||"DEPOSIT"==c.requesttype?shinobi.render.enumMappingDepositRequestActionType:shinobi.render.enumMappingWithdrawalRequestActionType;
b=c.hasOwnProperty(b)?c[b]:b;a.innerHTML=b},renderRandomColor:function(a,b,c){b="white black light dark primary link info success warning danger".split(" ");b=b[Math.floor(Math.random()*b.length)];c=a.hasAttribute("snb-color-attribute")?a.getAttribute("snb-color-attribute"):"has-background-";a.classList.add(c+b)},renderLotteryResultStatus:function(a,b,c){c=shinobi.render.enumMappingResultStatus.hasOwnProperty(b)?shinobi.render.enumMappingResultStatus[b]:b;a.innerHTML=c;"ON_WAITING"==b&&a.classList.add("has-text-primary")},
renderEnum:function(a,b,c){b=shinobi.render.enumMapping.hasOwnProperty(b)?shinobi.render.enumMapping[b]:b;a.innerHTML=b},renderEnumTable:function(a,b,c,d){shinobi.render.renderEnum(a,a.innerHTML)},removeFormatNumber:function(a,b){b=shinobi.util.getFormatCharacters().numberFormatCharacter;return a.replace(new RegExp("\\"+b,"g"),"")},getBulmaCalendarValue:function(a,b){var c={};return""!=a&&(b.elem.parentNode.classList.remove("has-border-danger"),b.elem.hasAttribute("data-is-range")&&"true"==b.elem.getAttribute("data-is-range"))?
(a=a.split("-"),c.beginDate=a[0]?a[0].trim():"",c.endDate=a[1]?a[1].trim():"",c):a},getBulmaCalendarValueFormat:function(a,b){b=a;""!=a&&(b=shinobi.util.reverseFormatDate(a,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"}));return b},getFilterSelect:function(a,b){b=a.querySelector("select");console.log(b.value);return{colname:a.getAttribute("snb-colname"),operator:""==b.value?"like":"=",value:b.value}},buildFilterSelect:function(a,b){var c=JSON.parse(a.getAttribute("snb-filter-list-option"));if(a.querySelector(".table-filter"))a.querySelector(".table-filter").remove(),
b.tableObject.reloadApi(1);else{var d=document.createElement("div");d.setAttribute("class","field table-filter has-addons");d.innerHTML='\n        <div class="select is-small">\n            <select></select>\n        </div>\n        ';var e=d.querySelector("select");e.onchange=function(){b.tableObject.reloadApi(1)};c.forEach(function(a){var b=document.createElement("option");b.setAttribute("value",a.value);b.innerHTML=a.name;e.appendChild(b)});a.appendChild(d);e.value=""}},renderFormatNumberTable:function(a,
b,c,d){shinobi.render.renderFormatNumber(a,a.innerHTML,d)},renderUserBalance:function(a,b,c){shinobi.render.addLoading(a);shinobi.cacheapi.request(shinobi.coreapi.bankAccountApi+"getAccountBalance","{}",function(b){b=JSON.parse(b);a.innerHTML=b.hasOwnProperty("currentcash")?shinobi.util.formatNumber(b.currentcash):"\u0110ang x\u1eed l\u00fd"})},getFileName:function(a,b,c){b=b.split("/");a.innerHTML=b[b.length-1]},renderDownloadFile:function(a,b,c){a.setAttribute("href",b);setTimeout(function(){a.focus()},
200);a.onclick=function(){var b=a.getAttribute("modal-parent");document.getElementById(b).classList.remove("is-active")}},addLoading:function(a,b,c){a.innerHTML='<a class="button is-small is-borderless is-paddingless is-icon is-transparent  is-loading"></a>'},renderTagInputValue:function(a,b,c){"object"==typeof shinobi.initbulma.tagsInput&&shinobi.initbulma.tagsInput.forEach(function(c){if(c.element==a){c.reset();c.input.setAttribute("style","");c.element.value="";for(var d=c.container.querySelectorAll("[data-tag]"),
f=0;f<d.length;f++)d[f].remove();b.split(",").forEach(function(a){""!=a.trim()&&c.addTag(a.trim())});c.element.value=b}})},renderFormatDate:function(a,b,c){c=a.hasAttribute("snb-date-format")?a.getAttribute("snb-date-format"):"dd-MM-yyyy";a.innerHTML=shinobi.util.getFormatDate(b,{format:c})},renderFormatNumberFloat:function(a,b,c){b=Number.parseFloat(b);shinobi.render.renderFormatNumber(a,b,c)},renderFormatNumberInt:function(a,b,c){b=Number.parseInt(b);shinobi.render.renderFormatNumber(a,b,c)},renderTotalPrice:function(a,
b,c){a.innerHTML=shinobi.util.formatNumber(c.quantity*c.price)},renderChangeColor:function(a,b,c){if(0<Number(b)||b.trim().toString().startsWith("+"))a.style.color="rgb(0, 255, 0)";if(0>Number(b)||b.trim().toString().startsWith("-"))a.style.color="rgb(255, 0, 0)"},renderChangePercentColor:function(a,b,c){c=Number(b.replace("%",""));if(0<c||b.trim().toString().startsWith("+"))a.style.color="rgb(0, 255, 0)";if(0>c||b.trim().toString().startsWith("-"))a.style.color="rgb(255, 0, 0)"},renderChangeAvatarButton:function(a,
b,c){shinobi.fileupload.registerElement(a,"change","uploadavatar",function(){return 0},function(a){if("success"==a.result){var b={};a=a.content.url+"?"+(new Date).getTime();b.avatarlink=a;shinobi.api.request(shinobi.coreapi.loggedUserApi+"updateAvatarLink",JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng!"),setTimeout(function(){location.reload()},1E3))})}else shinobi.notification.notification.error("X\u1ea3y ra l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i!")})},
renderGenderTable:function(a,b,c,d){shinobi.render.renderGender(a,a.innerHTML,d[b])},renderGender:function(a,b,c){switch(b){case "MR":b="Nam";break;case "MS":b="N\u1eef"}a.innerHTML=b},filterGender:function(a,b){switch(a){case "Nam":a="MR";break;case "N\u1eef":a="MS"}return a},renderPhoneNumberWithPhoneReligion:function(a,b,c){a.value=b;a.hasAttribute("render-target")&&c.hasOwnProperty("country")&&(a=a.getAttribute("render-target"),eval(a).setCountry(c.country))},getNumberCleaveInput:function(a,b){return shinobi.util.getValueNumberCleaveFormat(b.elem)},
renderTextCenterTable:function(a,b,c,d){shinobi.render.renderTextCenterDatalist(a,a.innerHTML,d[b])},renderTextCenterDatalist:function(a,b,c){a.classList.add("has-text-centered")},renderTextLeftTable:function(a,b,c,d){shinobi.render.renderTextLeftDatalist(a,a.innerHTML,d[b])},renderTextLeftDatalist:function(a,b,c){a.classList.add("has-text-left")},renderTextRightTable:function(a,b,c,d){shinobi.render.renderTextRightDatalist(a,a.innerHTML,d[b])},renderTextRightDatalist:function(a,b,c){a.classList.add("has-text-right")}};
shinobi.scroll={defaultOption:{scrolldelay:50,delayReScroll:4E3,delayStartScrollWhenReScroll:2E3,pauseOnHover:!0},init:function(a,b){a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.scroll.initElement(a,c,b)},initElement:function(a,b,c){a=a[b];c=c?c:JSON.parse(JSON.stringify(shinobi.scroll.defaultOption));shinobi.scroll.scrollProcess(a,c)},scrollProcess:function(a,b){var c=a.scrollTop+a.clientHeight,d=a.scrollHeight;shinobi.scroll.clear(a,b,function(b){shinobi.scroll.addEventHover(a,
b);c<d?b.scrollInterval=setTimeout(function(){a.scrollBy(0,1);shinobi.scroll.scrollProcess(a,b)},b.scrolldelay):b.reScrollInterval=setTimeout(function(){a.scrollTo(0,0);setTimeout(function(){shinobi.scroll.scrollProcess(a,b)},b.delayStartScrollWhenReScroll)},b.delayReScroll)})},addEventHover:function(a,b){b.hasOwnProperty("pauseOnHover")&&b.pauseOnHover&&(a.onmouseover=function(){shinobi.scroll.clear(a,b)},a.onmouseout=function(){shinobi.scroll.scrollProcess(a,b)})},clear:function(a,b,c){b.hasOwnProperty("scrollInterval")&&
clearTimeout(b.scrollInterval);b.hasOwnProperty("reScrollInterval")&&clearTimeout(b.reScrollInterval);"function"==typeof c&&c(b)}};
shinobi.seorender={gaid:"UA-138668527-1",json:[{pageurl:"/page/index",pagename:"Aladin | N\u1ec1n t\u1ea3ng k\u1ebft n\u1ed1i c\u1ed9ng \u0111\u1ed3ng nh\u00e0 \u0111\u1ea7u t\u01b0 ch\u1ee9ng kho\u00e1n chuy\u00ean nghi\u1ec7p",pagerender:""},{pageurl:"/page/traderlisting",pagename:"Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:"shinobi.seorender.listingPageRender"},{pageurl:"/page/investorlisting",pagename:"Nh\u00e0 \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.listingPageRender"},{pageurl:"/page/blogoverview",
pagename:"Blog \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.blogOverviewRender"},{pageurl:"/page/blogpost/",pagename:"B\u00e0i vi\u1ebft",pagerender:"shinobi.seorender.blogPostRender"},{pageurl:"/page/tradinginstruction",pagename:"H\u01b0\u1edbng d\u1eabn nh\u00e0 \u0111\u1ea7u t\u01b0"},{pageurl:"/page/account",pagename:"Trang c\u00e1 nh\u00e2n",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},{pageurl:"/page/traderaccount",pagename:"Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},
{pageurl:"/page/investoraccount",pagename:"Nh\u00e0 \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},{pageurl:"/page/traderguide",pagename:"H\u01b0\u1edbng d\u1eabn Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:""},{pageurl:"/page/question",pagename:"C\u00e1c c\u00e2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p",pagerender:""},{pageurl:"/page/aboutus",pagename:"V\u1ec1 Ch\u00fang t\u00f4i",pagerender:""},{pageurl:"/page/job",pagename:"Ngh\u1ec1 nghi\u1ec7p",pagerender:""},{pageurl:"/page/privacypolicy",
pagename:"Ch\u00ednh s\u00e1ch B\u1ea3o m\u1eadt",pagerender:""},{pageurl:"/page/denyrisk",pagename:"Kh\u01b0\u1edbc t\u1eeb r\u1ee7i ro",pagerender:""},{pageurl:"/page/investorserviceterms",pagename:"\u0110i\u1ec1u kho\u1ea3n N\u0110T",pagerender:""},{pageurl:"/page/traderserviceterms",pagename:"\u0110i\u1ec1u kho\u1ea3n NTV",pagerender:""},{pageurl:"/page/contact",pagename:"Li\u00ean h\u1ec7",pagerender:""},{pageurl:"/page/investwithaladin",pagename:"\u0110\u1ea7u t\u01b0 c\u00f9ng Aladin",pagerender:""},
{pageurl:"/page/traderintroduction",pagename:"H\u1ee3p t\u00e1c c\u00f9ng Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:""},{pageurl:"/page/investorregistration",pagename:"\u0110\u0103ng k\u00ed",pagerender:""}],build:function(a){shinobi.seorender.renderPageSeo(a)},renderPublicUserProfilePage:function(a){a=window.location.pathname.split("/");var b={};b.pageurl=a[a.length-1];shinobi.api.request("/api/UserApi/getUsernameFromHomePage",JSON.stringify(b),function(a){shinobi.api.request("/api/UserApi/getAllUserInfo",
a,function(a){a=JSON.parse(a);document.head.innerHTML="<title>"+(a.firstname+" "+a.lastname)+"</title>"+document.head.innerHTML})})},blogPostRender:function(a){a={};var b=window.location.pathname.split("/");a.posturl=blogPostPageUrl+b[b.length-1];shinobi.api.request("/api/BlogOverviewApi/getPreViewContent",JSON.stringify(a),function(a){a=JSON.parse(a);document.title=a.posttitle;var b='  <meta property="og:url" content="'+window.location.href+'" />';b=b+' <meta property="og:type" content="website" /> <meta property="og:title" content="'+
a.posttitle+'" />';b=b+'<meta property="og:image" content="'+a.thumpnailurl+'" />';document.head.innerHTML=b+document.head.innerHTML})},blogOverviewRender:function(a){var b=window.location.pathname.split("/"),c=b[b.length-2];b=er.postFiterConvert(b[b.length-1])+" "+shinobi.aladinUtil.convertPostTypeToVn(c).toLowerCase();document.title=a.pagename+": "+b},listingPageRender:function(a){var b=window.location.pathname;a.pageurl==b?b=shinobi.investortraderlistingcontentheaderrender.defaultTimeFrame:(b=
b.split("/"),b=b[b.length-1]);a=a.pagename+": "+er.listingTimeFrame(b);document.title=a},defaultRender:function(a){document.title=a.pagename},addGA:function(){ga("create",shinobi.seorender.gaid,"auto");ga("send","pageview")},renderPageSeo:function(a){for(var b=shinobi.seorender.json,c=window.location.pathname,d=0;d<b.length;d++){var e=b[d];if(c.includes(e.pageurl)){e.pagerender&&""!=e.pagerender&&null!=e.pagerender?eval(e.pagerender)(e):shinobi.seorender.defaultRender(e);setTimeout(function(){a(!0)},
2E3);return}}a(!1)}};
shinobi.socket=function(){return function(a){this.url="";this.option=a;this.socket={};this.msgid="";this.onAjax=this.onClose=this.onError=this.onSendOverrideFunction=this.onMessageOverrideFunction=this.onMessage=this.onOpenOverrideFunction=this.onOpen=null;this.init=function(){this.setupOption();this.connect()};this.connect=function(){var a=this;this.socket=new WebSocket(a.url);this.socket.addEventListener("open",function(b){if("function"==typeof a.onOpenOverrideFunction)a.onOpenOverrideFunction(a);else if(this.send(JSON.stringify({type:"register",
command:"init",msgid:0,data:[]})),"function"==typeof a.onOpen)a.onOpen(a)});this.socket.addEventListener("message",function(b){if("function"==typeof a.onMessageOverrideFunction)a.onMessageOverrideFunction(b.data);else if(b=JSON.parse(b.data),"function"==typeof a.onMessage)a.onMessage(b)});this.socket.addEventListener("close",function(){console.log("connection closed");if("function"==typeof a.onClose)a.onClose(a);else setTimeout(a.connect(a.url),1E3)})};this.setupOption=function(){this.url=a.url;a.onOpen&&
(this.onOpen=a.onOpen);a.onClose&&(this.onClose=a.onClose);a.onMessage&&(this.onMessage=a.onMessage);a.onError&&(this.onError=a.onError);a.onAjax&&(this.onAjax=a.onAjax);a.onOpenOverrideFunction&&(this.onOpenOverrideFunction=a.onOpenOverrideFunction);a.onMessageOverrideFunction&&(this.onMessageOverrideFunction=a.onMessageOverrideFunction);a.onSendOverrideFunction&&(this.onSendOverrideFunction=a.onSendOverrideFunction)};this.send=function(a,c){var b=this,e=setInterval(function(){if(1==b.socket.readyState){if("function"==
typeof b.onSendOverrideFunction)b.onSendOverrideFunction(b,a);else b.socket.send(JSON.stringify({command:"request",msgid:b.msgid,data:a}));"function"==typeof c&&c();clearInterval(e)}},10)};this.init()}}();
shinobi.message={socket:"",url:"",chatInqueue:[],notificationInqueue:[],sessionid:"",readyToSend:!1,option:null,connect:function(a,b,c){this.url=a;this.option=c;shinobi.message.socket=new WebSocket(shinobi.message.url);this.socket.addEventListener("open",function(a){console.log("open connection");a={type:"register"};""==shinobi.message.sessionid?shinobi.message.connectSocketServer(b):(a.content=shinobi.message.sessionid,this.send(JSON.stringify(a)),console.log("send register message"),this.readyToSend=
!0,setTimeout(function(){"function"==typeof b&&b()},1E3))});this.socket.addEventListener("message",function(a){shinobi.message.inputMessageHandler(a)});this.socket.addEventListener("close",function(){console.log("connection closed");setTimeout(shinobi.message.connect(shinobi.message.url),1E3)})},connectSocketServer:function(a){shinobi.api.request("/authenapi/UserInfoApi/getSessionid",JSON.stringify({}),function(b){b=JSON.parse(b).sessionid;shinobi.message.sessionid=b;a&&(console.log("connect socket server success"),
a())})},inputMessageHandler:function(a){a=JSON.parse(a.data);shinobi.socketmanager.socketMessage.private.push(a)},sendMessage:function(a){this.socket.send(a)}};Number.prototype.format=function(a,b,c,d){b="\\d(?=(\\d{"+(b||3)+"})+"+(0<a?"\\D":"$")+")";a=this.toFixed(Math.max(0,~~a));return(d?a.replace(".",d):a).replace(new RegExp(b,"g"),"$&"+(c||","))};
shinobi.tableHelper={mappingRender:{renderFirstNameLastName:{functionName:"getfullname",param:"this"}},colnameAttribute:"snb-colname",renderAttribute:"snb-render",colcontrolAttribute:"snb-header-control",sortAttribute:"snb-sort",sortIcon:"<i class='fas fa-sort'></i>",sortDescIcon:"<i class='fas fa-sort-down'></i>",sortAscIcon:"<i class='fas fa-sort-up'></i>",getRender:function(a){a=document.getElementById(a).tHead.querySelectorAll("["+shinobi.tableHelper.colnameAttribute+"]");for(var b=[],c=0;c<a.length;c++){var d=
a[c];if(d.hasAttribute(shinobi.tableHelper.renderAttribute)){var e=d.getAttribute(shinobi.tableHelper.renderAttribute);b[d.cellIndex]=e}}return b},addAttributeColname:function(a){if(a.hasAttribute(shinobi.tableHelper.colcontrolAttribute)){if(!a.querySelector("[snb-sort]")){var b=document.createElement("span");b.setAttribute(shinobi.tableHelper.sortAttribute,"");b.innerHTML=shinobi.tableHelper.sortIcon;a.appendChild(b)}if(a.getAttribute(shinobi.tableHelper.colcontrolAttribute).includes("2")){b=document.createElement("span");
b.setAttribute("snb-filter","");var c=document.createElement("i");c.setAttribute("class","fal fa-sm fa-filter");b.appendChild(c);a.appendChild(b)}}},getColname:function(a){var b=[];a=document.getElementById(a).tHead.rows;for(var c=0;c<a.length;c++)for(var d=$jscomp.makeIterator(a[c].cells),e=d.next();!e.done;e=d.next()){var f=e.value,g=f.colSpan;f.hasAttribute(shinobi.tableHelper.colnameAttribute)?(e=f.getAttribute(shinobi.tableHelper.colnameAttribute),shinobi.tableHelper.addAttributeColname(f)):
e=null;if(0==c)for(f=0;f<g;f++)b.push(e);else for(f=0;f<g;f++)b[b.indexOf(null)+f]=e}return b},buildSort:function(a){var b=a.staticsorts;a.getSorts();a=a.sorts;for(var c=[],d=0;d<a.length;d++)c.push(a[d].colname);for(d=0;d<b.length;d++)c.includes(b[d].colname)||a.push(b[d]);return a},changeSortIconHeader:function(a){for(var b=0;b<a.allSorts.length;b++)for(var c=a.tableNode.tHead.querySelectorAll("["+shinobi.tableHelper.colnameAttribute+"="+a.allSorts[b].colname+"]>["+shinobi.tableHelper.sortAttribute+
"]"),d=0;d<c.length;d++)c[d].classList.add("is-visible"),c[d].setAttribute("snb-sort",a.allSorts[b].value),"asc"==a.allSorts[b].value&&(c[d].innerHTML=shinobi.tableHelper.sortAscIcon),"desc"==a.allSorts[b].value&&(c[d].innerHTML=shinobi.tableHelper.sortDescIcon)},getRenderExcelFunction:function(a){var b=a.getAttribute(shinobi.tableHelper.renderAttribute);b=shinobi.tableHelper.mappingRender[b.toString()];var c={};if(b){if(c.result=!0,"this"==b.param){var d={};d.rendername=b.functionName;d.inputlist=
[];d.inputlist.push(a.getAttribute(shinobi.tableHelper.colnameAttribute));c.content=d}}else c.result=!1;return c}};
shinobi.table=function(){var a=function(a){this.url="";this.colNames=[];this.filters=[];this.staticfilters=[];this.sorts=[];this.allSorts=[];this.staticsorts=[];this.paramsRequestList={};this.renders=[];this.tableRows=[];this.pageNum=1;this.rowTotal=this.pageTotal=this.recordPerPage=10;this.currentId=-1;this.lastRequest={};this.exportExcel=!1;this.options=null;this.tableNode=document.getElementById(a);this.tableContainerNode=this.tableNode.parentNode;this.pageNumNode=this.tableContainerNode.querySelector(".shinobi-pagination-curpage");
this.recordPerPageNode=this.tableContainerNode.querySelector(".shinobi-recordperpage");this.apiName="";this.getColnames=function(){for(var b=[],d=document.getElementById(a).tHead.rows,e=0;e<d.length;e++)for(var f=d[e].cells,g=0;g<f.length;g++){var h=f[g],k=h.colSpan;h=h.hasAttribute("snb-colname")?h.getAttribute("snb-colname"):null;if(0==e)for(var l=0;l<k;l++)b.push(h);else for(l=0;l<k;l++)b[b.indexOf(null)+l]=h}return b};this.registerSorts=function(){for(var a=this.tableNode.querySelectorAll("[snb-sort]"),
b=0;b<a.length;b++)this.registerSort(a[b])};this.registerSort=function(a){var b=this;a.addEventListener("click",function(){var a=this.getAttribute("snb-sort");this.parentNode.getAttribute("snb-colname");""===a?(this.setAttribute("snb-sort","asc"),this.innerHTML="<i class='fas fa-sort-up'></i>",this.classList.add("is-visible")):"asc"===a?(this.setAttribute("snb-sort","desc"),this.innerHTML="<i class='fas fa-sort-down'></i>",this.classList.add("is-visible")):(this.setAttribute("snb-sort",""),this.innerHTML=
"<i class='fas fa-sort'></i>",this.classList.remove("is-visible"));b.reloadApi(b.pageNum)})};this.getSorts=function(){this.sorts=[];for(var a=this.tableNode.querySelectorAll("[snb-sort]"),b=0;b<a.length;b++){var e=a[b],f=e.parentNode.getAttribute("snb-colname");e=e.getAttribute("snb-sort");if(""!==e){var g={};g.colname=f;g.value=e;this.sorts.push(g)}}};this.registerHeaders=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-header-control]"),d=0;d<b.length;d++){var e=b[d];e.getAttribute("snb-header-control").includes("2")&&
this.registerHeader(e)}};this.registerHeader=function(a){var b=this;a.addEventListener("dblclick",function(){b.addEventFilterHeader(b,a)});var c=a.querySelector("[snb-filter]");c&&(c.onclick=function(){b.addEventFilterHeader(b,a)});a.addEventListener("keyup",function(a){13===a.keyCode&&((a=this.querySelector("input").value)&&""==a&&b.removeFilterControls(this),b.resetPageNum(),b.reloadApi(b.pageNum))})};this.addEventFilterHeader=function(a,b){if(b.hasAttribute("snb-filter-builder"))eval(b.getAttribute("snb-filter-builder"))(b,
{tableObject:a});else if(3==b.childNodes[0].nodeType)if(null!==b.querySelector("input"))a.removeFilterControls(b),a.resetPageNum(),a.reloadApi(a.pageNum);else{var c=document.createElement("select");a.addFilterToElement(c,b);a=document.createElement("input");a.setAttribute("class","input is-small");b.hasAttribute("snb-datatype")&&"date"==b.getAttribute("snb-datatype")?a.setAttribute("type","date"):a.setAttribute("type","text");a.setAttribute("value","");var d=document.createElement("div");d.setAttribute("class",
"select is-small");b.appendChild(document.createElement("br"));d.appendChild(c);c=document.createElement("div");c.setAttribute("class","field table-filter has-addons");var g=document.createElement("div");g.setAttribute("class","control");g.appendChild(d);d=document.createElement("div");d.setAttribute("class","control");d.appendChild(a);c.appendChild(g);c.appendChild(d);b.appendChild(c)}};this.createExportExcelButton=function(){var a=document.createElement("span");a.setAttribute("class","button is-small is-light has-text-success is-pulled-right\t");
a.innerHTML='<span class="icon"><i class="fa fa-file-excel"></i></span><span>Excel</span>';this.tableNode.tHead.lastElementChild.lastElementChild.appendChild(a);this.exportExcelButton=a};this.getMappingExcelColumn=function(){for(var a=this.listHeaderExportExcel,b={},e=0;e<a.length;e++){var f=a[e].getAttribute("snb-export-excel"),g=a[e].getAttribute("snb-colname");f&&""!=f.trim()?b[g]=f.trim():b[g]=a[e].innerText.trim()}return b};this.getMappingExcelRenderColumn=function(){for(var a=this.listHeaderExportExcel,
b={},e=0;e<a.length;e++)if(a[e].hasAttribute("snb-render")){var f=a[e].getAttribute("snb-colname");if(""!=a[e].getAttribute("snb-render").trim()&&""!=f.trim()){var g=shinobi.tableHelper.getRenderExcelFunction(a[e]);g.result&&(b[f]=g.content)}}return b};this.addEventExportExcel=function(){var a=this.exportExcelButton,b=this;0==this.listHeaderExportExcel.length&&a.classList.add("is-hidden");a.onclick=function(){shinobi.notification.notification.loading();var a={};a.filters=b.filters;a.sorts=b.allSorts;
a.mappingcolumns=b.getMappingExcelColumn();a.rendercolumns=b.getMappingExcelRenderColumn();var c=b.url.split("/")[2];shinobi.exportfile.request("/exportfile/excel/"+c,JSON.stringify(a),"xlsx",function(){shinobi.notification.notification.loaded()})}};this.registerExportExcel=function(){var b=document.getElementById(a).querySelectorAll("[snb-export-excel]");b&&this.exportExcel&&(this.listHeaderExportExcel=b,this.createExportExcelButton(),this.addEventExportExcel())};this.removeFilterControls=function(a){var b=
a.querySelector("br"),c=a.querySelector(".field.table-filter");a.removeChild(b);a.removeChild(c)};this.resetPageNum=function(){this.pageNum=1;this.pageNumNode.value=1};this.addFilterToElement=function(a,b){b=b.getAttribute("snb-datatype");a.classList.add("default-filter-select-operator");if(["number","date"].includes(b)){b=["=",">",">=","<","<="];var c=["equal",">",">=","<","<="]}else"boolean"===b?(b=["="],c=["equal"]):(b=["like","="],c=["like","equal"]);for(var d=0;d<b.length;d++){var g=document.createElement("option");
g.text=b[d];g.value=c[d];a.appendChild(g)}};this.registerRecordPerPage=function(){var a=this,b=this.recordPerPageNode.cloneNode(!0);this.recordPerPageNode.parentNode.replaceChild(b,this.recordPerPageNode);this.recordPerPageNode=b;this.recordPerPageNode.addEventListener("change",function(){a.resetPageNum();a.reloadApi(a.pageNum)})};this.registerPagination=function(){this.paginationContainer=this.tableNode.parentNode.querySelector(".table-pagination")};this.updatePagination=function(a){var b=JSON.parse(a);
this.rowTotal=b.rowTotal;this.pageNum=b.pageNum;this.recordPerPage=b.recordPerPage;this.pageTotal=b.pageTotal;shinobi.mapping.renderElement(this.paginationContainer,JSON.parse(a));JSON.parse(a).pageNum&&(b=this.paginationContainer.querySelectorAll(".shinobi-pagination-curpage")[0],0==JSON.parse(a).pageTotal?b.value=0:b.value=JSON.parse(a).pageNum)};this.registerPrevPagination=function(){var a=this.tableNode.parentNode,b=a.querySelector(".shinobi-pagination-prev"),e=b.cloneNode(!0);b.parentNode.replaceChild(e,
b);var f=this;e.addEventListener("click",function(){var b=a.querySelector(".shinobi-pagination-curpage"),c=b.value;1<c&&(--c,b.value=c,f.reloadApi(c))})};this.registerNextPagination=function(){var a=this.tableNode.parentNode,b=a.querySelector(".shinobi-pagination-next"),e=b.cloneNode(!0);b.parentNode.replaceChild(e,b);var f=this;e.addEventListener("click",function(){var b=a.querySelector(".shinobi-pagination-curpage"),c=Number(b.value);c<f.pageTotal&&(c+=1,b.value=c,f.reloadApi(c))})};this.registerCurrentPageEvent=
function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage"),b=a.cloneNode(!0);a.parentNode.replaceChild(b,a);var e=this;b.addEventListener("keyup",function(a){13===a.keyCode&&(a=Number(b.value),0<a&&a<=e.pageTotal&&e.reloadApi(a))})};this.registerHeaders();this.registerPagination();this.registerCurrentPageEvent();this.registerPrevPagination();this.registerNextPagination();this.registerRecordPerPage();this.registerSorts();this.registerExportExcel();this.viewDetailPanelId=
"";this.renderTable=function(b,d,e){var c=document.getElementById(a).getElementsByTagName("tbody")[0];this.tableRows=d;for(var g=0;g<d.length;g++){var h=d[g],k=c.insertRow();""!==this.viewDetailPanelId&&k.setAttribute("snb-detailid",this.viewDetailPanelId);for(var l in b){var m=k.insertCell(l),p=h[b[l]];"undefined"!=typeof p&&(m.innerHTML=p);m.setAttribute("rowid",g);if("undefined"!=typeof e[l]){if("function"==typeof e[l])e[l](m,g,l,this.tableRows);"string"==typeof e[l]&&eval(e[l])(m,g,l,this.tableRows,
{type:"table"})}}}if(null!=this.options&&this.options.hasOwnProperty("isFillBlankCell")&&1==this.options.isFillBlankCell)for(d=this.recordPerPage-this.tableRows.length,e=0;e<d;e++)for(l in g=c.insertRow(),b)g.insertCell(l).setAttribute("rowid",this.tableRows.length+e);this.options&&this.options.hasOwnProperty("loadDataCallback")&&this.options.loadDataCallback()};this.getCurrentPage=function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage");return Number(a.value)};this.initLoadApi=
function(a,b,e,f,g){var c=this;this.options=g;this.getTableFilters();this.filters=this.filters.concat(this.staticfilters);this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.options&&c.options.hasOwnProperty("beforeCallApiCallback")&&c.options.beforeCallApiCallback(c);b.pageNum=1;b.filters=this.filters;b.sorts=this.allSorts;Object.entries(c.paramsRequestList).forEach(function(a){b[a[0]]=a[1]});shinobi.api.request(a,JSON.stringify(b),function(d){var h=JSON.parse(d);c.lastRequest.url=
a;c.lastRequest.request=b;c.lastRequest.response=d;h=h.data;c.url=a;c.colNames=e;c.renders=f;shinobi.tableHelper.changeSortIconHeader(c);c.clear();c.updatePagination(d);c.renderTable(e,h,f);g&&g.hasOwnProperty("callback")&&g.callback();c.updatePagination(d)})};this.reloadApi=function(a,b){b&&b.hasOwnProperty("loading")&&!b.loading||shinobi.notification.notification.loading();var c=this;this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;0==this.sorts.length&&(this.sorts[0]=
{colname:"id",value:"desc"});var d={};Object.entries(c.paramsRequestList).forEach(function(a){d[a[0]]=a[1]});d.recordPerPage=this.recordPerPage;d.pageNum=a?a:this.getCurrentPage();0==d.pageNum&&(d.pageNum=1);this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.options&&c.options.hasOwnProperty("beforeCallApiCallback")&&c.options.beforeCallApiCallback(c);d.filters=this.filters;d.sorts=this.allSorts;shinobi.api.request(this.url,JSON.stringify(d),function(a){c.lastRequest.url=c.url;c.lastRequest.request=
d;c.lastRequest.response=a;var e=JSON.parse(a),f=e.data;c.rowTotal=e.rowTotal;c.pageNum=e.pageNum;c.recordPerPage=e.recordPerPage;c.pageTotal=e.pageTotal;c.clear();c.updatePagination(a);c.renderTable(c.colNames,f,c.renders);b&&b.hasOwnProperty("loading")&&!b.loading||shinobi.notification.notification.loaded();b&&b.hasOwnProperty("callback")&&b.callback()})};this.callApi=function(a,b,e){this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;0==this.sorts.length&&(this.sorts[0]=
{colname:"id",value:"desc"});var c={};Object.entries(this.paramsRequestList).forEach(function(a){c[a[0]]=a[1]});c.recordPerPage=this.recordPerPage;c.pageNum=b?b:this.getCurrentPage();0==c.pageNum&&(c.pageNum=1);c.filters=this.filters;this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.sorts=this.allSorts;shinobi.api.request(this.url,JSON.stringify(c),function(b){b=JSON.parse(b);a(b)})};this.clear=function(){for(var b=document.getElementById(a).getElementsByTagName("tbody")[0];b.firstChild;)b.removeChild(b.firstChild)};
this.updatePageTotal=function(){var a=this.tableNode.parentNode;a.querySelector(".shinobi-page-total").innerHTML=this.pageTotal;this.pageNum>this.pageTotal&&(this.pageNum=this.pageTotal,a.querySelector(".shinobi-pagination-curpage").value=this.pageNum)};this.getRowObject=function(a){return this.tableRows[a]};this.getTableFilters=function(){var b=document.getElementById(a),d=b.querySelectorAll("[snb-header-control] .input, [snb-header-control] select:not(.default-filter-select-operator)");this.filters=
[];this.filters=this.filters.concat(this.staticfilters);this.pageNum=1;d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next()){e=e.value;var f=shinobi.util.getParentElementHasAttribute(e,{type:"tagName",value:"TH"}),g={};if(f.hasAttribute("snb-filter-get-value"))g=eval(f.getAttribute("snb-filter-get-value"))(f,{tableObject:b});else{var h=e.value.trim();h=f.hasAttribute("snb-filter-preprocess")?eval(f.getAttribute("snb-filter-preprocess"))(h,{table:b,input:e,header:f}):h;e=e.parentNode.parentNode.parentNode;
f=e.querySelector("select");f=f.options[f.selectedIndex].value;g={};g.colname=e.getAttribute("snb-colname");g.operator=f;g.value=h}if(""!==h){if(this.hasOwnProperty("hasCheckDuplicateFilterColumn")&&1==this.hasCheckDuplicateFilterColumn&&this.hasOwnProperty("checkDuplicateFilterColumnList")&&this.checkDuplicateFilterColumnList.includes(g.colname)){var k=[];this.filters.forEach(function(a,b){a.colname!=g.colname&&k.push(a)});this.filters=k}null!=g.colname&&this.filters.push(g)}}};this.numberFormatRender=
function(a,b,e,f){a.innerHTML=Number(a.innerHTML).format(0,3,",",".");a.classList.add("has-text-right")};this.inputableRender=function(a,b,e,f){var c=a.innerHTML;a.addEventListener("dblclick",function(){var a=this.childNodes[0];if(3==a.nodeType){a=this.innerHTML;var b=document.createElement("input");b.setAttribute("type","text");b.setAttribute("value",a);this.removeChild(this.childNodes[0]);this.appendChild(b)}else 1==a.nodeType&&(this.innerHTML=a=a.value,a!==c?this.classList.add("is-warning"):this.classList.remove("is-warning"))});
a.addEventListener("keyup",function(a){13==a.keyCode&&(a=this.childNodes[0],1==a.nodeType&&(this.innerHTML=a=a.value,a!==c?this.classList.add("is-warning"):this.classList.remove("is-warning")))});a.addEventListener("mouseover",function(){this.classList.add("is-light")});a.addEventListener("mouseout",function(){this.classList.remove("is-light")})};this.viewDetailRender=function(a,b,e,f){b=document.createElement("a");b.setAttribute("class","button is-small is-icon is-info");b.innerHTML="<span class='icon'> <i class='fa fa-search'></i></span>";
a.appendChild(b);e=a.getAttribute("rowid");var c=a.parentNode.getAttribute("snb-detailid"),d=f[e];b.addEventListener("click",function(){var b=a.parentElement.parentElement.parentElement.nextElementSibling,e=b.querySelector("style.shinobi-table-style");e||(e=document.createElement("style"),e.setAttribute("class","shinobi-table-style"),e.innerHTML=".shinobi-table-row-hightlighting{background: #f1e8da !important;}",b.appendChild(e));b=a.parentElement.parentElement.querySelectorAll("tr");b=$jscomp.makeIterator(b);
for(e=b.next();!e.done;e=b.next())e.value.classList.remove("shinobi-table-row-hightlighting");a.parentElement.classList.add("shinobi-table-row-hightlighting");shinobi.mapping.clear("#"+c);shinobi.mapping.render("#"+c,JSON.stringify(d))})}};a.staticmethod={hello:function(){}};return a}();
shinobi.tradingview={getConfig:function(a){copy(JSON.parse(a.content))},configCFV:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,
prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,
borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,
thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",
downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",
borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",bottomFillColor2:"rgba( 239, 83, 80, 0.05)",
topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"SJCBUY",shortName:"V\u00e0ng SJC 1L HCM Mua v\u00e0o",timeframe:"",onWidget:!1,interval:"D",showSessions:!1,
priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},{type:"study_Overlay",
id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},close:{visible:!0,
color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"SJCSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",
wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",
barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config24K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG24KBUY",shortName:"V\u00c0NG 24K (9999) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG24KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config18K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG18KBUY",shortName:"V\u00c0NG 18K (750) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG18KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config14K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG14KBUY",shortName:"V\u00c0NG 14K (533) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG14KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},configGOLD:{name:"GOLD",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"dzzl2a",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",
downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},pnfStyle:{upColor:"#26a69a",
downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",bottomFillColor2:"rgba( 239, 83, 80, 0.05)",
topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"WORLDGOLD",shortName:"V\u00e0ng Th\u1ebf gi\u1edbi",timeframe:"",onWidget:!1,priceAxisProperties:{autoScale:!0,
autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}}],leftAxisesState:[],rightAxisesState:[{state:{id:"rRfOPrPWyH3u",
m_priceRange:{m_maxValue:1931.9,m_minValue:1196.6},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:301,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["dzzl2a"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"dzzl2a",priceScaleRatio:null}],timeScale:{m_barSpacing:50,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",style:0},
horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"#758696",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},scalesProperties:{backgroundColor:"#ffffff",
lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Bangkok",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",transparency:60,
visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]}};
shinobi.userstatus={userStatusMap:{},userStatusWidgets:{},updateUserStatusProcess:function(a){var b=JSON.parse(a.data);Object.keys(b).forEach(function(a){shinobi.userstatus.userStatusMap[a]=b[a];shinobi.userstatus.updateUserStatusWidgets(a)})},updateUserStatusWidgets:function(a){shinobi.userstatus.userStatusWidgets.hasOwnProperty(a)&&shinobi.userstatus.userStatusWidgets[a].forEach(function(b){var c=shinobi.userstatus.getCurrentStatusColor(a);b.classList.remove("has-text-success");b.classList.remove("has-text-grey");
b.classList.add(c)})},renderUserStatusTable:function(a,b,c,d){c=a.innerHTML;a.innerHTML="";shinobi.userstatus.renderUserStatus(a,c,d[b])},renderUserStatus:function(a,b,c){shinobi.userstatus.userStatusMap.hasOwnProperty(b)?shinobi.userstatus.renderUserStatusWidget(a,b,c):shinobi.api.request("/authenapi/UserOnlineStatusApi/getUserOnlineStatus",JSON.stringify({username:b}),function(d){shinobi.userstatus.userStatusMap[b]=JSON.parse(d);shinobi.userstatus.renderUserStatusWidget(a,b,c)})},renderUserStatusWidget:function(a,
b,c){c=shinobi.userstatus.getCurrentStatusColor(b);a.innerHTML='\n            <div class="user-status-container '+c+'"><span class="icon"><i class="fa fa-circle"></i></span></div>\n        ';shinobi.userstatus.userStatusWidgets.hasOwnProperty(b)||(shinobi.userstatus.userStatusWidgets[b]=[]);shinobi.userstatus.userStatusWidgets[b].push(a.querySelector(".user-status-container"))},getCurrentStatusColor:function(a){return shinobi.userstatus.userStatusMap[a]?"has-text-success":"has-text-grey"}};
Number.prototype.format=function(a,b,c,d){b="\\d(?=(\\d{"+(b||3)+"})+"+(0<a?"\\D":"$")+")";a=this.toFixed(Math.max(0,~~a));return(d?a.replace(".",d):a).replace(new RegExp(b,"g"),"$&"+(c||","))};
shinobi.util={internetConnection:!0,addEventInternetConnection:function(){if(document.querySelector("#connectingNetworkContainer"))var a=document.querySelector("#connectingNetworkContainer");else a=document.createElement("div"),a.setAttribute("class","connecting-network"),a.setAttribute("id","connectingNetworkContainer"),a.innerHTML='\n            <style>\n                .connecting-network{\n                    position: fixed;\n                    z-index: 100;\n                    width: 15rem;\n                    height: 4rem;\n                    bottom: 1rem;\n                    left: 1rem;\n                    background: white;\n                    display: none;\n                    border-radius: 6px;\n                    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 10%), 0 1px 2px 0 rgb(0 0 0 / 6%);\n                }\n                .connecting-network.is-active{\n                    display: block;\n                }\n                .spinner {\n                    top: calc( 50% - 0.75rem );\n                    left: 50%;\n                    text-align: center;\n                    position: absolute;\n                    transform: translate(-50%, -50%);\n                }\n                .spinner-content{\n                    top: calc( 50% + 0.75rem );\n                    left: 50%;\n                    text-align: center;\n                    position: absolute;\n                    transform: translate(-50%, -50%);\n                    color: #504f4f;\n                    font-size: 1rem;\n                }\n\n                .spinner > div {\n                    width: 0.75rem;\n                    height: 0.75rem;\n                    background-color: #504f4f;\n                    border-radius: 100%;\n                    display: inline-block;\n                    -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n                    animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n                }\n\n                .spinner .bounce1 {\n                -webkit-animation-delay: -0.32s;\n                animation-delay: -0.32s;\n                }\n\n                .spinner .bounce2 {\n                -webkit-animation-delay: -0.16s;\n                animation-delay: -0.16s;\n                }\n\n                @-webkit-keyframes sk-bouncedelay {\n                0%, 80%, 100% { -webkit-transform: scale(0) }\n                40% { -webkit-transform: scale(1.0) }\n                }\n\n                @keyframes sk-bouncedelay {\n                0%, 80%, 100% { \n                    -webkit-transform: scale(0);\n                    transform: scale(0);\n                } 40% { \n                    -webkit-transform: scale(1.0);\n                    transform: scale(1.0);\n                }\n                }\n            </style>\n            <div class=" spinner">\n                <div class="bounce1"></div>\n                <div class="bounce2"></div>\n                <div class="bounce3"></div>\n            </div>\n            <div class=" spinner-content">\n                \u0110ang k\u1ebft n\u1ed1i\n            </div>\n            </div>\n         ',
document.body.appendChild(a);window.addEventListener("online",function(){console.log("Became online");shinobi.util.internetConnection=!0;a.classList.remove("is-active")});window.addEventListener("offline",function(){console.log("Became offline");shinobi.util.internetConnection=!1;a.classList.add("is-active")});return a},hiddenModifyAvatarLinkButton:function(a){document.querySelector(a+" .file-label").querySelector(".button").classList.add("is-hidden")},renderUnEscap:function(a,b,c){a.innerHTML=shinobi.util.renderUncapContent(b)},
renderUncapContent:function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')},convertEscap:function(a){var b=document.createElement("div");b.innerHTML=a;b.querySelectorAll("img").forEach(function(a){console.log("img",a);var b=a.src,c=document.createElement("img");c.setAttribute("src",b);a.replaceWith(c)});return String(b.innerHTML).replace(/\.\s/g,".").replace(/alt="([A-Za-z0-9 _]*)"/g,"").replace(/width="([A-Za-z0-9 _]*)"/g,"").replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").trim()},showAvatarLinkAndPreventModify:function(a,b){b=JSON.parse(b);var c=document.querySelector(a+' [snb-render="shinobi.render.renderChangeAvatarImageContainer"]');a=document.querySelector(a+" .file-label").querySelector(".button");b.hasOwnProperty("avatarlink")&&null!=b.avatarlink&&""!=b.avatarlink?(c.classList.remove("is-hidden"),a.classList.add("is-hidden")):(c.classList.add("is-hidden"),a.classList.remove("is-hidden"))},
getAvatarLink:function(a){return a.querySelector('[snb-key="avatarlink"]').src},hiddenModalFooter:function(a){document.querySelector(a).querySelector(".modal-card-foot").classList.add("is-hidden")},renderCollapseButton:function(a){var b=document.querySelector(".section-title");b.classList=[];b.innerHTML='\n\t\t<div class="level panel-heading has-background-white-bis">\n\t\t\t<div class="level-left">\n\t\t\t\t<div class="level-item"><button class="button is-primary is-collapse-button">\n\t\t\t\t\t\t<i class="fa fa-list-ul"></i>\n\t\t\t\t\t</button></div>\n\t\t\t\t<div class="level-item"><p class=" title is-4 section-title">'+
b.innerText+'</p></div>\n\t\t\t</div>\n\t\t\t<div class="level-right">\n\t\t\t</div>\n\t\t</div>';a()},addCollapseButtonEvent:function(a){document.querySelector(".is-collapse-button").onclick=function(){var a=document.querySelectorAll(".panel"),c=a[0].parentElement;c.classList.contains("is-hidden")?c.classList.remove("is-hidden"):c.classList.add("is-hidden");a=a[1].parentElement;a.classList.contains("is-12")?(a.classList.add("is-8"),a.classList.remove("is-12")):(a.classList.remove("is-8"),a.classList.add("is-12"))};
a()},abledInput:function(a){document.querySelector(a).removeAttribute("disabled")},disableAllInput:function(a){a=document.querySelector(a);a.querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled","")});a.querySelectorAll(".textarea").forEach(function(a){a.setAttribute("disabled","")})},hiddenUploadFileInDetailForm:function(a){a=document.querySelector(a).querySelectorAll(".file-cta");for(var b=0;b<a.length;b++)a[b].classList.add("is-hidden")},disabledAllUserInfoInput:function(){document.getElementById("userInfoSection").querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled",
"")})},disabledAllBankInfoInput:function(){document.getElementById("userBankInfoSection").querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled","")})},showIdentityLabel:function(a){a=document.querySelector(a);a.querySelector('[snb-key="frontidentity"]').parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove("is-hidden");a.querySelector('[snb-key="backidentity"]').parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove("is-hidden")},
getCurrentSystemModule:function(){return document.querySelector("#menuModuleHeader").querySelector(".navbar-link").lastElementChild.innerText},renderReadMoneyAmountInVietnamese:function(a){var b=document.querySelector(a);b.querySelector('[snb-key="amount"]').addEventListener("input",function(){shinobi.mapping.getValue(a,function(a){a=docso(a.amount).trim();b.querySelector('[snb-key="vietnamesemoneyinput"]').innerText=a.charAt(0).toUpperCase()+a.slice(1)+" \u0111\u1ed3ng"})})},buildSearchUserRecommendFieldElement:function(a,
b){b.hasOwnProperty("callback")&&shinobi.util.addCallbackEvent(a,b);b.hasOwnProperty("buttonSearchEvent")&&shinobi.util.addButtonSearchEvent(a,b);b.hasOwnProperty("selectItem")&&shinobi.util.addSelectItemEvent(a,b)},addCallbackEvent:function(a,b){a.querySelector(".input").addEventListener("input",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",
JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();b.callback(a)}))})},addSelectItemEvent:function(a,b){a.querySelector(".input").addEventListener("change",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c,type:"="},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();
b.selectItem(a)}))})},addButtonSearchEvent:function(a,b){a.querySelector(".button.is-search").addEventListener("click",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c,type:"="},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();b.buttonSearchEvent(a)}))})},hexEncode:function(a){var b,c=
"";for(b=0;b<a.length;b++){var d=a.charCodeAt(b).toString(16);c+=("000"+d).slice(-4)}return c},hexDecode:function(a){var b=a.match(/.{1,4}/g)||[],c="";for(a=0;a<b.length;a++)c+=String.fromCharCode(parseInt(b[a],16));return c},onScreenDisable:function(a){var b=!1,c=!1;setInterval(function(){b=c;c=document.hidden;0==c&&1==b&&"function"==typeof a&&a()},1E3)},sumAllDataAndKeyJson:function(a,b){Object.entries(a);Object.entries(b).forEach(function(b){a.hasOwnProperty(b[0])?isNaN(a[b[1]])||(a[b[0]]+=b[1]):
a[b[0]]=b[1]})},checkMobile:function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(a){return navigator.userAgent.match(a)})},countNumberInInput:function(a){return null==a.match(/\d/g)?0:a.match(/\d/g).map(Number).length},countTextCharacterInInput:function(a){return null==a.match(/[a-zA-Z]/g)?0:a.match(/[a-zA-Z]/g).map(String).length},countSpecialCharacterInInput:function(a){return null==a.match(/[^0-9a-zA-Z]/g)?0:a.match(/[^0-9a-zA-Z]/g).map(String).length},
hasSendRequestToAdmin:function(a,b){"update success"==a&&(shinobi.notification.notification.info("\u0110\u00e3 ti\u1ebfp nh\u1eadn y\u00eau c\u1ea7u. Vui l\u00f2ng \u0111\u1ee3i ki\u1ec3m duy\u1ec7t."),"function"==typeof b&&b())},getCurrentDate:function(a){return shinobi.util.formatDate(new Date,a)},getFormatDate:function(a,b){a=shinobi.util.preProcessDateInput(a);return shinobi.util.formatDate(new Date(a),b)},preProcessDateInput:function(a){"string"==typeof a&&(a=a.replace(/-/g,"/"));return a},addLoopAnimate:function(a){for(var b=
document.querySelectorAll("[animate-loop]"),c=0;c<b.length;c++)shinobi.util.addLoopAnimateProcess(b[c],a)},getRandomInt:function(a){return Math.floor(Math.random()*Math.floor(a))},addLoopAnimateProcess:function(a,b){if(a.hasAttribute("stop-animate")&&"true"==a.getAttribute("stop-animate"))setTimeout(function(){shinobi.util.addLoopAnimateProcess(a,b)},1E3);else{var c=a.getAttribute("animate-loop").split(" "),d=shinobi.util.randomInList(c);a.classList.add(d);a.classList.add("animate__animated");setTimeout(function(){a.classList.remove(d);
setTimeout(function(){shinobi.util.addLoopAnimateProcess(a,b)},200)},1E3)}},addAnimate:function(a,b){a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.util.addAnimateProcess(a[c],b)},addAnimateProcess:function(a,b){var c=["animated","inifinite"],d=b.hasOwnProperty("classItem")?b.classItem:"bounce";c.push(d);c.forEach(function(b){a.classList.add(b)});b.hasOwnProperty("infinity")&&setTimeout(function(){c.forEach(function(b){a.classList.remove(b)});setTimeout(function(){shinobi.util.addAnimateProcess(a,
b)},2E3)},2E3)},reverseFormatDate:function(a,b){var c=b.reverseFormat,d=a.slice(c.indexOf("dd"),c.lastIndexOf("dd")+2),e=a.slice(c.indexOf("MM"),c.lastIndexOf("MM")+2);a=a.slice(c.indexOf("yyyy"),c.lastIndexOf("yyyy")+4);return shinobi.util.formatDate(new Date(a+"/"+e+"/"+d),b)},formatDate:function(a,b){var c=shinobi.util.getTwoDigit(a.getDate()),d=shinobi.util.getTwoDigit(a.getMonth()+1),e=a.getFullYear(),f=shinobi.util.getTwoDigit(a.getHours()),g=shinobi.util.getTwoDigit(a.getMinutes()),h=shinobi.util.getTwoDigit(a.getSeconds()),
k=shinobi.util.getDayOfWeek(a,b);a=shinobi.util.getDayOfWeekShort(a,b);b=b&&b.hasOwnProperty("format")?b.format:"yyyy-MM-dd";return b=b.replace("yyyy",e).replace("MM",d).replace("dd",c).replace("hh",f).replace("mm",g).replace("ss",h).replace("dayOfWeekShort",a).replace("dayOfWeek",k)},getDayOfWeek:function(a,b){b=b&&b.hasOwnProperty("language")?b.language:"vn";a=a.getDay();return{vn:"Ch\u1ee7 nh\u1eadt;Th\u1ee9 hai;Th\u1ee9 ba;Th\u1ee9 t\u01b0;Th\u1ee9 n\u0103m;Th\u1ee9 s\u00e1u;Th\u1ee9 b\u1ea3y".split(";"),
en:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")}[b][a]},getDayOfWeekShort:function(a,b){b=b&&b.hasOwnProperty("language")?b.language:"vn";a=a.getDay();return{vn:"CN;Th\u1ee9 2;Th\u1ee9 3;Th\u1ee9 4;Th\u1ee9 5;Th\u1ee9 6;Th\u1ee9 7".split(";"),en:"Sun Mon Tue Wed Thu Fri Sat".split(" ")}[b][a]},getTagInputMappingElem:function(a){var b;"object"==typeof shinobi.initbulma.tagsInput&&shinobi.initbulma.tagsInput.forEach(function(c){c.element==a&&(b=c)});return b},addEventEnter:function(a,
b){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&(a.preventDefault(),b())});shinobi.util.checkMobile()&&a.addEventListener("focusout",function(a){b()})},jsonToSearchParam:function(a){var b="",c;for(c in a)b+="&"+c+"="+a[c];return"?"+b.slice(1,b.length)},getCalendarMappingElem:function(a){var b;"object"==typeof shinobi.initbulma.calendars&&shinobi.initbulma.calendars.forEach(function(c){c.element==a&&(b=c)});return b},getDateAfterCurrentDate:function(a,b){var c=new Date;switch(b){case "day":c.setDate(c.getDate()+
a);break;case "month":c.setMonth(c.getMonth()+a);break;case "year":c.setFullYear(c.setFullYear()+a)}a=c.getFullYear();b=shinobi.util.getTwoDigit(c.getMonth()+1);c=shinobi.util.getTwoDigit(c.getDate());return a+"-"+b+"-"+c},getDateAfterDate:function(a,b,c){a=shinobi.util.preProcessDateInput(a);a=new Date(a);switch(c){case "day":a.setDate(a.getDate()+b);break;case "month":a.setMonth(a.getMonth()+b);break;case "year":a.setFullYear(a.setFullYear()+b)}b=a.getFullYear();c=shinobi.util.getTwoDigit(a.getMonth()+
1);a=shinobi.util.getTwoDigit(a.getDate());return b+"-"+c+"-"+a},getSearchKey:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},getSearchParam:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},renderUserInfo:function(a){a=document.querySelector(a);
shinobi.util.renderUserInfoElement(a)},renderUserInfoElement:function(a){shinobi.coreapi.getLoggedUserInfo(function(b){b=JSON.parse(b);shinobi.mapping.renderElement(a,b)})},buildSearchUserField:function(a,b){a=document.querySelector(a);shinobi.util.buildSearchUserFieldElement(a,b)},isEmpty:function(a){return 0===Object.keys(a).length&&a.constructor===Object?!0:!1},uniqueArray:function(a){return a.sort().filter(function(a,c,d){return!c||a!=d[c-1]})},buildUpfileButton:function(a,b){var c=document.querySelector(a);
a=b&&b.hasOwnProperty("uploadUrl")?b.uploadUrl:"uploadfile";shinobi.fileupload.registerElement(c,"change",a,function(){return 0},function(a){"success"==a.result?(shinobi.notification.notification.info("Upload th\u00e0nh c\u00f4ng"),shinobi.render.renderImageFileInput(c,a.content.url,{})):shinobi.notification.notification.error("C\u00f3 l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i")},b)},checkEmptyJson:function(a,b,c){if(c){var d=Object.entries(a);a=c.hasOwnProperty("listNotEmpty")?c.listNotEmpty:Object.keys(a);
c=c.hasOwnProperty("listEmpty")?c.listEmpty:[];for(var e=!1,f=0;f<d.length;f++){var g=d[f];c.includes(g[0])||a.includes(g[0])&&""==g[1]&&(e=!0)}e?shinobi.util.fillInputMessage():b()}else Object.values(a).includes("")?shinobi.util.fillInputMessage():b()},getParentElementHasAttribute:function(a,b){a=a.parentNode;var c=!1,d=null,e=b.value;switch(b.type){case "class":a.classList.contains(e)&&(c=!0,d=a);break;case "id":a.id==e&&(c=!0,d=a);break;case "tagName":a.tagName==e&&(c=!0,d=a)}return"BODY"==a.tagName?
d:c?d:shinobi.util.getParentElementHasAttribute(a,b)},buildSearchUserFieldElement:function(a,b){var c=a.querySelector(".input");a.querySelector(".button").onclick=function(){var a=c.value.trim();""==a?(c.classList.add("is-danger"),shinobi.util.fillInputMessage()):(c.classList.remove("is-danger"),a={searchkey:a},shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(a),function(a){shinobi.notification.notification.loaded();b.hasOwnProperty("callback")&&
b.callback(a)}))}},buildAutoSuggestProvince:function(a,b){a=document.querySelector(a);if(a.hasAttribute("build-autocomplete")){a.nextElementSibling.remove();var c=document.createElement("input");c.setAttribute("id",a.id);c.setAttribute("class","input");a.parentNode.replaceChild(c,a);a=c}a.classList.add("select-symbol-input");a.classList.add("autocomplete-input");a.setAttribute("placeholder","T\u1ec9nh/Th\u00e0nh ph\u1ed1");a.setAttribute("build-autocomplete","true");var d=a.parentNode;d.classList.add("autocomplete");
c=document.createElement("ul");c.setAttribute("class","autocomplete-result-list ");shinobi.util.insertAfterElem(c,a);shinobi.cacheapi.request(shinobi.coreapi.locationApi+"getAllVietNamProvince","{}",function(a){var c=[];JSON.parse(a).forEach(function(a){c.push(a.provincename)});var e=new Autocomplete(d,{search:function(a){var b=[];0<a.length&&(b=c.filter(function(b){return b.toUpperCase().includes(a.toUpperCase())}));return b},onSubmit:function(a){shinobi.a=e;"function"==typeof b&&b(a,e)},autoSelect:!0});
return e})},convertTextToElement:function(a){var b=document.createElement("div");b.innerHTML=a;return b.firstElementChild},buildAutoSuggestBankName:function(a,b){a=document.querySelector(a);if(a.hasAttribute("build-autocomplete")){a.nextElementSibling.remove();var c=document.createElement("input");c.setAttribute("id",a.id);c.setAttribute("class","input");a.parentNode.replaceChild(c,a);a=c}a.classList.add("autocomplete-input");a.setAttribute("placeholder","Ng\u00e2n h\u00e0ng");a.setAttribute("build-autocomplete",
"true");var d=a.parentNode;d.classList.add("autocomplete");c=document.createElement("ul");c.setAttribute("class","autocomplete-result-list ");shinobi.util.insertAfterElem(c,a);shinobi.cacheapi.request(shinobi.coreapi.locationApi+"getAllBankName","{}",function(a){var c=[];JSON.parse(a).forEach(function(a){c.push(a.bankfullname)});var e=new Autocomplete(d,{search:function(a){var b=[];0<a.length&&(b=c.filter(function(b){return b.toUpperCase().includes(a.toUpperCase())}));return b},onSubmit:function(a){shinobi.a=
e;"function"==typeof b&&b(a,e)},autoSelect:!0});return e})},addClass:function(a,b){document.getElementById(a).classList.add(b)},removeClass:function(a,b){document.getElementById(a).classList.remove(b)},removeClassOfList:function(a,b){a.forEach(function(a){shinobi.aladinUtil.removeClass(a,b)})},getAllSearchInPath:function(){var a={};document.location.search.substr(1).split("&").forEach(function(b){b=$jscomp.makeIterator(b.split("="));key=b.next().value;value=b.next().value;a[key]=value});return a},
swapKeyAndValueJson:function(a){var b={},c;for(c in a)b[a[c]]=c;return b},addClassOfList:function(a,b){a.forEach(function(a){shinobi.aladinUtil.addClass(a,b)})},addClassOfListClass:function(a,b){a=document.getElementsByClassName(a);for(var c=0;c<a.length;c++)a[c].classList.add(b)},removeClassOfListClass:function(a,b){a=document.getElementsByClassName(a);for(var c=0;c<a.length;c++)a[c].classList.remove(b)},removeAllClass:function(a,b,c){a=document.getElementById(a).getElementsByClassName(b);b=a.length;
for(var d=0;d<b;d++)a[d].classList.remove(c)},decodeValue:function(a){var b=document.createElement("textarea");b.innerHTML=a;return b.value},loadListAds:function(a){shinobi.cacheapi.request("/api/UserRankingOverviewApi/getListAds",JSON.stringify(a.request),function(b){(b=JSON.parse(b))&&a.callback(b)})},convertCSVToArray:function(a,b){b=b||",";for(var c=new RegExp("(\\"+b+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+b+"\\r\\n]*))","gi"),d=[[]],e;e=c.exec(a);){var f=e[1];f.length&&f!==b&&d.push([]);
e=e[2]?e[2].replace(/""/g,'"'):e[3];d[d.length-1].push(e)}return d},insertAfterElem:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},createNumberCleaveInput:function(a,b){var c=shinobi.util.getFormatCharacters();b=Object.assign({numeral:!0,numeralDecimalMark:c.decimalFormatCharacter,delimiter:c.numberFormatCharacter},b);return new Cleave(a,b)},getValueNumberCleaveFormat:function(a){return shinobi.render.removeFormatNumber(a.value.trim())},getRecordNumber:function(a){a?(a=document.getElementById(a),
a=a.nextElementSibling.classList.contains("table-pagination")?a.nextElementSibling:a.nextElementSibling.getElementsByClassName("table-pagination")[0]):a=document.getElementById("table-pagination");var b=a.parentElement;b=b.hasAttribute("record-num")?b.getAttribute("record-num"):a.getElementsByClassName("shinobi-recordperpage")[0].value;shinobi.util.customRecordPerPagePagination(a,b);return b},customRecordPerPagePagination:function(a,b){a=a.getElementsByClassName("shinobi-recordperpage")[0].getElementsByTagName("option");
for(var c=0;c<a.length;c++){var d=(parseInt(c)+1)*b;a[c].innerHTML=d;a[c].value=d}},updateSuccess:function(a){shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng");"function"==typeof a&&a()},fillInputMessage:function(a){shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin");"function"==typeof a&&a()},checkValueEmpty:function(a,b){Object.values(a).includes("")?shinobi.util.fillInputMessage():"function"==typeof b&&b()},
getLoggedUser:function(){shinobi.util.checkAuthen()},checkAuthen:function(a){shinobi.cacheapi.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):a(!1))})},requestAuthen:function(a){shinobi.coreapi.checkAuthen(function(b){"function"==typeof a&&(b?a(b):shinobi.notification.notification.error("Vui l\u00f2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 thao t\u00e1c"))})},reCheckAuthen:function(a){var b=shinobi.coreapi.userApi+
"checkAuthen";"object"==typeof shinobi.cacheapi.cache&&shinobi.cacheapi.clearKey(b);shinobi.util.checkAuthen(a)},getSessionId:function(a){shinobi.api.request(shinobi.coreapi.systemUserApi+"getSessionId",JSON.stringify({}),function(b){"function"==typeof a&&(b=JSON.parse(b),b.hasOwnProperty("sessionid")?-1!=b.sessionid?a(b.sessionid):a(!1):a(!1))})},getUserInfo:function(a,b){if(!b)shinobi.util.checkAuthen(function(b){c={username:b};shinobi.cacheapi.request(shinobi.coreapi.userApi+"getAllUserInfo",JSON.stringify(c),
function(b){"function"==typeof a&&a(b)})});else if(b.hasOwnProperty("username")){var c={username:b.username};shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getUserInfo",JSON.stringify(c),function(b){"function"==typeof a&&a(b)})}},getLoggedUserInfo:function(a){shinobi.util.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})},checkUpdateSuccess:function(a,b,c){if(["insert success",
"update success"].includes(a)){if(!c||c.showNotification)a=c&&c.hasOwnProperty("showContent")?c.showContent:"C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng",shinobi.notification.notification.info(a);"function"==typeof b&&b()}},getFormatCharacters:function(){var a=",",b=".";"object"==typeof shinobi.utilconfig&&shinobi.utilconfig.hasOwnProperty("numberFormatCharacter")&&(shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")&&(a=shinobi.utilconfig.numberFormatCharacter.numberCharacter),
shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")&&(b=shinobi.utilconfig.numberFormatCharacter.decimalCharacter));return{numberFormatCharacter:a,decimalFormatCharacter:b}},getAllStorage:function(){var a={};Object.entries(window.localStorage).forEach(function(b){a[b[0]]=b[1]});return a},setAllStorage:function(a){Object.entries(a).forEach(function(a){window.localStorage.setItem(a[0],a[1])})},formatNumber:function(a){var b=shinobi.util.getFormatCharacters();return Number(a).format(0,
3,b.numberFormatCharacter,b.decimalFormatCharacter)},getContentIframe:function(a){shinobi.util.getContentIframeElement(document.querySelector(a))},getContentIframeElement:function(a){return a.contentDocument||a.contentWindow.document},getTwoDigit:function(a){return(10>a?"0":"")+a},getInternationalTelephoneCode:function(a){return a.getSelectedCountryData().dialCode},getInternationalTelephoneCountry:function(a){return a.getSelectedCountryData().iso2},setRangeCalendar:function(a,b,c){a=shinobi.util.getCalendarMappingElem(document.querySelector(a));
a.datePicker.start=b;a.datePicker.end=c;a.save()},addEventJumpToId:function(){var a=shinobi.util.getSearch("jumpid");a&&(a=document.getElementById(a).offsetTop-4*Number(shinobi.util.getFontSize()),a=0<a?a:0,document.body.scrollTop=a,document.documentElement.scrollTop=a)},randomInList:function(a){return a[Math.floor(Math.random()*a.length)]},jumpTo:function(a){a=document.querySelector(a);shinobi.util.jumpToElement(a)},jumpToElement:function(a){a&&(a=a.offsetTop-4*Number(shinobi.util.getFontSize()),
a=0<a?a:0,document.body.scrollTop=a,document.documentElement.scrollTop=a)},getStorage:function(a,b){return(a=window.localStorage.getItem(a))?a:""},setStorage:function(a,b,c){window.localStorage.setItem(a,b)},getLoggedName:function(a){shinobi.util.getUserInfo(function(b){b=JSON.parse(b);var c="";b&&(b.hasOwnProperty("firstname")&&b.hasOwnProperty("lastname")&&(c=b.firstname+" "+b.lastname),"function"==typeof a&&a(c))})},getSearch:function(a){var b=window.location.search.split("?"),c=null,d=a+"=";b.forEach(function(a){c=
a.includes(d)?a.replace(d,""):c});return c},getFontSize:function(a){return shinobi.util.getComputedProperty(a,"font-size").replace("px","")},getComputedProperty:function(a,b){return a?window.getComputedStyle(a,null).getPropertyValue(b):window.getComputedStyle(document.body,null).getPropertyValue(b)},getValueInput:function(a){switch(a.getAttribute("type")){case "checkbox":var b=a.checked;break;default:b=a.value.trim()}return b=a.hasAttribute("snb-preprocess")?eval(a.getAttribute("snb-preprocess"))(b):
b},sha256:function(a){for(var b=Math.pow,c=b(2,32),d,e="",f=[],g=8*a.length,h=shinobi.util.sha256.h=shinobi.util.sha256.h||[],k=shinobi.util.sha256.k=shinobi.util.sha256.k||[],l=k.length,m={},p=2;64>l;p++)if(!m[p]){for(d=0;313>d;d+=p)m[d]=p;h[l]=b(p,.5)*c|0;k[l++]=b(p,1/3)*c|0}for(a+="\u0080";a.length%64-56;)a+="\x00";for(d=0;d<a.length;d++){b=a.charCodeAt(d);if(b>>8)return;f[d>>2]|=b<<(3-d)%4*8}f[f.length]=g/c|0;f[f.length]=g;for(b=0;b<f.length;){a=f.slice(b,b+=16);c=h;h=h.slice(0,8);for(d=0;64>
d;d++)l=a[d-15],m=a[d-2],g=h[0],p=h[4],l=h[7]+(shinobi.util.rightRotate(p,6)^shinobi.util.rightRotate(p,11)^shinobi.util.rightRotate(p,25))+(p&h[5]^~p&h[6])+k[d]+(a[d]=16>d?a[d]:a[d-16]+(shinobi.util.rightRotate(l,7)^shinobi.util.rightRotate(l,18)^l>>>3)+a[d-7]+(shinobi.util.rightRotate(m,17)^shinobi.util.rightRotate(m,19)^m>>>10)|0),g=(shinobi.util.rightRotate(g,2)^shinobi.util.rightRotate(g,13)^shinobi.util.rightRotate(g,22))+(g&h[1]^g&h[2]^h[1]&h[2]),h=[l+g|0].concat(h),h[4]=h[4]+l|0;for(d=0;8>
d;d++)h[d]=h[d]+c[d]|0}for(d=0;8>d;d++)for(b=3;b+1;b--)f=h[d]>>8*b&255,e+=(16>f?0:"")+f.toString(16);return e},rightRotate:function(a,b){return a>>>b|a<<32-b},removeUnicode:function(a){return shinobi.util.remove_unicode(a)},listAudio:{},playAudio:function(a){var b=shinobi.util.listAudio.hasOwnProperty(a)?shinobi.util.listAudio[a]:new Audio(a);b.play();shinobi.util.listAudio[a]=b},remove_unicode:function(a){a=a.toLowerCase();a=a.replace(/\u00e0|\u00e1|\u1ea1|\u1ea3|\u00e3|\u00e2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,
"a");a=a.replace(/\u00e8|\u00e9|\u1eb9|\u1ebb|\u1ebd|\u00ea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e");a=a.replace(/\u00ec|\u00ed|\u1ecb|\u1ec9|\u0129/g,"i");a=a.replace(/\u00f2|\u00f3|\u1ecd|\u1ecf|\u00f5|\u00f4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o");a=a.replace(/\u00f9|\u00fa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u");a=a.replace(/\u1ef3|\u00fd|\u1ef5|\u1ef7|\u1ef9/g,"y");a=a.replace(/\u0111/g,"d");a=a.replace(/!|@|%|\^|\*|\(|\)|\+|=|<|>|\?|\/|,|\.|:|;|'| |"|&|#|\[|\]|~|$|_/g,
"-");a=a.replace(/-+-/g,"-");return a=a.replace(/^\-+|\-+$/g,"")},changeActiveElement:function(a,b,c,d){for(var e=0;e<b.length;e++){var f=a+b[e];f==d?document.getElementById(f).classList.add(c):document.getElementById(f).classList.remove(c)}},modalEventListener:function(a){var b=a.getElementsByClassName("delete")[0];b&&(b.onclick=function(){a.classList.toggle("is-active")});if(b=a.getElementsByClassName("cancel-modal-button"))for(var c=0;c<b.length;c++)b[c].onclick=function(){a.classList.toggle("is-active")};
c=a.getElementsByClassName("modal-background");for(b=0;b<c.length;b++)c[b].onclick=function(){a.classList.toggle("is-active")};window.addEventListener("keydown",function(b){"Escape"==b.key&&a.classList.remove("is-active")},!0);if(c=a.getElementsByTagName("footer")[0])for(b in c=c.getElementsByTagName("button"),c)c[b].onclick=function(){a.classList.toggle("is-active")};if(a.hasAttribute("control-button-list"))for(b=a.getAttribute("control-button-list").split("|"),c=0;c<b.length;c++){var d=document.getElementById(b[c]);
d.onclick=function(){a.classList.add("is-active");if(d.hasAttribute("snb-render")){var b=d.getAttribute("snb-key"),c=d.getAttribute("snb-render");eval(c)(d,b)}}}},createFireWork:function(a){function b(a,b){return Math.random()*(b-a)+a}function c(a,c,d,e){this.x=this.sx=a;this.y=this.sy=c;this.tx=d;this.ty=e;this.distanceToTarget=Math.sqrt(Math.pow(a-d,2)+Math.pow(c-e,2));this.distanceTraveled=0;this.coordinates=[];for(this.coordinateCount=3;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);
this.angle=Math.atan2(e-c,d-a);this.speed=f.rocketSpeed;this.acceleration=f.rocketAcceleration;this.brightness=b(50,80);this.hue=l;this.targetRadius=1;this.targetDirection=!1;u++}function d(a,c){this.x=a;this.y=c;this.coordinates=[];for(this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=b(0,2*Math.PI);this.speed=b(1,10);this.friction=f.particleFriction;this.gravity=f.particleGravity;this.hue=b(l-20,l+20);this.brightness=b(50,80);this.alpha=1;this.decay=
b(.01,.03)}function e(){requestAnimFrame(e);l+=.5;q.globalCompositeOperation="destination-out";q.fillStyle="rgba(0, 0, 0, 0.5)";q.fillRect(0,0,r,t);q.globalCompositeOperation="lighter";for(var a=g.length;a--;)g[a].draw(),g[a].update(a);for(a=h.length;a--;)h[a].draw(),h[a].update(a);p>=f.timerInterval?k.down||(g.push(new c(r/2,t,b(0,r),b(0,t/2))),p=0):p++;m>=f.clickLimiter?k.down&&(g.push(new c(r/2,t,k.x,k.y)),m=0):m++}var f={startingHue:120,clickLimiter:5,timerInterval:20,showTargets:!1,rocketSpeed:4,
rocketAcceleration:1.03,particleFriction:.95,particleGravity:1,particleMinCount:25,particleMaxCount:40,particleMinRadius:3,particleMaxRadius:5},g=[],h=[],k={down:!1,x:0,y:0},l=f.startingHue,m=0,p=0,u=0;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(callback,1E3/60)}}();var n=document.createElement("canvas");(a&&a.hasOwnProperty("container")?a.container:document.body).appendChild(n);
var q=n.getContext("2d"),r=window.innerWidth,t=window.innerHeight;n.width=r;n.height=t;c.prototype.update=function(a){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);this.targetDirection?1<this.targetRadius?this.targetRadius-=.15:this.targetDirection=!1:8>this.targetRadius?this.targetRadius+=.15:this.targetDirection=!0;this.speed*=this.acceleration;var c=Math.cos(this.angle)*this.speed,e=Math.sin(this.angle)*this.speed;this.distanceTraveled=Math.sqrt(Math.pow(this.sx-(this.x+c),2)+
Math.pow(this.sy-(this.y+e),2));if(this.distanceTraveled>=this.distanceToTarget){c=this.tx;e=this.ty;for(var k=Math.round(b(f.particleMinCount,f.particleMaxCount));k--;)h.push(new d(c,e));g.splice(a,1)}else this.x+=c,this.y+=e};c.prototype.draw=function(){var a=this.coordinates[this.coordinates.length-1];q.beginPath();q.moveTo(a[0],a[1]);q.lineTo(this.x,this.y);q.strokeStyle="hsl("+this.hue+",100%,"+this.brightness+"%)";q.stroke();f.showTargets&&(q.beginPath(),q.arc(this.tx,this.ty,this.targetRadius,
0,2*Math.PI),q.stroke())};d.prototype.update=function(a){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);this.speed*=this.friction;this.x+=Math.cos(this.angle)*this.speed;this.y+=Math.sin(this.angle)*this.speed+this.gravity;this.alpha-=this.decay;this.alpha<=this.decay&&h.splice(a,1)};d.prototype.draw=function(){var a=Math.round(b(f.particleMinRadius,f.particleMaxRadius)),c=q.createRadialGradient(this.x,this.y,0,this.x,this.y,a);c.addColorStop(0,"white");c.addColorStop(.1,"white");
c.addColorStop(.1,"hsla("+this.hue+",100%,"+this.brightness+"%,"+this.alpha+")");c.addColorStop(1,"black");q.beginPath();q.fillStyle=c;q.arc(this.x,this.y,a,2*Math.PI,!1);q.fill()};window.addEventListener("resize",function(a){n.width=r=window.innerWidth;n.height=t=window.innerHeight});n.addEventListener("mousemove",function(a){a.preventDefault();k.x=a.pageX-n.offsetLeft;k.y=a.pageY-n.offsetTop});n.addEventListener("mousedown",function(a){a.preventDefault();k.down=!0});n.addEventListener("mouseup",
function(a){a.preventDefault();k.down=!1});n.setAttribute("style","position: fixed;top: 0;left: 0;");a&&a.hasOwnProperty("onClick")?"function"==typeof a.onClick&&(n.onclick=function(){a.onClick()}):a&&a.hasOwnProperty("href")&&(n.classList.add("has-cursor-pointer"),n.onclick=function(){window.location.href=a.href});window.onload=e();return n},createCoinFall:function(a){function b(){g&&requestAnimationFrame(b);f.clearRect(0,0,e.width,e.height);.3>Math.random()&&k.push({x:Math.random()*e.width|0,y:-50,
dy:3,s:.5+Math.random(),state:10*Math.random()|0});for(var a=k.length;a--;){var c=k[a].x,d=k[a].y,u=k[a].s,n=k[a].state;k[a].state=9<n?0:n+.1;k[a].dy+=.3;k[a].y+=k[a].dy;f.drawImage(h,44*Math.floor(n),0,44,40,c,d,44*u,40*u);d>e.height&&k.splice(a,1)}}var c=a.container,d=document.createElement("div");d.setAttribute("style","position: fixed;");c.appendChild(d);var e=document.createElement("canvas"),f=e.getContext("2d"),g=!1;e.width=window.innerWidth;e.height=window.innerHeight;e.id="gimmick";var h=
new Image;h.src=a.hasOwnProperty("imageSrc")?a.imageSrc:"http://i.imgur.com/5ZW2MT3.png";h.onload=function(){d.appendChild(e);g=!0;b()};var k=[];return d},renderListPost:function(a,b){b=void 0===b?"news":b;var c=null;if(a){var d=shinobi.coreapi.blogOverviewApi+"findDataList",e={recordPerPage:shinobi.util.getRecordNumber(a)};c=new shinobi.datalist(a);c.staticfilters=[{colname:"posttype",operator:"like",value:b}];c.staticsorts=[{colname:"id",value:"desc"}];c.initLoadApi(d,e)}return c}};
shinobi.xhradapter={getResource:function(a,b){this.accessResource("GET",a,b)},accessResource:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&c(d.responseText)};d.open(a,b,!0);d.send()},login:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&c(d.responseText)};d.open("POST","/login",!0);d.setRequestHeader("username",a);d.setRequestHeader("password",b);d.send()}};
shinobi.seoMarkUpBuilder={baseURL:"/page/blogpost/",JSON:[{baseurl:"/page/blogpost/",pagename:"B\u00e0i vi\u1ebft",markuprender:"shinobi.articleMarkUp.build"}],getJSON:function(){var a={};a.baseurl=baseURL;shinobi.api.request("/api/Api/getJSON",JSON.stringify(a),function(a){a=JSON.parse(a);shinobi.seoMarkUpBuilder.JSON=a})},render:function(){for(var a=shinobi.seoMarkUpBuilder.JSON,b=window.location.pathname,c=0;c<a.length;c++){var d=a[c];b.includes(d.baseurl)&&(d.markuprender&&""!=d.markuprender&&
null!=d.markuprender?eval(d.markuprender)():shinobi.seoMarkUpBuilder.defaultRender())}},defaultRender:function(){},build:function(){shinobi.seoMarkUpBuilder.render()}};
shinobi.api={request:function(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var f=JSON.parse(e.responseText);if(!d||d&&!d.hasOwnProperty("responseHandleFunction"))if("success"===f.result)c(f.content);else if("notify"===f.result)shinobi.notification.notification.info(f.content);else{var g=f.hasOwnProperty("content")&&""!=f.content.trim()?f.content:f.errorcode;["content","errorcode"].forEach(function(a){""==f[a].trim()||f[a].startsWith("ERROR_")||
f[a].startsWith("PAGECODE_")||(g=f[a])});shinobi.notification.notification.error(g)}else"function"==typeof d.responseHandleFunction&&d.responseHandleFunction({data:f,url:a,request:b,callback:c,options:d})}else 4==this.readyState&&(d&&d.errorCallback?d.errorCallback(this.status):console.log("response api code",this.status,a))};e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send(b)}};
shinobi.areasplinechart=function(){var a=function(b,c){this.data=[];this.name=this.title="";this.categories=[];this.options=c?c:null;this.createAreaSplineChart=function(a,b,c){this.containerId=a;this.categories=b;this.data=c;this.renderChart()};this.setData=function(a){this.data=a};this.setName=function(a){this.name=a};this.renderChart=function(){Highcharts.chart(this.containerId,{chart:{type:"areaspline",height:null==this.options?400:null==this.options.height?400:this.options.height},title:{text:""},
xAxis:{categories:this.categories},yAxis:{title:!1},exporting:{enabled:!1},credits:{enabled:!1},series:this.data})};a.staticmethod={hello:function(){}}};return a}();
shinobi.areastacksplinechart=function(){var a=function(b){this.data=[];this.name=this.title="";this.categories=[];this.createAreaStackSplineChart=function(a,b,e){this.containerId=a;this.categories=b;this.data=e;this.renderChart()};this.setData=function(a){this.data=a};this.setName=function(a){this.name=a};this.renderChart=function(){Highcharts.chart(this.containerId,{chart:{type:"areaspline"},title:{text:""},xAxis:{categories:this.categories},yAxis:{title:!1},exporting:{enabled:!1},tooltip:{split:!0},
credits:{enabled:!1},plotOptions:{areaspline:{stacking:"normal"}},series:this.data})};a.staticmethod={hello:function(){}}};return a}();
shinobi.articleMarkUp={title:"Aladin | N\u1ec1n t\u1ea3ng k\u1ebft n\u1ed1i c\u1ed9ng \u0111\u1ed3ng nh\u00e0 \u0111\u1ea7u t\u01b0 ch\u1ee9ng kho\u00e1n chuy\u00ean nghi\u1ec7p",gaid:"UA-119675169-1",headLine:"",postURL:"",image:"image.aladin.finance/aladin.finance.public.image/783d7f463d1a8269ab447d3593641cae/HVN.png",datePublished:new Date,dateModified:new Date,authorName:"",authorImageURL:"",publisherName:"Aladin | aladin.finance",publisherLogoURL:"https://image.aladin.finance/aladin.finance.public.image/c73f7e23e7ccb4d33744cd03cfc8a18f/Aladin-Logo-test.png",
description:"",buildArticleMarkupScript:function(){var a='<script type="application/ld+json">{"@context": "https://schema.org", "@type": "NewsArticle",'+('"mainEntityOfPage": {"@type": "WebPage", "@id": "'+shinobi.articleMarkUp.postURL+'"},');a+='"headline": "'+shinobi.articleMarkUp.title+'",';a+='"image": ["'+shinobi.articleMarkUp.image+'"],';a+='"datePublished": "'+shinobi.articleMarkUp.datePublished+'",';a+='"dateModified": "'+shinobi.articleMarkUp.dateModified+'",';a+='"author": {"@type": "Person", "name": "'+
shinobi.articleMarkUp.authorName+'",';a+='"image": {"@type": "ImageObject", "url": "'+shinobi.articleMarkUp.authorImageURL+'"}},';a+='"publisher": {"@type": "Organization", "name": "'+shinobi.articleMarkUp.publisherName+'",';a+='"logo": {"@type": "ImageObject", "url": "'+shinobi.articleMarkUp.publisherLogoURL+'"}},';a+='"description": "'+shinobi.articleMarkUp.description+'"}';return a+"\x3c/script>"},addGA:function(){ga("create",shinobi.articleMarkUp.gaid,"auto");ga("send","pageview")},buildArticleMarkUp:function(){var a=
window.location.pathname.split("/"),b={};b.posturl=blogPostPageUrl+a[a.length-1];shinobi.api.request("/api/BlogOverviewApi/getPreViewContent",JSON.stringify(b),function(a){var b=JSON.parse(a);shinobi.articleMarkUp.getAuthorInfo(b.createduser,function(){shinobi.articleMarkUp.setNewParam(b);shinobi.articleMarkUp.applyToHead();shinobi.articleMarkUp.addGA()})})},getAuthorInfo:function(a,b){var c={};c.username=a;shinobi.api.request("/api/UserApi/getAllUserInfo",JSON.stringify(c),function(a){a=JSON.parse(a);
shinobi.articleMarkUp.authorImageURL=a.avatarlink;shinobi.articleMarkUp.authorName=a.firstname+" "+a.lastname;b()})},setNewParam:function(a){a.posttitle.includes('"')?shinobi.articleMarkUp.title=a.posttitle.replace(/"/g,'\\"'):shinobi.articleMarkUp.title=a.posttitle;shinobi.articleMarkUp.dateModified=a.lastmodifieddate;shinobi.articleMarkUp.datePublished=a.createddate;shinobi.articleMarkUp.image=a.thumpnailurl;shinobi.articleMarkUp.postURL="https://www.aladin.finance"+a.posturl},applyToHead:function(){var a=
document.head.innerHTML;a+=shinobi.articleMarkUp.buildArticleMarkupScript();document.head.innerHTML=a},build:function(){shinobi.articleMarkUp.buildArticleMarkUp()}};
shinobi.autocomplete=function(){var a=function(a,c){this.input=this.autoCompleteObject="";this.selector=a;this.onUpdate=function(a,b){console.log(a.length+" results");-1<b&&console.log("Selected: "+a[b])};this.getResultValue=function(a){};this.autoSelect=!0;this.containerSelector="shinobiAutoComplete"+shinobi.util.sha256(a);this.options=c;this.onSearch=function(a,b){return[]};this.renderResult=function(a,b){return"<li "+b+"> "+JSON.stringify(a)+"</li>"};this.onSubmit=function(a,b){b.autoCompleteObject.input.value=
JSON.stringify(a)};this.loadOptions=function(){c.hasOwnProperty("onSearch")&&(this.onSearch=c.onSearch);c.hasOwnProperty("renderResult")&&(this.renderResult=c.renderResult);c.hasOwnProperty("onSubmit")&&(this.onSubmit=c.onSubmit);c.hasOwnProperty("onUpdate")&&(this.onUpdate=c.onUpdate);c.hasOwnProperty("autoSelect")&&(this.autoSelect=c.autoSelect)};this.createObject=function(){var a=this;a.autoCompleteObject=new Autocomplete("#"+a.containerSelector,{search:function(b){return""!=b.trim()||c.hasOwnProperty("emptySearch")&&
c.emptySearch?new Promise(function(c){a.onSearch(b.trim(),c)}):[]},renderResult:function(b,c){return a.renderResult(b,c)},onSubmit:function(b){a.onSubmit(b,a)},autoSelect:a.autoSelect,onUpdate:function(b,c){a.onUpdate(b,c,a)}})};this.createStructure=function(a){this.input=document.querySelector(this.selector);if(!this.input.parentElement.classList.contains("autocomplete")){var b=document.createElement("div");b.setAttribute("class","autocomplete");b.setAttribute("id",this.containerSelector);b.innerHTML=
'<ul class="autocomplete-result-list"></ul>';this.input.classList.add("autocomplete-input");this.input.setAttribute("autocomplete","nope");this.input.setAttribute("autocorrect","off");this.input.value="";this.input.parentElement.replaceChild(b,this.input);b.insertBefore(this.input,b.firstElementChild);b.appendChild(this.input);var c=document.createElement("form");c.setAttribute("autocomplete","off");c.setAttribute("onSubmit","return false;");b.parentElement.replaceChild(c,b);c.appendChild(b)}a()};
this.loadAll=function(){var a=this;this.loadOptions();this.createStructure(function(){a.createObject()})};this.loadAll()};a.staticmethod={hello:function(){}};return a}();
shinobi.cacheapi={cache:{},request:function(a,b,c,d){var e=a+"_"+JSON.stringify(b);shinobi.cacheapi.cache.hasOwnProperty(e)?0==shinobi.cacheapi.cache[e]?setTimeout(function(){shinobi.cacheapi.request(a,b,c)},10):c(shinobi.cacheapi.cache[e]):(shinobi.cacheapi.cache[e]=!1,shinobi.api.request(a,b,function(a){shinobi.cacheapi.cache[e]=a;d&&d.hasOwnProperty("cacheExpired")&&setTimeout(function(){delete shinobi.cacheapi.cache[e]},d.cacheExpired);c(a)}))},clearKey:function(a,b,c){c=a+"_";b?(c+=JSON.stringify(b),
shinobi.cacheapi.cache.hasOwnProperty(c)&&delete shinobi.cacheapi.cache[c]):Object.keys(shinobi.cacheapi.cache).filter(function(b){return b.includes(a+"_")}).forEach(function(a){delete shinobi.cacheapi.cache[a]})},clear:function(){shinobi.cacheapi.cache={}}};
shinobi.chartadapter={convertDataPieChart:function(a){var b=[],c=a[0];a=c.xname;c=c.value;for(var d=c.length,e=0;e<d;e++){var f={};f.name=a[e];f.y=parseInt(c[e]);b.push(f)}return b},convertDataStockChart:function(a){var b=[],c=a.chartdata[0];a=c.xname;c=c.value;for(var d=a.length,e=0;e<d;e++){var f=[];f.push(Number(a[e]));f.push(Number(c[e]));b.push(f)}return b},convertDataSimpleChart:function(a){var b=[];a=a.chartdata[0].value;for(var c=a[0],d=a.length,e=0;e<d;e++)b.push(Number(a[e])-c);return b},
convertDataColumnChart:function(a){var b={};a=a.chartdata;b.categories=[];b.data=[];var c=a.length;if(0==c)return b;for(var d=a[0].yname,e=d.length,f=0;f<e;f++){var g={};g.name=d[f];g.data=[];for(var h=0;h<c;h++)b.categories.push(a[h].xname[0]),g.data.push(Number(a[h].value[f]));g.data=g.data.reverse();b.data.push(g)}b.categories=b.categories.reverse();return b},convertOneObjectDataColumnChart:function(a){for(var b={data:[]},c=a.chartdata,d=0;d<c.length;d++){for(var e=a.chartdata[d],f=e.xname,g=[],
h=0;h<f.length;h++){var k=shinobi.util.getFormatDate(new Date(Number(f[h])),{format:"dd-MM-yyyy hh:mm"});g.push(k)}b.categories=g;f=e.value;g=f.length;h={};h.name=e.yname[0];h.data=[];for(e=0;e<g;e++)h.data.push(Number(f[e]));b.data.push(h)}return b}};"object"==typeof CKEDITOR&&(CKEDITOR.editorConfig=function(a){a.language="vi";a.height=300;a.toolbarCanCollapse=!0;a.allowedContent=!0;a.bodyClass="content column";a.contentsCss="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css"});
"object"==typeof CKEDITOR&&(CKEDITOR.editorConfig=function(a){a.language="vi";a.height=300;a.toolbarCanCollapse=!0;a.allowedContent=!0;a.bodyClass="document-editor content has-padding-1-rem";a.contentsCss="/static/production/shinobi_2.css"});
shinobi.coreapi={logo:'<span class="title is-2">CFV</span>',lotteryResultApi:"/api/LotteryResultApi/",lotteryStatisticApi:"/api/LotteryStatisticApi/",userApi:"/api/UserApi/",menuNotiApi:"/authenapi/MenuNotiApi/",productApi:"/api/ProductApi/",getSessionIdApi:"/authenapi/userapi/",getLoggedUser:function(){shinobi.coreapi.checkAuthen()},checkAuthen:function(a){shinobi.cacheapi.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):
a(!1))})},checkNotCacheAuthen:function(a){shinobi.api.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):a(!1))})},requestAuthen:function(a){shinobi.coreapi.checkAuthen(function(b){"function"==typeof a&&(b?a(b):shinobi.notification.notification.error("Vui l\u00f2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 thao t\u00e1c"))})},reCheckAuthen:function(a){var b=shinobi.coreapi.userApi+"checkAuthen";"object"==typeof shinobi.cacheapi.cache&&
shinobi.cacheapi.clearKey(b);shinobi.coreapi.checkAuthen(a)},getSessionId:function(a){shinobi.api.request(shinobi.coreapi.systemUserApi+"getSessionId",JSON.stringify({}),function(b){"function"==typeof a&&(b=JSON.parse(b),b.hasOwnProperty("sessionid")?-1!=b.sessionid?a(b.sessionid):a(!1):a(!1))})},getUserInfo:function(a){shinobi.coreapi.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.userApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})},
getLoggedUserInfo:function(a){shinobi.coreapi.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})}};
shinobi.datalist=function(){var a=function(a){this.url=this.loadingContainer="";this.colNames=[];this.filters=[];this.staticfilters=[];this.sorts=[];this.paramsList="";this.staticsorts=[];this.renders=[];this.tableRows=[];this.pageNum=1;this.rowTotal=this.pageTotal=this.recordPerPage=10;this.tableNode=document.getElementById(a);this.tableContainerNode=this.tableNode.parentNode;this.sampleNode=this.tableNode.querySelector("[snb-datalist-parent="+this.tableNode.getAttribute("snb-datalist-node")+"]");
this.pageNumNode=this.tableContainerNode.querySelector(".shinobi-pagination-curpage");this.recordPerPageNode=this.tableContainerNode.querySelector(".shinobi-recordperpage");this.getColnames=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-colname]"),d=[],e=0;e<b.length;e++)d[e]=b[e].getAttribute("snb-colname");return d};this.registerSorts=function(){for(var a=this.tableNode.querySelectorAll("[snb-sort]"),b=0;b<a.length;b++)this.registerSort(a[b])};this.registerPagination=function(){this.paginationContainer=
this.tableNode.parentNode.querySelector(".table-pagination")};this.updatePagination=function(a){shinobi.mapping.renderElement(this.paginationContainer,JSON.parse(a));if(JSON.parse(a).pageNum){var b=this.paginationContainer.querySelectorAll(".shinobi-pagination-curpage")[0];0==JSON.parse(a).pageTotal?b.value=0:b.value=JSON.parse(a).pageNum}};this.registerSort=function(a){var b=this;a.addEventListener("click",function(){var a=this.getAttribute("snb-sort");this.parentNode.getAttribute("snb-colname");
""===a?(this.setAttribute("snb-sort","asc"),this.innerHTML="<i class='fas fa-sort-up'></i>",this.classList.add("is-visible")):"asc"===a?(this.setAttribute("snb-sort","desc"),this.innerHTML="<i class='fas fa-sort-down'></i>",this.classList.add("is-visible")):(this.setAttribute("snb-sort",""),this.innerHTML="<i class='fas fa-sort'></i>",this.classList.remove("is-visible"));b.reloadApi(b.pageNum)})};this.getSorts=function(){this.sorts=[];this.sorts=this.sorts.concat(this.staticsorts);for(var a=this.tableNode.querySelectorAll("[snb-sort]"),
b=0;b<a.length;b++){var e=a[b],f=e.parentNode.getAttribute("snb-colname");e=e.getAttribute("snb-sort");if(""!==e){var g={};g.colname=f;g.value=e;this.sorts.push(g)}}};this.registerHeaders=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-header-control]"),d=0;d<b.length;d++)this.registerHeader(b[d])};this.registerHeader=function(a){var b=this;a.addEventListener("dblclick",function(){if(3==this.childNodes[0].nodeType)if(null!==this.querySelector("input"))b.removeFilterControls(this),
b.resetPageNum(),b.reloadApi(b.pageNum);else{var a=document.createElement("select");b.addFilterToElement(a,this);var c=document.createElement("input");c.setAttribute("type","text");c.setAttribute("value","");c.style.width=this.offsetWidth+"px";this.appendChild(document.createElement("br"));this.appendChild(a);this.appendChild(c)}});a.addEventListener("keyup",function(a){13===a.keyCode&&(""==this.querySelector("input").value&&b.removeFilterControls(this),b.resetPageNum(),b.reloadApi(b.pageNum))})};
this.removeFilterControls=function(a){var b=a.querySelector("br"),c=a.querySelector("select"),f=a.querySelector("input");a.removeChild(b);a.removeChild(c);a.removeChild(f)};this.resetPageNum=function(){this.pageNum=1;this.pageNumNode.value=1};this.addFilterToElement=function(a,b){if("number"===b.getAttribute("snb-datatype")){b=["=",">",">=","<","<="];var c=["equal",">",">=","<","<="]}else b=["=","like"],c=["equal","like"];for(var d=0;d<b.length;d++){var g=document.createElement("option");g.text=b[d];
g.value=c[d];a.appendChild(g)}};this.registerRecordPerPage=function(){var a=this;this.recordPerPageNode.addEventListener("change",function(){a.resetPageNum();a.reloadApi(a.pageNum)})};this.registerPrevPagination=function(){var a=this.tableNode.parentNode,b=this;a.querySelector(".shinobi-pagination-prev").addEventListener("click",function(){var c=a.querySelector(".shinobi-pagination-curpage"),d=c.value;1<d&&(--d,c.value=d,b.reloadApi(d))})};this.registerNextPagination=function(){var a=this.tableNode.parentNode,
b=this;a.querySelector(".shinobi-pagination-next").addEventListener("click",function(){var c=a.querySelector(".shinobi-pagination-curpage"),d=Number(c.value);d<b.pageTotal&&(d+=1,c.value=d,b.reloadApi(d))})};this.registerCurrentPageEvent=function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage"),b=this;a.addEventListener("keyup",function(c){13===c.keyCode&&(c=Number(a.value),0<c&&c<=b.pageTotal&&b.reloadApi(c))})};this.registerPagination();this.registerPrevPagination();
this.registerNextPagination();this.registerCurrentPageEvent();this.registerRecordPerPage();this.viewDetailPanelId="";this.renderTable=function(a,b,e){var c=this,d=this.tableNode.getAttribute("snb-datalist-node");c.clear();var h=this.tableNode.querySelector("[snb-datalist-parent="+d+"]");h&&c.tableNode.removeChild(h);h=c.sampleNode;if(e&&e.hasOwnProperty("lazyload")&&1==e.lazyload){var k=e.hasOwnProperty("lazyloadSplitDataLength")?e.lazyloadSplitDataLength:20;d=e.hasOwnProperty("lazySplitDataInterval")?
e.lazySplitDataInterval:20;c.insertListInterval=setInterval(function(){if(a.length<k){var b=a;a=[]}else b=a.splice(0,k);c.renderTableListData(b,h,e);0==a.length&&clearInterval(c.insertListInterval)},d)}else c.renderTableListData(a,h);0==a.length&&(c.tableNode.innerHTML="<i>Ch\u01b0a c\u00f3 d\u1eef li\u1ec7u</i>");"function"===typeof b&&b()};this.renderTableListData=function(a,b,e){for(var c=0;c<a.length;c++){var d=b.cloneNode(!0),h=a[c];d.setAttribute("rowid",c);shinobi.mapping.renderElement(d,h);
e&&e.hasOwnProperty("insertType")?"start"==e.insertType?this.tableNode.insertBefore(d,this.tableNode.firstElementChild):this.tableNode.appendChild(d):this.tableNode.appendChild(d)}};this.initLoadApi=function(a,b,e){this.loadingContainer="TBODY"==this.tableNode.tagName?this.tableContainerNode:this.tableNode;this.loadingContainer.classList.add("snb-datalist-item-container");var c=this;b.pageNum=1;this.filters=this.filters.concat(this.staticfilters);this.sorts=this.sorts.concat(this.staticsorts);b.filters=
this.filters;b.sorts=this.sorts;""!=this.paramsList&&(b.paramsList=this.paramsList);c.loading();shinobi.api.request(a,JSON.stringify(b),function(b){var d=JSON.parse(b),f=d.data;c.url=a;c.rowTotal=d.rowTotal;c.pageNum=d.pageNum;c.recordPerPage=d.recordPerPage;c.pageTotal=d.pageTotal;c.tableRows=f;c.loaded();c.renderTable(f,e);c.updatePagination(b)})};this.reloadApi=function(a,b){var c=this;this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;var d={};d.recordPerPage=
this.recordPerPage;d.pageNum=a?a:this.pageNum;d.filters=this.filters;d.sorts=this.sorts;""!=this.paramsList&&(d.paramsList=this.paramsList);c.loading();shinobi.api.request(this.url,JSON.stringify(d),function(a){var d=JSON.parse(a),e=d.data;c.rowTotal=d.rowTotal;c.pageNum=d.pageNum;c.recordPerPage=d.recordPerPage;c.pageTotal=d.pageTotal;c.tableRows=e;c.pageNum<=c.pageTotal||0==c.pageTotal&&1==c.pageNum?(c.loaded(),c.renderTable(e,b),c.updatePagination(a)):c.reloadApi(c.pageTotal)})};this.loading=function(){""!=
this.sampleNode&&this.sampleNode.classList.add("is-hidden");this.changeState("loading")};this.loaded=function(){""!=this.sampleNode&&this.sampleNode.classList.remove("is-hidden");this.changeState("loaded")};this.changeState=function(a){var b=document.querySelector(".button.is-primary");b=b?shinobi.util.getComputedProperty(b,"background-color"):"#555";var c=document.createElement("style");c.setAttribute("class","table-node-loading-inline-style");c.innerHTML=".is-borderless{\n\t\t\t\tborder: none;\n\t\t\t}\n\t\t\t@-webkit-keyframes spin {\n\t\t\t\t0% {\n\t\t\t\t\t-webkit-transform: rotate(0deg);\n\t\t\t\t}\n\t\t\n\t\t\t\t100% {\n\t\t\t\t\t-webkit-transform: rotate(360deg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t@keyframes spin {\n\t\t\t\t0% {\n\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t}\n\t\t\n\t\t\t\t100% {\n\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading {\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 5rem;\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading::before {\n\t\t\t\tposition: absolute;\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tbackground: #ddd;\n\t\t\t\tz-index: 1;\n\t\t\t\topacity: 0.3;\n\t\t\t}\n\t\t\n\t\t\t.snb-datalist-item-container.is-loading::after {\n\t\t\t\tposition: absolute;\n\t\t\t\tcontent: '';\n\t\t\t\tborder: 7px solid white;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tborder-top: 7px solid "+
b+";\n\t\t\t\twidth: 4rem;\n\t\t\t\theight: 4rem;\n\t\t\t\t-webkit-animation: spin 2s linear infinite;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t\tleft: calc(48% - 8px);\n\t\t\t\ttop: calc(48% - 8px);\n\t\t\t\tz-index: 2;\n\t\t\t}\n\t\t\t";this.tableNode.appendChild(c);"loading"==a?this.loadingContainer.classList.add("is-loading"):this.loadingContainer.classList.remove("is-loading")};this.clear=function(){clearInterval(this.insertListInterval);for(var a=this.tableNode;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(this.sampleNode)};this.updatePageTotal=function(){var a=this.tableNode.parentNode;a.querySelector(".shinobi-page-total").innerHTML=this.pageTotal;this.pageNum>this.pageTotal&&(this.pageNum=this.pageTotal,a.querySelector(".shinobi-pagination-curpage").value=this.pageNum)};this.getRowObject=function(a){return this.tableRows[a]};this.getTableFilters=function(){var b=document.getElementById(a).querySelectorAll("[snb-header-control] > input");this.filters=[];this.filters=this.filters.concat(this.staticfilters);
this.pageNum=1;for(var d=0;d<b.length;d++){var e=b[d],f=e.value;e=e.parentNode;var g=e.querySelector("select");g=g.options[g.selectedIndex].value;var h={};h.colname=e.getAttribute("snb-colname");h.operator=g;h.value=f;""!==f&&this.filters.push(h)}};this.viewDetailRender=function(a,b,e,f){b=document.createElement("a");b.setAttribute("class","button is-small");b.innerHTML="<span class='icon'> <i class='fa fa-search'></i></span>";a.appendChild(b);e=a.getAttribute("rowid");var c=a.parentNode.getAttribute("snb-detailid"),
d=f[e];b.addEventListener("click",function(){shinobi.mapping.render("#"+c,JSON.stringify(d))})}};a.staticmethod={hello:function(){}};return a}();
shinobi.dynamicchart=function(){return function(a,b){this.options=b;this.configChartId="";this.chartId=a;this.isLoadChartData=!1;this.chartData={};this.isLoadConfigData=!1;this.structureContent={};this.chartStructure="";this.chartStructureContent={};this.configData={};this.callback="";this.chartRenderObject={credits:{enabled:!1}};this.loadOptions=function(){this.options.configChartId&&(this.configChartId=this.options.configChartId);this.options.callback&&(this.callback=this.options.callback);this.loadDataChart()};
this.loadDataChart=function(){var a=this;if(this.options.getData){this.isLoadChartData=!1;var b=this.options.getData.url,e=JSON.stringify(this.options.getData.request),f=this.options.getData.callback;shinobi.api.request(b,e,function(b){f(b,function(b){a.isLoadChartData=!0;a.chartData=b})})}this.loadConfigChart()};this.loadConfigChart=function(){var a=this,b=this.options;if(b.getConfig)var e=setInterval(function(){if(1==a.isLoadChartData){clearInterval(e);a.isLoadConfigData=!1;var c=b.getConfig.url,
d=JSON.stringify(b.getConfig.request),h=b.getConfig.callback;shinobi.cacheapi.request(c,d,function(b){h(b,function(b){a.isLoadConfigData=!0;a.structureContent=b})})}},100);this.renderChart()};this.renderChart=function(){var a=this,b=setInterval(function(){1==a.isLoadChartData&&1==a.isLoadConfigData&&(clearInterval(b),a.buildRenderChartObject(),a.reRender(),"function"==typeof a.createChartCallback&&a.createChartCallback())},100)};this.reRender=function(){Highcharts.chart(this.chartId,this.chartRenderObject)};
this.buildRenderChartObject=function(){this.chartStructure=this.structureContent.charttemplatecontent;this.chartStructureContent=JSON.parse(this.structureContent.chartdetailcontent);this.configData=this.chartStructure;this.fillStructureContent();this.fillConfigAttributeValue();this.fillRenderObjectConfigAttribute()};this.convertStringFunctionToFuntion=function(a){for(var b=Object.entries(a),c=0;c<b.length;c++){var f=b[c][0],g=b[c][1];"object"==typeof g?a[f]=this.convertStringFunctionToFuntion(g):
"string"==typeof g&&-1<g.indexOf("function()")&&(a[f]=eval("("+g+")"))}return a};this.fillStructureContent=function(){var a=/[@{{}}]/g,b=this.configData.match(/@{{.*?\}}/g);if(b)for(var e=0;e<b.length;e++){var f=b[e].replace(a,"");f=this.chartStructureContent[f];f=this.getMappingValue(f);this.configData=this.configData.replace(new RegExp(b[e],"g"),f)}};this.fillConfigAttributeValue=function(){var a=/[#{{}}]/g,b=this.configData.match(/#{{.*?\}}/g);if(b)for(var e=0;e<b.length;e++){var f=b[e].replace(a,
"");f=this.chartData[f];f=this.getMappingValue(f);this.configData=this.configData.replace(new RegExp(b[e],"g"),f)}};this.getMappingValue=function(a){switch(typeof a){case "string":var b='"'+a+'"';break;case "object":b=JSON.stringify(a)}return b};this.fillAttributeValue=function(a){if("object"==typeof a)for(var b=Object.entries(a),c=0;c<b.length;c++){var f=b[c][0],g=b[c][1];switch(typeof g){case "object":this.fillAttributeValue(a[f]);break;case "string":var h=/[#{{}}]/g,k=g.match(/#{{.*?\}}/g);if(k&&
1==k.length&&g==k[0]){var l=k[0].replace(h,"");a[f]=this.chartData[l]}else if(k)for(var m=0;m<k.length;m++)l=k[m].replace(h,""),g=g.replace(new RegExp(k[m],"g"),this.chartData[l]),a[f]=g}}};this.fillRenderObjectConfigAttribute=function(){var a=JSON.parse(this.configData);a=this.convertStringFunctionToFuntion(a);a=Object.entries(a);for(var b=0;b<a.length;b++)this.chartRenderObject[a[b][0]]=a[b][1]};this.createChart=function(a){this.loadOptions();this.createChartCallback=a}}}();publicAccountLink="/page/account/";
ratingDetailLink="/page/ratingdetail/";blogPostPageUrl="/page/blogpost/";adminPostCheckPageUrl="/system/adminpostcheckdetail/";beginDateDatalist="2019-01-01";endDateDatalist="2100-01-01";blogIconImageLink="/static/image/blogicon.svg";copyTradeIconImageLink="/static/image/copytradeicon.svg";aladinLogo="/static/image/aladin.svg";groupAvatar="https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/groupchatavatar.png";
format=function(a){return Number(a).format(0,3,",",".")};formatInputTagDatalist=function(a,b){a.value=format(b)};formatNumberTable=function(a,b,c,d){b=a.innerHTML;a.innerHTML="";formatInputTagDatalist(a,b)};cancelModal=function(a){document.getElementById(a).classList.remove("is-active")};renderPriceOrderTable=function(a,b,c){};renderRoomAvatarDataList=function(a,b){""==b.trim()?a.setAttribute("src",groupAvatar):a.setAttribute("src",b)};
getCheckBoxList=function(a){var b=a.getAttribute("snb-key");a=a.getAttribute("snb-value-attr");b=document.querySelectorAll("[snb-key="+b+"]");for(var c=[],d=0;d<b.length;d++)b[d].checked&&"checkbox"==b[d].getAttribute("type")&&c.push(b[d].getAttribute(a));return c.toString()};getNation=function(a){return a.getElementsByTagName("select")[0].value};
renderProvinceList=function(a,b){var c=document.getElementById(a);shinobi.aladinUtil.removeAllChild(c);shinobi.api.request("/api/VietNamLocationNameApi/getAllVietNamProvince",JSON.stringify({}),function(a){a=JSON.parse(a);for(var d=0;d<a.length;d++){var f=document.createElement("option");f.setAttribute("value",a[d].provinceid);f.innerHTML=a[d].provincename;c.appendChild(f)}c.value="79";"function"==typeof b&&b()});return c};getCheckRadio=function(a){var b=a.getAttribute("snb-value-attr");if(a.checked)return a.getAttribute(b)};
removeAllChild=function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);b&&b()};
getAllUserInfo=function(a,b){var c=a.username.toString();shinobi.global||(shinobi.global={});shinobi.global.getAllUserInfo||(shinobi.global.getAllUserInfo={});shinobi.global.getAllUserInfo[c]?b(shinobi.global.getAllUserInfo[c]):0==shinobi.global.getAllUserInfo[c]?setTimeout(function(){getAllUserInfo(a,b)},10):(shinobi.global.getAllUserInfo[c]=!1,shinobi.api.request("/api/UserApi/getAllUserInfo",JSON.stringify(a),function(a){shinobi.global.getAllUserInfo[c]=a;b(a)}))};
displayResultSelect=function(a){a=document.getElementById(a);var b=[],c;for(c=0;c<a.length;c++)b.push(a.options[c].value);return b};customRecordPerPagePagination=function(a,b){a=a.getElementsByClassName("shinobi-recordperpage")[0].getElementsByTagName("option");for(var c=0;c<a.length;c++){var d=(parseInt(c)+1)*b;a[c].innerHTML=d;a[c].value=d}};
renderStockCompanyDeleteStaffButton=function(a,b){var c=a.querySelectorAll("[snb-key=username]")[0].innerHTML,d=window.localStorage.getItem("loggedUserName");c==d?a.innerHTML="":a.onclick=function(){er.confirm(function(){var c={};c.id=b;shinobi.api.request("/authenapi/StockComStaffManagementApi/deleteStaffFromGroup",JSON.stringify(c),function(b){"update success"==b&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),a.parentNode.remove())})})}};
gotoPublicPage=function(a,b){if(b.homepageurl){var c=publicAccountLink+b.homepageurl;a.classList.add("has-redirect");a.onclick=function(){window.location.href=c}}};renderHasFee=function(a,b,c,d){b=d[b];c=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b="false"==c?shinobi.language.free:1==b.hasOwnProperty("feeamount")?shinobi.aladinUtil.formatNumberValue(b.feeamount)+" \u0111":"C\u00f3 ph\u00ed";a.innerHTML=b};
renderPostType=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=shinobi.aladinUtil.convertPostTypeToVn(b);a.innerHTML=b};renderFullName=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);a.innerHTML=b};renderFirstNameLastName=function(a,b,c,d){var e=a.innerHTML;removeAllChild(a,function(){buildFirstNameLastNameDatalist(a,e)})};
renderStockCompanyTreeTable=function(a,b){a.classList.add("level-"+b);1==b&&a.parentNode.parentNode.parentNode.classList.remove("is-hidden");var c=a.parentNode.getElementsByClassName("open-button")[0],d=a.parentNode.getElementsByClassName("close-button")[0];2==b&&(c.classList.add("is-hidden"),d.classList.add("is-hidden"));var e=document.getElementById("dataTable");c.onclick=function(){var a=this.getAttribute("childrenid");this.classList.add("is-hidden");d.classList.remove("is-hidden");for(var b=e.querySelectorAll("[snb-key=parentid]"),
c=0;c<b.length;c++)b[c].innerHTML==a&&b[c].parentNode.classList.remove("is-hidden")};d.onclick=function(){var a=this.getAttribute("childrenid");this.classList.add("is-hidden");c.classList.remove("is-hidden");for(var b=e.querySelectorAll("[snb-key=parentid]"),d=0;d<b.length;d++)b[d].innerHTML==a&&(b[d].parentNode.classList.add("is-hidden"),b[d].parentNode.getElementsByClassName("close-button")[0].click(),b[d].parentNode.getElementsByClassName("open-button")[0].classList.add("is-hidden"))}};
renderStockCompanyTraderRegistrationInfo=function(a,b){b=JSON.parse(b);var c=a.getAttribute("snb-key-subkey");b[c]&&(a.innerHTML=b[c])};renderPostTitle=function(a,b,c,d){c=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=d[b];d=document.createElement("a");d.setAttribute("class","has-link");d.innerHTML=c;a.appendChild(d);b.hasOwnProperty("posturl")&&d.setAttribute("href",b.posturl)};
renderCheckRadio=function(a,b){a=a.getAttribute("snb-value-attr");document.querySelectorAll("["+a+"="+b+"]")[0].checked=!0};seenDetailOpenAccountForm=function(a,b){a.onclick=function(){shinobi.stockcomrealaccountregistrationrender.getDetailData(b,function(a){document.getElementById("openAccountDetailModal").classList.add("is-active");shinobi.mapping.render("#openAccountDetailModal",JSON.stringify(a));document.getElementById("acceptPoliciesOpenTradingAccount").checked=!0})}};
renderCheckBoxList=function(a,b){a=a.getAttribute("snb-value-attr");b=b.split(",");for(var c=0;c<b.length;c++)document.querySelectorAll("["+a+"="+b[c]+"]")[0].checked=!0};renderNation=function(a,b){a.getElementsByTagName("select")[0].value=b};removeOpenAccountFormButton=function(a,b){a.onclick=function(){shinobi.stockcomrealaccountregistrationrender.showConfirmRemoveModal(function(c){shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(a,b,"FAIL",c)})}};
acceptOpenAccountFormButton=function(a,b){a.onclick=function(){er.confirm(function(){shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(a,b,"FINISHED","")})}};renderDate=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy");a.setAttribute("class","date-time");a.innerHTML=b};
renderFormatDate=function(a,b){var c=a.getAttribute("snb-format");b=shinobi.aladinUtil.getFormatDate(b,c);a.classList.add("date-time");a.innerHTML=b};renderDateTime=function(a,b,c,d){b=a.innerHTML;shinobi.aladinUtil.removeAllChild(a);b=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy hh:mm");a.setAttribute("class","date-time");a.innerHTML=b};getExpiredDate=function(a,b){return shinobi.aladinUtil.remainDateWithCurrentDate(b)};renderJoinDateDatalist=function(a,b){a.innerHTML=getExpiredDate(a,b)};
renderExpireddateDatalist=function(a,b){a.innerHTML=b?"<p>C\u00f2n "+getExpiredDate(a,b)+" ng\u00e0y n\u1eefa</p>":"D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed "};convertRatingPointToStar=function(a,b){a.innerHTML=b/2};
buildRating=function(a,b){a.classList.add("is-flex");var c=b/=2;5<b&&(c=5);if(0>b||0==b)c=0;b="";for(var d=0;d<c;d++)b+='<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';for(d=0;d<5-c;d++)b+='<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';a.innerHTML=b};convertFequency=function(a){switch(a){case "MONTHLY":var b="1 Th\u00e1ng";break;case "QUATERLY":b="3 Th\u00e1ng";break;case "HALF_YEAR":b="6 Th\u00e1ng";break;case "ANNUALLY":b="12 Th\u00e1ng"}return b};
renderFequencyDatalist=function(a,b){b=convertFequency(b);a.innerHTML=b};renderInfoButton=function(a,b){var c=document.createElement("a");c.setAttribute("class","button is-info is-small ");c.innerHTML=b;a.appendChild(c)};
addUserOriginLogo=function(a,b){if(b.userorigin&&!a.parentNode.parentNode.querySelector(".table-logo")&&"ALADIN_MEMBER"!=b.userorigin&&1==b.isshoworiginavatar){var c=aladinLogo,d=document.createElement("p");d.setAttribute("class","stock-company-image ");a.parentNode.appendChild(d);a.parentNode.classList.add("stock-company-chat-avatar-container");a=document.createElement("img");d.appendChild(a);a.setAttribute("class","table-logo");switch(b.userorigin){case "DAS_STOCK_COMPANY":c="/static/image/daslogo.png"}a.setAttribute("src",
c)}};
buildAvatarDatalist=function(a,b){var c=document.createElement("p");a.parentElement&&(a.parentElement.insertBefore(c,a),c.appendChild(a));if("system"==b)a.setAttribute("src","/static/image/aladin.svg");else{c={};c.username=b;var d;getAllUserInfo(c,function(c){d=JSON.parse(c);b=d.avatarlink?d.avatarlink:"https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg";a.parentNode.classList.add("has-text-centered");a.setAttribute("src",b);a.setAttribute("title",d.firstname+
" "+d.lastname);addUserOriginLogo(a,d);gotoPublicPage(a,d)})}};getHeaderRenderKey=function(a,b,c){return(a=a.parentElement.parentElement.parentElement.getElementsByTagName("thead")[0])?(c=a.rows[0].cells[c],c.hasAttribute("snb-colname")?c.getAttribute("snb-colname"):null):null};buildNickIdTable=function(a,b,c,d){c=getHeaderRenderKey(a,b,c);a.innerHTML='<div snb-key="'+c+'" snb-render="buildNickIdDatalist"></div>';shinobi.mapping.renderElement(a,d[b])};
buildConnectButton=function(a,b,c,d){b=d[b];c=document.createElement("a");c.setAttribute("class","button is-link is-small");c.innerHTML="Ti\u1ebfp c\u1eadn";shinobi.aladinUtil.removeAllChild(a);a.appendChild(c);shinobi.investorlistingrender.addEventFollowButton(c,b.username)};renderCellTable=function(a,b,c,d){shinobi.fragmenttraderfollowerrender.renderCellFollowerTable(a,c)};
renderLimitButton=function(a,b,c){var d=a.innerHTML;a.innerHTML="";shinobi.fragmenttraderfollowerrender.renderLimitButtonFunction(a,b,c,d)};formatNumber=function(a,b,c){shinobi.aladinUtil.formatNumberRender(a,b,c)};
buildNickIdDatalist=function(a,b){if("system"!=b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);b=document.createElement("span");b.setAttribute("class","icon has-text-orange create-public-chat-icon tooltip is-hidden");b.setAttribute("data-tooltip","Tr\u00f2 chuy\u1ec7n");b.innerHTML='<i class="far fa-comment-dots fa-lg"></i>';er.buildPublicChat(b,d.id);a.appendChild(b);b=document.createElement("span");b.classList.add("id-nick-container");b.innerHTML="#"+d.id;a.appendChild(b)})}};
buildAvatarDatalistNoHref=function(a,b){var c=document.createElement("p");c.classList.add("margin-right-1rem");a.parentElement&&(a.parentElement.insertBefore(c,a),c.appendChild(a));if("system"==b)a.setAttribute("src","/static/image/aladin.svg");else{c={};c.username=b;var d;getAllUserInfo(c,function(c){d=JSON.parse(c);d=JSON.parse(c);b=d.avatarlink?d.avatarlink:"https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg";a.setAttribute("src",b);a.setAttribute("title",
d.firstname+" "+d.lastname);addUserOriginLogo(a,d)})}};buildHomePageUrlDatalist=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);if(d.homepageurl){var c=publicAccountLink+d.homepageurl;a.innerHTML=window.location.host+c;a.onclick=function(){window.location.href=c}}})};
buildFirstNameLastNameDatalist=function(a,b){if("system"!=b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);d=JSON.parse(b);a.innerHTML=d.firstname+" "+d.lastname;gotoPublicPage(a,d)})}};
renderStockCompanyUpgradeRequestCommandButton=function(a,b){a.onclick=function(){er.confirm(function(){var c=a.getAttribute("snb-function"),d={};d.requestid=b;shinobi.api.request("/authenapi/RequestUpgradeTraderOfStockCompanyApi/"+c,JSON.stringify(d),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),shinobi.stockcomtradersregistrationrender.datalist1.reloadApi(1))})})}};
renderStockCompanyCustomerManagementButton=function(a,b){a.setAttribute("href","/private/stockcomtradersmanagementcustomer/"+b)};renderGoToPublicPageDatalist=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);gotoPublicPage(a,d)})};buildFirstNameLastNameDatalistNoHref=function(a,b){var c={};c.username=b;var d;getAllUserInfo(c,function(b){d=JSON.parse(b);a.innerHTML=d.firstname+" "+d.lastname})};
renderAvatar=function(a,b,c){var d=a.innerHTML;removeAllChild(a,function(){var b=document.createElement("img");b.setAttribute("class","table-avatar");a.appendChild(b);buildAvatarDatalist(b,d)})};renderInvestingStrategy=function(a,b){""==b.trim()?a.innerHTML="Hi\u1ec7n ch\u01b0a c\u00f3!":400<b.length?(a.innerHTML=b.slice(0,400)+"...",b=document.createElement("a"),b.setAttribute("class","local-color"),b.innerHTML="[Xem th\u00eam]",a.appendChild(b)):a.innerHTML=b};
renderInvestingPeriodDataList=function(a,b){switch(b.trim()){case "MONTH_1":a.innerHTML="1 Th\u00e1ng";break;case "MONTH_1_3":a.innerHTML="1-3 Th\u00e1ng";break;case "MONTH_3_6":a.innerHTML="3-6 Th\u00e1ng";break;case "MONTH_6_12":a.innerHTML="6-12 Th\u00e1ng";break;case "YEAR_1_3":a.innerHTML="1-3 N\u0103m";break;case "YEAR_OVER_3":a.innerHTML="H\u01a1n 3 N\u0103m"}};renderInvestingPeriod=function(a,b,c){b=a.innerHTML;removeAllChild(a);renderInvestingPeriodDataList(a,b)};
renderFormatNumber=function(a,b,c){a.innerHTML=Number(a.innerHTML).format(0,3,",",".")};renderInvestingRisk=function(a,b,c){b=a.innerHTML;a.innerHTML='<div class="level width-50" ><input class="slider slider-width level-item" step="1" min="1" max="10" value="'+b+'" type="range" disabled="disabled"><span class="slider-value-padding level-item"> '+b+"/10</span></div>"};renderHomePageUrl=function(a,b){b=publicAccountLink+b;a.setAttribute("href",b);a.innerHTML=window.location.host+b};
autoRedirectMobile=function(){var a=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(a)&&(window.location.href="https://play.google.com/store/apps/details?id=com.aladinmobile.aladin");/iPhone|iPod/.test(a)&&!window.MSStream&&(window.location.href="https://apps.apple.com/app/id1474783146")};setHrefElem=function(a,b){a.style.cursor="pointer";var c=a.innerHTML;c&&a.setAttribute("title",c.replace(/\s+/g," "));a.onclick=function(){window.location.href=b}};
renderHref=function(a,b,c){setHrefElem(a,b)};renderHrefWithUserType=function(a,b,c){c=window.localStorage.getItem("loggedUserType");b="stock_com_admin"==c?"/private/stockcom"+b:"/private/"+c+b;if(a.hasAttribute("rs-hidden-with")){var d=a.getAttribute("rs-hidden-with");c==d&&a.classList.add("is-hidden")}a.hasAttribute("rs-parent-show-with")&&(d=a.getAttribute("rs-parent-show-with"),c==d&&a.parentNode.classList.remove("is-hidden"));setHrefElem(a,b)};
renderDashboardLastOrderAvatar=function(a,b,c){b=1==b||2==b?window.localStorage.getItem("loggedUserName"):b;buildAvatarDatalist(a,b)};renderDashboardLastOrderFullName=function(a,b){b=1==b||2==b?window.localStorage.getItem("loggedUserName"):b;buildFirstNameLastNameDatalist(a,b)};renderOrderSideDataList=function(a,b){a.innerHTML="S"==b?"B\u00e1n":"Mua"};
getNumberOfSessionBack=function(a){var b=1;switch(a){case "ONE_DAY":b=1;break;case "ONE_WEEK":b=5;break;case "ONE_MONTH":b=20;break;case "THREE_MONTH":b=60;break;case "SIX_MONTH":b=120;break;case "ALL_TIME":b=1E5}return b};
renderChartAnalysisSimpleDatalist=function(a,b){var c={};c.account__0__String=b;c.numberofsessionback__1__int=Number(Number(getNumberOfSessionBack(shinobi.investortraderlistingcontentheaderrender.currentTab))+1).toString();b={};b.chartParams=c;shinobi.api.request("/api/AladinChartApi/getChartData/ACCOUNT_ASSET_CHART",JSON.stringify(b),function(b){b=JSON.parse(b);b=shinobi.chartadapter.convertDataSimpleChart(b);(new shinobi.overviewareachart(a)).createOverviewAreaChart(a,"8rem","12rem",b)})};
customStylePagination=function(a){a.parentNode.getAttribute("pagi-style");a.getElementsByClassName("set-pagination-record-number-container")};renderChexbox=function(a,b,c,d){var e=a.innerHTML;a.innerHTML="";c=document.createElement("p");c.setAttribute("class","has-text-centered");["PENDING","PARTIAL_MATCHED"].includes(e)&&(e=document.createElement("input"),e.setAttribute("type","checkbox"),e.setAttribute("snb-key-checkbox",d[b].systemorderid),c.appendChild(e),a.appendChild(c))};
getUserInfo=function(a){shinobi.cacheapi.request("/authenapi/SystemUserApi/getInfoLogin",JSON.stringify({}),function(b){console.log(b);b=JSON.parse(b);a&&a(b)})};getUserInfoNotCache=function(a){shinobi.capi.request("/authenapi/SystemUserApi/getInfoLogin",JSON.stringify({}),function(b){console.log(b);b=JSON.parse(b);a&&a(b)})};
getRecordNumber=function(a){a=a?document.getElementById(a).nextElementSibling.getElementsByClassName("table-pagination")[0]:document.getElementById("table-pagination");var b=a.parentNode;b=b.hasAttribute("record-num")?b.getAttribute("record-num"):a.getElementsByClassName("shinobi-recordperpage")[0].value;customRecordPerPagePagination(a,b);customStylePagination(a);return b};setHrefHomePageUrl=function(a,b){renderHref(a,ratingDetailLink+b)};
renderDetailRatingPage=function(a,b){a.innerHTML="Chi ti\u1ebft \u0111\u00e1nh gi\u00e1";a.classList.add("has-link");setHrefHomePageUrl(a,b)};renderDashboardRatingDetailLink=function(a,b,c){b=window.localStorage.getItem("loggedUserHomePage");setHrefHomePageUrl(a,b)};addColorElem=function(a,b,c){c=a.innerHTML;0<b&&(a.innerHTML='<span class="up-value">'+c+"</span>");0==b&&(a.innerHTML='<span class="unchange-value">'+c+"</span>");0>b&&(a.innerHTML='<span class="down-value">'+c+"</span>")};
renderPercent=function(a,b,c){a.innerHTML=b+"%";addColorElem(a,b,c)};renderPercentNoColor=function(a,b,c){a.innerHTML=b+"%"};renderProfitPercent=function(a,b,c){renderPercent(a,b,c)};renderProfitpercent100NoColorTable=function(a,b,c,d){c=a.innerHTML;a.innerHTML="";a.classList.add("has-text-right");renderProfitpercent100NoColor(a,c,d[b])};renderProfitpercent100Table=function(a,b,c,d){c=a.innerHTML;a.innerHTML="";a.classList.add("has-text-right");renderProfitpercent100(a,c,d[b])};
renderProfitpercent100=function(a,b,c){renderPercent(a,Math.round(1E4*Number(b))/100,c)};renderProfitpercent100NoColor=function(a,b,c){renderPercentNoColor(a,Math.round(1E4*Number(b))/100,c)};renderformatNumberDatalist=function(a,b,c){a.classList.add("has-text-right");a.innerHTML=format(b)};renderProfit=function(a,b,c){a.innerHTML=format(b);addColorElem(a,b,c)};renderProfitPercentTable=function(a,b,c){a.classList.add("has-text-right");b=a.innerHTML;removeAllChild(a);renderProfitPercent(a,b)};
renderOrderType=function(a,b,c,d){b=a.innerHTML;c={LO:"L\u1ec7nh th\u01b0\u1eddng",CONDITION:"L\u1ec7nh \u0111i\u1ec1u ki\u1ec7n",CANCEL:"H\u1ee7y l\u1ec7nh",EDIT:"S\u1eeda l\u1ec7nh "};a.classList.add("has-text-left");a.innerHTML=c[b]?c[b]:b};renderOrderTypeDatalist=function(a,b,c){c={LO:"L\u1ec7nh th\u01b0\u1eddng",CONDITION:"L\u1ec7nh \u0111i\u1ec1u ki\u1ec7n",CANCEL:"H\u1ee7y l\u1ec7nh",EDIT:"S\u1eeda l\u1ec7nh "};a.classList.add("has-text-left");a.innerHTML=c[b]?c[b]:b};
renderNumberPriceTable=function(a,b,c,d){renderNumberPrice(a,a.innerHTML,d[b])};renderNumberPrice=function(a,b,c){a.parentNode.classList.add("has-text-right");a.innerHTML=b};renderOrderBuy=function(a,b,c,d){a.classList.add("has-text-centered");b=a.innerHTML;c={BUY:"Mua",SELL:"B\u00e1n"};a.innerHTML=c[b]?c[b]:b};
renderOrderTypeStatus=function(a,b,c,d){a.classList.add("has-text-left");b=a.innerHTML;c={NEW:"M\u1edbi",INPROCESS:"\u0110ang x\u1eed l\u00fd",SUCCESS:"Th\u00e0nh c\u00f4ng",PENDING:"Ch\u1edd kh\u1edbp",MATCHED:"\u0110\u00e3 kh\u1edbp",EDITED:"\u0110\u00e3 s\u1eeda",CANCELED:"\u0110\u00e3 h\u1ee7y",ERROR:"L\u1ed7i"};a.innerHTML=c[b]?c[b]:b};renderStockPriceDatalist=function(a,b){a.innerHTML=b/1E3};renderStockPriceTable=function(a,b,c,d){renderStockPriceDatalist(a,a.innerHTML)};
renderProfitTable=function(a,b,c){b=a.innerHTML;removeAllChild(a);renderProfit(a,b)};getUserNameInUrl=function(a){var b=window.location.pathname.split("/"),c={};c.pageurl=b[b.length-1];shinobi.api.request("/api/UserApi/getUsernameFromHomePage",JSON.stringify(c),function(b){b=JSON.parse(b);if(b.username)window.localStorage.setItem("currentUserDetail",b.username),a(b.username);else return shinobi.notification.notification.error("Kh\u00f4ng t\u00ecm th\u1ea5y ng\u01b0\u1eddi d\u00f9ng!"),!1})};
getPathnameSplitIndex=function(a){var b=window.location.pathname.split("/"),c;0>a&&(c=b[b.length+a]);"length"==a&&(c=b.length);0<a&&(c=b[a]);return c};renderPublicUserAssetInfo=function(a,b){var c={};c.username=b;shinobi.api.request("/api/ViewUserPublicAssetApi/getUserPublicAssetInfo",JSON.stringify(c),function(b){b=JSON.parse(b);b=JSON.stringify(b);shinobi.mapping.render(a,b)})};
renderPublicUserInfo=function(a,b){var c={};c.username=b;getAllUserInfo(c,function(b){b=JSON.parse(b);b=JSON.stringify(b);shinobi.mapping.render(a,b)})};getPublicUserInfo=function(a,b){var c={};c.username=a;getAllUserInfo(c,function(a){a=JSON.parse(a);"function"==typeof b&&b(a)})};
changeFeeType=function(a){switch(a){case "isfollowcopytrade":case "COPY_TRADE":a="Copy trade";break;case "TRAINING":a="\u0110\u00e0o t\u1ea1o";break;case "isfollowblog":case "INVESTING_BLOG":a="Blog \u0111\u1ea7u t\u01b0";break;case "EVENT":a="S\u1ef1 ki\u1ec7n";break;case "ORTHER":a="Ph\u00ed kh\u00e1c";break;case "TRADER_POST_FEE":a="Ph\u00ed b\u00e0i vi\u1ebft";break;case "COPY_TRADE_FREQUENT_FEE":a="Ph\u00ed CopyTrade";break;default:a="Ph\u00ed d\u1ecbch v\u1ee5 kh\u00f4ng x\u00e1c \u0111\u1ecbnh"}return a};
changeOrderStatus=function(a){switch(a){case "INPROCESS":a="Copy trade";break;case "TRAINING":a="\u0110\u00e0o t\u1ea1o";break;case "isfollowblog":case "INVESTING_BLOG":a="Blog \u0111\u1ea7u t\u01b0";break;case "EVENT":a="S\u1ef1 ki\u1ec7n";break;case "ORTHER":a="Ph\u00ed kh\u00e1c";break;case "TRADER_POST_FEE":a="Ph\u00ed b\u00e0i vi\u1ebft";break;case "COPY_TRADE_FREQUENT_FEE":a="Ph\u00ed CopyTrade";break;default:a="Ph\u00ed d\u1ecbch v\u1ee5 kh\u00f4ng x\u00e1c \u0111\u1ecbnh"}return a};
renderFeeTypeDatalist=function(a,b,c){b=changeFeeType(b);a.innerHTML=b};renderFeeTypeTable=function(a,b,c,d){b=a.innerHTML;a.innerHTML="";renderFeeTypeDatalist(a,b)};
buildTransStatus=function(a,b,c,d){a.innerHTML=shinobi.aladinUtil.changeTransStatus(a.innerHTML);b=d[b];""!=b.orthercomment.trim()&&(c=document.createElement("span"),c.setAttribute("class","tooltip is-tooltip-multiline icon has-text-warning"),c.innerHTML='<i class="fas fa-exclamation-triangle"></i>',c.setAttribute("data-tooltip",b.orthercomment.trim()),a.appendChild(c))};
renderSettlementCode=function(a,b){a.innerHTML=b;b=a.parentNode.querySelectorAll("[snb-key=orderid]")[0].innerHTML;a=a.parentNode;var c=window.localStorage.getItem("loggedUserType");a.setAttribute("href","/private/"+c+"accountrequestserviceformmanage/"+b)};gotoOrderDetail=function(a,b){};renderAmountDatalist=function(a,b,c){a.innerHTML=0==b?shinobi.language.free:format(b)};removeAllClassListInList=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c].classList.remove(b[d])};
addAllClassListInList=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)a[c].classList.add(b[d])};renderCopyTradeActionDatalist=function(a,b,c){switch(b){case "AUTOMATICAL":var d="T\u1ef1 \u0111\u1eb7t l\u1ec7nh";break;case "MANUAL":d="Th\u00f4ng b\u00e1o \u0111\u1eb7t l\u1ec7nh"}a.innerHTML=d};goToPageFollowUserType=function(a,b){"investor"==window.localStorage.getItem("loggedUserType")?window.location.href=a:window.location.href=b};
goToPageWithUserType=function(a,b,c,d){var e=window.localStorage.getItem("loggedUserType"),f=b;c||d||(f="/private/"+e+b);c&&(f=c+f);d&&(f+=d);a.onclick=function(){window.location.href=f}};
er={addEventDropdown:function(a){var b=document.getElementById(a);b.querySelector("[aria-controls=dropdown-menu]").onclick=function(){b.classList.toggle("is-active")}},buildPublicChat:function(a,b){er.checkAuthen(function(c){null==JSON.parse(c)?(a.classList.remove("is-hidden"),a.onclick=function(){shinobi.notification.notification.error(er.suggestLogin)}):"system"!=b&&JSON.parse(c).username!=b&&er.getPublicChatInfo(b,function(c){c=JSON.parse(c);c.chatroom?(a.classList.remove("is-hidden"),a.setAttribute("roomid",
c.chatroom.roomid)):"BLOCKED_STRANGER"!=c.contactstatus&&"NOT_TRADER_AND_INVESTOR"!=c.contactstatus?(a.setAttribute("inviteduser",b),a.classList.remove("is-hidden")):(a.classList.add("tooltip"),a.setAttribute("data-tooltip","Kh\u00f4ng th\u1ec3 chat v\u1edbi ng\u01b0\u1eddi d\u00f9ng ch\u1eb7n b\u1ea1n ho\u1eb7c b\u1ecb ch\u1eb7n"),a.classList.replace("has-text-orange","has-text-grey"),a.innerHTML='<i class="fa fa-comment-slash"></i>');a.onclick=function(){this.hasAttribute("roomid")?er.activeChatRoom(this.getAttribute("roomid")):
this.hasAttribute("inviteduser")&&er.createStrangerContactRoomChat(this,b)}})})},getPublicChatInfo:function(a,b){var c={};c.inviteduser=a;shinobi.api.request("/authenapi/ChatRoomManagementApi/getContactStatusInfo",JSON.stringify(c),function(a){"function"==typeof b&&b(a)})},createStrangerContactRoomChat:function(a,b){var c={};c.inviteduser=b;shinobi.api.request("/authenapi/ChatRoomManagementApi/createStrangerContactRoomChat",JSON.stringify(c),function(b){b=JSON.parse(b);b.roomid&&(a.setAttribute("roomid",
b.roomid),a.onclick())})},getValueBulmaCalendar:function(a,b){if(""==a.value.trim())return!1;var c={};if(1==b.hasOwnProperty("isRange")&&a.value.split("-")[0]&&a.value.split("-")[1])return b=a.value.split("-")[0].trim().replace(/\//g,"-"),a=a.value.split("-")[1].trim().replace(/\//g,"-"),c.startdate=b,c.enddate=a,c},renderValueBulmaCalendar:function(a,b){b=a.getAttribute("id")+"-info-render";b=document.getElementsByClassName(b)[0];if(b.hasAttribute("is-range")&&"true"==b.getAttribute("is-range")){var c=
b.getAttribute("startdate"),d=b.getAttribute("enddate");b=a.parentElement.querySelectorAll(".datetimepicker-dummy-input")[0];var e=a.parentElement.querySelectorAll(".datetimepicker-dummy-input")[1];c=shinobi.aladinUtil.getFormatDate(c,"dd/mm/yyyy");d=shinobi.aladinUtil.getFormatDate(d,"dd/mm/yyyy");b.value=c;e.value=d;a.value=c+" - "+d}},activeChatRoom:function(a){document.getElementById("chatBoxColumn").classList.remove("is-hidden");document.getElementById("chatMenuButton").click();var b=document.getElementById("listRoomChat").getElementsByClassName("room-chat");
setTimeout(function(){for(var c=0;c<b.length;c++)b[c].getAttribute("id")==a&&b[c].click()},1E3)},investorRegistration:{investorRegistration:"/page/investorregistration"},login:{login:"/page/login"},traderlistingpage:{traderlistingpage:"/page/traderlisting"},investorlisting:{investorlisting:"/page/investorlisting"},suggestLogin:"B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n thao t\u00e1c n\u00e0y!",convertUsingServiceToVn:function(a){switch(a){case "NEED_TO_EXTEND":a=
"Gia h\u1ea1n d\u1ecbch v\u1ee5";break;case "NEED_TO_SETTLE":a="Thanh to\u00e1n d\u1ecbch v\u1ee5";break;default:a=""}return a},convertStringToDate:function(a){return new Date(Date.parse(a.replace("-","/").replace("-","/")))},buildChatTime:function(a){a=er.convertStringToDate(a);var b=new Date,c=shinobi.aladinUtil.getFormatDate(a,"mm-dd-yyyy");b=shinobi.aladinUtil.getFormatDate(b,"mm-dd-yyyy");return c==b?shinobi.aladinUtil.getFormatDate(a,"hh:mm"):shinobi.aladinUtil.getFormatDate(a,"dd-mm-yyyy hh:mm")},
renderServiceUsingStatus:function(a,b){b&&(b=er.convertUsingServiceToVn(b),a.innerHTML=b)},reFormatDate:function(a,b,c){var d=a.substring(b.indexOf("d"),b.lastIndexOf("d")+1),e=a.substring(b.indexOf("m"),b.lastIndexOf("m")+1);a=a.substring(b.indexOf("y"),b.lastIndexOf("y")+1);return c.replace("dd",d).replace("mm",e).replace("yyyy",a)},renderCopyTradeStatus:function(a,b){var c={};c.feeid=b;c.publisher=a.parentNode.querySelectorAll("[snb-key=publisher]")[0].innerHTML;shinobi.api.request("/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus",
JSON.stringify(c),function(c){var d=JSON.parse(c);"FREE_SERVICE"==d.serviceusingstatus?a.innerHTML="D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed":"EXECUTING_PORTFOLIO"==d.serviceusingstatus&&(a.innerHTML="\u0110ang x\u1eed l\u00ed");if("NEED_TO_SETTLE"==d.serviceusingstatus){a.innerHTML='<p><a class="button open-order-button is-small is-link">C\u1ea7n thanh to\u00e1n</a></p>';a.getElementsByClassName("open-order-button")[0].onclick=function(){shinobi.fragmentselectfollowrelationtypemodalrender.redirectPaymentPage(b)};
var f=document.createElement("a");f.setAttribute("class","button is-text is-small");f.innerHTML="X\u00f3a \u0111\u01a1n h\u00e0ng";a.appendChild(f);f.onclick=function(){var a=d.followdetail,b={};b.feetype=a.feetype;b.subscriber=a.subscriber;b.publisher=a.publisher;shinobi.api.request("/authenapi/AladinProductOrderApi/deleteServiceOrder",JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("X\u00f3a \u0111\u01a1n h\u00e0ng th\u00e0nh c\u00f4ng"),f.parentNode.parentNode.classList.add("is-hidden"))})}}else if("NEED_TO_EXTEND"==
d.serviceusingstatus){c=document.createElement("a");c.setAttribute("class","button  is-danger is-small");c.innerHTML="Gia h\u1ea1n";a.appendChild(c);var g=document.createElement("p");g.setAttribute("class"," has-text-danger ");g.innerHTML="C\u00f2n "+d.remainday+" ng\u00e0y n\u1eefa";a.appendChild(g);c.onclick=function(){shinobi.fragmentextendrelationmodalrender.build(a,d.followdetail)}}else shinobi.fragmentaccountfollowingtraderender.buildServiceTimeContainer(a,d.followdetail)})},renderUnFollowButton:function(a,
b){var c={};c.feeid=b;c.publisher=a.parentNode.querySelectorAll("[snb-key=publisher]")[0].innerHTML;shinobi.api.request("/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus",JSON.stringify(c),function(b){1==JSON.parse(b).followdetail.isactive&&shinobi.fragmentaccountfollowingtraderender.buildUnFollowService(a,JSON.parse(b).followdetail)})},renderDetailRating:function(a,b,c){var d=document.createElement("span");d.setAttribute("class","star-container");a.appendChild(d);var e=document.createElement("span");
e.setAttribute("class","count-rating-container");a.appendChild(e);a={};a.username=b;shinobi.api.request("/api/ViewTraderRatingApi/getUserOverViewRating",JSON.stringify(a),function(a){var b=JSON.parse(a);er.buildRating(d,b.averageratingpoint);e.innerHTML="("+b.totalratingmember+")";e.onclick=function(){window.location.href="/page/ratingdetail/"+b.homepageurl}})},getCurrentDayOfWeek:function(){return(new Date).getDay()},getParentNodeWithKey:function(a,b,c){a.hasAttribute(b)?"function"==typeof c&&c(a):
a.parentElement&&er.getParentNodeWithKey(a.parentElement,b,c)},buildRating:function(a,b){var c=b/=2;5<b&&(c=5);if(0>b||0==b)c=0;b="";for(var d=0;d<c;d++)b+='<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';for(d=0;d<5-c;d++)b+='<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';a.innerHTML=b},renderUserType:function(a,b,c){b=window.localStorage.getItem("loggedUserType");er.convertUserTypeDatalist(a,b)},convertUserTypeDatalist:function(a,
b){switch(b.toLowerCase()){case "trader":var c="Nh\u00e0 t\u01b0 v\u1ea5n";break;case "investor":c="Nh\u00e0 \u0111\u1ea7u t\u01b0";break;case "stock_com_admin":c="T\u1ed5 ch\u1ee9c h\u1ee3p t\u00e1c"}a.innerHTML=c},addEventFollowTable:function(a,b,c){b=a.innerHTML;removeAllChild(a);c=document.createElement("a");c.setAttribute("class","button is-link  is-small");c.innerHTML="Theo";a.appendChild(c);shinobi.fragmentselectfollowrelationtypemodalrender.addEventFollow(c,b)},renderFreeOrUnFreeAmount:function(a,
b,c){c=a.parentNode.parentNode.parentNode.parentNode;b=c.querySelectorAll("[snb-key=publisher]")[0].innerHTML;c=c.querySelectorAll("[snb-key=feetype]")[0].innerHTML;var d={};d.traderusername=b;d.feetype=c;shinobi.api.request("/authenapi/TraderBuildFeeScheduleApi/checkTraderContainsUnFreeFeeSchedule",JSON.stringify(d),function(b){a.innerHTML="true"==b?"C\u00f3 ph\u00ed":shinobi.language.free})},getValueNumberCleaveFormat:function(a){return a.value.trim().replace(/,/g,"")},formatNameChatContainerHeader:function(a,
b){a.innerHTML=b},renderFeeValue:function(a,b,c){c=a.parentNode.querySelectorAll("[snb-key=amount]")[0].innerHTML;var d="D\u1ecbch v\u1ee5 mi\u1ec5n ph\u00ed";0<c&&(d=format(c)+"/"+convertFequency(b));a.innerHTML=d},checkAuthen:function(a){shinobi.global.checkAuthen?a(shinobi.global.checkAuthen):shinobi.global.isCheckAuthen?a(shinobi.global.checkAuthen):0==shinobi.global.isCheckAuthen?setTimeout(function(){er.checkAuthen(a)},10):(shinobi.global.isCheckAuthen=!1,shinobi.api.request("/api/UserApi/checkAuthen",
JSON.stringify({}),function(b){shinobi.global.checkAuthen=b;shinobi.global.isCheckAuthen=!0;a(b)}))},renderPostStatusDatalist:function(a,b,c){switch(b){case "WAITING_FOR_AUDIT":var d="Ch\u1edd duy\u1ec7t";var e="is-light";break;case "AVAILABLE":d="\u0110\u00e3 duy\u1ec7t";e="is-success";break;case "REJECTED":d="T\u1eeb ch\u1ed1i",e="is-danger"}a.innerHTML=d;a.classList.add(e)},activePathTabs:function(){for(var a=document.querySelectorAll(".tabs.active-pathname-tabs"),b=0;b<a.length;b++){var c=a[b].querySelector("[href="+
window.location.pathname.replace(/\//g,"\\/")+"]");c&&c.parentElement.classList.add("is-active")}},getFormatDatePickerInput:function(a,b){var c=document.getElementById(a+"-inputDivID").value;a=c.split("-")[0];var d=c.split("-")[1];c=c.split("-")[2];return shinobi.aladinUtil.getFormatDate(d+"-"+a+"-"+c,b)},getDatePickerValue:function(a){a=document.getElementById(a.id+"-inputDivID").value;var b=a.split("-")[0],c=a.split("-")[1];return a.split("-")[2]+"-"+c+"-"+b},renderFeeIconFromListFeeType:function(a,
b){b=JSON.parse(b);for(var c=0;c<b.length;c++){var d=b[c][0];if(d.feetype){var e=document.createElement("span");e.setAttribute("class","service-icon tooltip");e.setAttribute("data-tooltip",changeFeeType(d.feetype));var f=document.createElement("img");e.appendChild(f);switch(d.feetype){case "INVESTING_BLOG":var g=blogIconImageLink;break;case "COPY_TRADE":g=copyTradeIconImageLink}f.setAttribute("src",g);a.appendChild(e)}}},getListFeeIcon:function(a,b){er.checkAuthen(function(c){"null"!=c&&(c={},c.traderusername=
b,shinobi.api.request("/authenapi/TraderCustomerApi/getAllServiceCustomerIsFollowing",JSON.stringify(c),function(b){er.renderFeeIconFromListFeeType(a,b)}))})},listingTimeFrame:function(a){switch(a){case "ONE_DAY":var b="phi\u00ean g\u1ea7n nh\u1ea5t";break;case "ONE_WEEK":b="tu\u1ea7n";break;case "ONE_MONTH":b="th\u00e1ng";break;case "THREE_MONTH":b="ba th\u00e1ng";break;case "SIX_MONTH":b="s\u00e1u th\u00e1ng";break;case "ONE_YEAR":b="m\u1ed9t n\u0103m"}return"X\u1ebfp h\u1ea1ng "+b},postFiterConvert:function(a){switch(a){case "allpost":var b=
"T\u1ea5t c\u1ea3 b\u00e0i vi\u1ebft";break;case "hasfeepost":b="B\u00e0i vi\u1ebft c\u00f3 ph\u00ed";break;case "freepost":b="B\u00e0i vi\u1ebft mi\u1ec5n ph\u00ed";break;case "purchased":b="B\u00e0i vi\u1ebft \u0111\u00e3 mua"}return b},renderAdminPostCheckUrl:function(a,b,c){if(""!=b.trim){var d=b.replace(blogPostPageUrl,adminPostCheckPageUrl);a=a.parentNode.querySelectorAll('[snb-target="goToPostCheckPage"');for(b=0;b<a.length;b++)a[b].onclick=function(){window.location.href=d}}},createSimpleBar:function(a){a=
document.querySelectorAll(a);for(var b=0;b<a.length;b++)new SimpleBar(a[b])},confirm:function(a,b){var c=document.getElementById("confirmPanel");shinobi.aladinUtil.modalEventListener(c);b?(b.title&&(c.getElementsByClassName("modal-card-title")[0].innerHTML=b.title),b.content&&(c.getElementsByClassName("modal-card-body")[0].innerHTML=b.content),b.yescontent&&(c.getElementsByClassName("yes")[0].innerHTML=b.yescontent),b.nocontent&&(c.getElementsByClassName("cancel")[0].innerHTML=b.nocontent),b.modalsize&&
c.classList.add(b.modalsize),b.initfunction&&b.initfunction(c)):(c.getElementsByClassName("modal-card-title")[0].innerHTML="C\u1ea3nh b\u00e1o",c.getElementsByClassName("modal-card-body")[0].innerHTML="B\u1ea1n ch\u1eafc ch\u1eafn?",c.getElementsByClassName("yes")[0].innerHTML="X\u00e1c nh\u1eadn",c.getElementsByClassName("cancel")[0].innerHTML="H\u1ee7y");c.classList.add("is-active");b=c.getElementsByClassName("yes")[0];b.focus();b.onclick=function(){"function"==typeof a&&(c.classList.remove("is-active"),
a())}},runSnbReload:function(a){if(a.hasAttribute("snb-reload")){var b=a.getAttribute("snb-reload");a.hasAttribute("snb-reload-key")?"this"==a.getAttribute("snb-reload-key")&&eval(b)(a):eval(b)()}},renderListFeeIsActive:function(a,b){b="";for(var c=a.parentNode.querySelectorAll("[snb-render-key=feeType]"),d=0;d<c.length;d++)if("true"==c[d].innerHTML){var e=c[d].getAttribute("snb-key");b=b+"/"+changeFeeType(e)}b=b.slice(1,b.length);a.innerHTML=b},addEventTabs:function(a,b){var c=document.querySelectorAll(a);
switch(b){case "hrefUserType":er.addEventHrefUserType(a,c)}},addEventHrefUserType:function(a,b){b=b[0].querySelectorAll("[snb-tab]");for(var c={},d=window.localStorage.getItem("loggedUserType"),e=0;e<b.length;e++){var f=b[e];f.hasAttribute("snb-tab")&&(f=f.getAttribute("snb-tab"),c[f]=f,c[f+"href"]="/private/"+d+f)}shinobi.mapping.render(a,JSON.stringify(c))},renderCurrentCashPlaceHolder:function(a,b){a.setAttribute("placeholder","V\u1ed1n kh\u1ea3 d\u1ee5ng: "+format(b))},renderCopyTradeMessage:function(a,
b){var c=document.getElementById("copytradeSettingMessageContainer"),d=document.getElementById("copytradecapital");""==b.trim()?c.classList.add("is-hidden"):c.classList.remove("is-hidden");c=a.parentNode.querySelectorAll("[snb-key=currentcash")[0].innerHTML;1E5>Number(c)?(d.classList.add("is-danger"),d.disabled=!0):(d.classList.remove("is-danger"),d.disabled=!1);a.innerHTML=b},renderMaxQuantity:function(a,b){isNaN(Number(b))?a.parentNode.classList.add("is-hidden"):(a.parentNode.classList.remove("is-hidden"),
a.innerHTML=format(b))},renderPriceDatalist:function(a,b){a.innerHTML=0==b?shinobi.language.free:format(b)+"VN\u0110"},showDownloadFileModal:function(){var a=document.getElementById("confirmDownloadFileModal");a.classList.add("is-active");a.querySelector(".button.is-white").classList.add("is-loading");var b=document.getElementById("shinobinotification");setTimeout(function(){b.getAttribute("class").includes("errormessage")&&a.classList.remove("is-active")},2E3)},renderDownloadFileModal:function(a){var b=
document.getElementById("confirmDownloadFileModal");b.classList.add("is-active");var c=b.getElementsByClassName("is-loading")[0];"update success"==a?(c.classList.remove("is-loading"),c.innerHTML=a):b.classList.remove("is-active")},renderRemovePinLevel:function(a,b){a.classList.remove("is-hidden");a.onclick=function(){if(confirm("X\u00e1c nh\u1eadn x\u00f3a \u0111\u00e1nh d\u1ea5u")){var b=a.parentNode.querySelectorAll("[snb-key=postid]")[0].innerHTML,d={};d.postid=b;shinobi.api.request("/authenapi/SystemAuditTraderPostApi/deletePinedTraderPost",
JSON.stringify(d),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng!"),location.reload())})}}},renderDatePicker:function(a,b){a.getElementsByClassName("inputDivClass")[0].value=shinobi.aladinUtil.getFormatDate(b,"dd-mm-yyyy")},changeAllKeyChildren:function(a,b,c){for(var d=0;d<a.length;d++)er.renameKeys(b,a[d]),a[d].children&&0!=a[d].children.length&&er.changeAllKeyChildren(a[d].children,b);"function"==typeof c&&c(a)},renameKeys:function(a,
b){var c=Object.keys(a);a=Object.values(a);for(var d=0;d<c.length;d++)b[a[d]]=b[c[d]]},getAllObjectMenu:function(a,b){for(var c=0;c<b.length;c++)a.push(b[c]),b[c].children&&0!=b[c].children.length&&er.getAllObjectMenu(a,b[c].children)},getTokenValue:function(a){a=Number(a.slice(1,a.length-1));var b=Number(a).toString().split("").pop();return a>>>b},encodeURIComponent:function(a){return encodeURIComponent(a)},decodeURIComponent:function(a){return encodeURIComponent(a)},addEventSearchUser:function(a){var b=
document.getElementById(a);if("tags"==b.getAttribute("type"))var c=setInterval(function(){var a=b.nextElementSibling;a&&(a=a.getElementsByTagName("input")[0],er.addEventSearchUserElem(a,b),clearInterval(c))},100);else er.addEventSearchUserElem(b,b)},addResultList:function(a,b,c){if(0<a.parentNode.getElementsByClassName("result-absolute-container").length)var d=a.parentNode.getElementsByClassName("result-absolute-container")[0];else d=document.createElement("div"),d.setAttribute("class","result-absolute-container"),
a.parentNode.insertBefore(d,a.nextSibling);d.parentNode.classList.add("is-relative");if(0==b.length)d.remove(),a.setAttribute("refid","");else{d.innerHTML="";for(c=0;c<b.length;c++)if(3>c){a.setAttribute("refid",b[c].id);var e=document.createElement("div");e.setAttribute("class","level is-marginless");e.innerHTML='<div class="level-left chat-avatar"><img src="'+b[c].avatarlink+'" class="chat-room-avatar margin-right-05rem"></div><div class="level-item ">'+b[c].firstname+" "+b[c].lastname+"</div>";
d.appendChild(e)}a.onblur=function(){d.classList.add("is-hidden")};a.onclick=function(){d.classList.remove("is-hidden")}}},addEventSearchUserElem:function(a,b){a.onkeyup=function(){var c=a.value.trim();if(""!=c){var d={};d.searchkey=c;shinobi.api.request("/api/UserApi/searchUserById",JSON.stringify(d),function(c){c=JSON.parse(c);er.addResultList(a,c,b)})}else er.addResultList(a,[],b)}}};
erLib={data:[],reportLink:"/static/report/",renderCheckbox:function(a,b,c){a.innerHTML='<label class="checkbox"><input type="checkbox"></label>'},renderAllowDenyTable:function(a,b,c){"allow"==a.innerHTML&&(a.innerHTML="Cho ph\u00e9p");"deny"==a.innerHTML&&(a.innerHTML="Ch\u1eb7n")},showConfirmModal:function(a){var b=document.getElementById("confirmPanel");b.classList.add("is-active");b.getElementsByClassName("yes")[0].onclick=function(){b.classList.remove("is-active");a()}},createDataTreeRelation:function(a,
b,c){if(b){var d=a.id;a.name=d;a.id=b.id+"/"+d}else a.name=a.id;for(b=0;b<a.children.length;b++)erLib.createDataTreeRelation(a.children[b],a);"function"==typeof c&&c(a)},getFullPathSelectedNodeTree:function(a,b){var c=[];erLib.getFullPathSelected(c,a.treeNodes,"");b(c)},getFullPathSelected:function(a,b,c){for(var d=0;d<b.length;d++)2==b[d].status&&a.push(b[d].id),1==b[d].status&&erLib.getFullPathSelected(a,b[d].children,c);"function"==typeof c&&c(a)},getFullAreaTreeData:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",
JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&a(b)})},getAgencyAreaTreeData:function(a,b){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(a),function(a){a=JSON.parse(a);"function"==typeof b&&b(a)})},createFullAreaTree:function(a,b){erLib.getListProvinceDataTree(function(c){for(var d=0;d<c.length;d++)erLib.getListDicTristDataTree(c,d,function(d){for(var e=0;e<d.length;e++)erLib.getListPrecinctDataTree(d,e,function(){shinobi.createstafftreerender.tree=
erLib.createTree(a,c);var d=document.querySelectorAll(a)[0];shinobi.createstafftreerender.closeAllNode(d);"function"==typeof b&&b(tree)})})})},createTree:function(a,b){return new Tree(a,{data:b,loaded:function(){}})},getListPrecinctDataTree:function(a,b,c){var d={columnname:"district"};d.columnvalue=a[b].id;shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(d),function(d){d=JSON.parse(d);a[b].children=d;"function"==typeof c&&c(d);return a})},getListDicTristDataTree:function(a,
b,c){var d={columnname:"province"};d.columnvalue=a[b].id;shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree",JSON.stringify(d),function(d){d=JSON.parse(d);a[b].children=d;"function"==typeof c&&c(d);return a})},getListProvinceDataTree:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getDefaultValueListAsTree",JSON.stringify({columnname:"province"}),function(b){b=JSON.parse(b);"function"==typeof a&&a(b);return b})},getFileName:function(a,b){b=b.split("/");
a.innerHTML=b[b.length-1]},renderDownloadFile:function(a,b){b=b.split("/");a.setAttribute("href",erLib.reportLink+b[b.length-1]);setTimeout(function(){a.focus()},200);a.onclick=function(){var b=a.getAttribute("modal-parent");document.getElementById(b).classList.remove("is-active")}},addEventSelectAll:function(a,b){document.getElementById(a).onchange=function(){for(var a=document.getElementById(b).getElementsByTagName("tbody")[0].getElementsByTagName("tr"),d=0;d<a.length;d++){var e=a[d];e.getElementsByTagName("td");
e.querySelectorAll("[type=checkbox]")[0].checked=this.checked?!0:!1}}},hiddenCommandButton:function(a){document.getElementById("buttonGroup").getElementsByClassName(a)[0].classList.add("is-hidden")},addEventRemoveRowTable:function(a,b,c,d){b=a.innerHTML;removeAllChild(a);erLib.addEventRemoveRowDatalist(a,b,d)},addEventRemoveRowDatalist:function(a,b,c){var d=document.createElement("a");d.setAttribute("class","button is-danger is-small");d.innerHTML='<span class="icon"><i class="fa fa-times"></i></span><span>X\u00f3a</span>';
a.appendChild(d);d.onclick=function(){var a={};a.id=b;shinobi.api.request(c,JSON.stringify(a),function(a){erLib.removeMessage(a);location.reload()})}},createMessage:function(a){"update success"==a&&shinobi.notification.notification.info("T\u1ea1o m\u1edbi th\u00e0nh c\u00f4ng")},renderCellChangeStaffValue:function(a,b,c,d){erLib.renderNodeChangeValueListener(a,function(){a.getElementsByTagName("input")[0].setAttribute("list","fragmentStaffIdDatalist");erLib.renderDataListStaff("fragmentStaffIdDatalist",
d[b].agency)})},updateMessage:function(a,b){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),"function"==typeof b&&b())},removeMessage:function(a){"update success"==a&&shinobi.notification.notification.info("X\u00f3a th\u00e0nh c\u00f4ng")},renderUserTypeTable:function(a,b,c){erLib.renderUserTypeDatalist(a,a.innerHTML)},renderUserTypeDatalist:function(a,b){switch(b.toLowerCase()){case "shop":var c="\u0110\u1ea1i l\u00fd";break;case "agency":c=
"Ph\u00e1p nh\u00e2n";break;case "staff":c="Nh\u00e2n vi\u00ean";break;case "mobi_hcm_2":c="Mobifone";break;case "system":c="Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"}a.innerHTML=c},renderOrderResultTable:function(a,b,c){erLib.renderOrderResultDatalist(a,a.innerHTML)},renderOrderResultDatalist:function(a,b){switch(b.toLowerCase()){case "inprocess":b="\u0110ang x\u1eed l\u00ed";break;case "fail":b="Th\u1ea5t b\u1ea1i";break;case "success":b="Th\u00e0nh c\u00f4ng"}a.innerHTML=b},notiFillInput:function(){shinobi.notification.notification.error("\u0110i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin")},
addStartDateEndDateRequest:function(a,b){var c=document.getElementById("fromDate-inputDivID"),d=document.getElementById("toDate-inputDivID");""==c.value.trim()||""==d.value.trim()?erLib.notiFillDateInput():(a.startdate=er.getFormatDatePickerInput("fromDate","yyyy-mm-dd"),a.enddate=er.getFormatDatePickerInput("toDate","yyyy-mm-dd"),"function"==typeof b&&b(a))},notiFillDateInput:function(){shinobi.notification.notification.error("Ch\u01b0a \u0111i\u1ec1n t\u1eeb ng\u00e0y \u0111\u1ebfn ng\u00e0y")},
createTableListener:function(a){a=document.getElementById(a).getElementsByTagName("td");for(var b=0;b<a.length;b++)erLib.renderNodeChangeValueListener(a[b])},renderCellChangeValue:function(a,b,c,d){"function"==typeof d?erLib.renderNodeChangeValueListener(a,d):erLib.renderNodeChangeValueListener(a)},renderHasSendProfileContentTable:function(a,b,c,d){c="\u0110\u00e3 n\u1ed9p";d[b].staffsendprofiledate||(c="Ch\u01b0a n\u1ed9p");a.innerHTML=c},addHasSendProfileSelect:function(a,b){a.innerHTML="";b=document.createElement("div");
b.setAttribute("class","select is-fullwidth");b.setAttribute("snb-key","isprofilesent");b.innerHTML='  <select class="profile-send-select"> <option value="true">\u0110\u00e3 n\u1ed9p</option> <option value="false">Ch\u01b0a n\u1ed9p</option>  </select>';a.appendChild(b);return b.getElementsByTagName("select")[0]},renderHasSendProfileTable:function(a,b,c,d){erLib.addHasSendProfileSelect(a);c=a.getElementsByTagName("select")[0];"SUCCESS"==d[b].orderresult?c.value=d[b].staffsendprofiledate?"true":"false":
(c.value="false",c.disabled=!0);c.onchange=function(){var b=a.parentNode.querySelectorAll("[type=checkbox]")[0];b&&(b.checked=!0)}},renderNodeChangeValueListener:function(a,b,c){a.ondblclick=function(){var d=a.innerText;a.classList.add("table-change-value-cell");var e=a.getElementsByClassName("table-change-value-input")[0];if(e)var f=e;else f=document.createElement("input"),f.setAttribute("class","input is-small table-change-value-input");a.appendChild(f);f.focus();"function"==typeof b&&b(f);f.onchange=
function(){"function"==typeof c&&c();a.classList.remove("table-change-value-cell");var b=f.value;f.remove();""==b.trim()?a.innerHTML=d:a.innerHTML=b};f.addEventListener("keypress",function(b){13===(b.which||b.keyCode)&&("function"==typeof c&&c(),a.classList.remove("table-change-value-cell"),b=f.value,f.remove(),""==b.trim()?a.innerHTML=d:a.innerHTML=b)})}},createButtonEvent:function(a){document.getElementById("buttonGroup").getElementsByClassName("createButton")[0].onclick=function(){a()}},updateButtonEvent:function(a){document.getElementById("buttonGroup").getElementsByClassName("updateButton")[0].onclick=
function(){a()}},getSelectFormShopcodeValue:function(a,b,c){a=document.getElementById(a);var d=a.value;if("ALL"!=d){var e={};e.columnname=b;e.columnvalue=d.split("-")[0];a.hasAttribute("user-level")&&(e.userlevel=a.getAttribute("user-level"));c.push(e)}},renderShopCodeCheckGroup:function(a,b){var c={};c.columnname=b;c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueListAfterCheckGroup",c)},renderShopCode:function(a){var b=
{columnname:"shopcode"};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",b)},renderStatusCodeDetail:function(a){var b={};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCodeWithCodeValue",b)},renderObjectReport:function(a){var b={};b.recordPerPage=getRecordNumber(a);b.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/ExportTotalCommissionToExcelFileApi/getListShopAndAgency",
b)},renderShopCodeOfAgency:function(a,b,c){var d={};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",d);"function"==typeof c&&c();return a},renderShopCodeOfAgencyHasAllValue:function(a,b){var c={};c.columnvalue=b;c.getallvalue="ALL";c.recordPerPage=getRecordNumber(a);c.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",c);return a},
renderEmtyCell:function(a,b,c){a.innerHTML=""},renderRemoveCell:function(a,b,c){a.classList.add("is-hidden")},renderAgency:function(a,b){var c={columnname:"agency"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",c,b)},renderAgencyOfShopcode:function(a,b,c){var d={columnname:"agency"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
d,c)},renderAgencyOfShopcodeHasAllValue:function(a,b,c){var d={columnname:"agency"};d.columnvalue=b;d.getallvalue="ALL";d.recordPerPage=getRecordNumber(a);d.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",d,c)},getListAgency:function(a){shinobi.api.request("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",JSON.stringify({columnname:"agency"}),function(b){b=JSON.parse(b);a(b.data)})},convertListToTreeNode:function(a,b,c,d){for(var e=
[],f=0;f<a.length;f++){var g=a[f],h={};h.text=g[b];h.id=g[c];d&&(h.children=[]);e.push(h)}return e},renderProvince:function(a,b){var c={columnname:"province"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;(new shinobi.datalist(a)).initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueList",c,b)},renderDistrictListener:function(a,b,c){var d=erLib.renderDistrict(a,document.getElementById(b).value,function(){c();document.getElementById(b).onchange=function(){var b=document.getElementById(a);removeAllChild(b);
b.appendChild(d.sampleNode);erLib.renderDistrict(a,this.value)}})},renderDistrict:function(a,b,c){document.getElementById(a).disabled=!1;var d={columnname:"province"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getAreaDistribution",d,c);return a},renderShopcodeHasAllValue:function(a,b){document.getElementById(a).disabled=!1;var c={columnname:"shopcode"};c.recordPerPage=getRecordNumber(a);c.pageNum=1;a=new shinobi.datalist(a);
a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getDefaultValueListWithAllValue",c,b);return a},renderStaffInputListenner:function(a,b){var c=document.getElementById(b);setTimeout(function(){erLib.createStaffInputDatalist(a,c.value)},2E3);c.onchange=function(){erLib.createStaffInputDatalist(a,this.value)}},createStaffInputDatalist:function(a,b){var c=a+"Datalist",d=c+"Container",e=document.getElementById(d);e&&e.remove();e=document.getElementById("tempDataList").cloneNode(!0);e.getElementsByTagName("datalist")[0].innerHTML=
'<option  snb-datalist-parent="staffInputDatalist" snb-key="columnvalue"></option>';e.setAttribute("id",d);document.getElementsByTagName("main")[0].appendChild(e);a=document.getElementById(a);a.setAttribute("list",c);a.value="";a=e.getElementsByTagName("datalist")[0];a.setAttribute("id",c);a.setAttribute("snb-datalist-node",c);e=e.getElementsByTagName("option")[0];e.setAttribute("snb-datalist-parent",c);e.setAttribute("snb-key","columnvalue");return a=erLib.renderDataListStaff(c,b)},getStaffList:function(a,
b){var c={};c.agency=a.id;shinobi.api.request("/authenapi/StaffAreaDistributionApi/getStaffList",JSON.stringify(c),function(c){c=JSON.parse(c).data;c=erLib.convertListToTreeNode(c,"columnname","columnvalue",!1);a.children=c;b(a)})},renderDataListStaff:function(a,b){var c=document.createElement("option");c.setAttribute("snb-datalist-parent",a);c.setAttribute("snb-key","columnvalue");var d=document.getElementById(a);removeAllChild(d);d.appendChild(c);c={};c.agency=b;c.recordPerPage=getRecordNumber(a);
c.pageNum=1;d=new shinobi.datalist(a);d.initLoadApi("/authenapi/StaffAreaDistributionApi/getStaffList",c);return d},renderDataListOrderStatus:function(a,b){var c=document.createElement("option");c.setAttribute("snb-datalist-parent",a);c.setAttribute("snb-key","orderstatus");c.setAttribute("snb-key-innerhtml","orderstatus");c.setAttribute("snb-key-result","orderresult");var d=document.getElementById(a);removeAllChild(d);d.appendChild(c);c={};c.agency=b;c.recordPerPage=getRecordNumber(a);c.pageNum=
1;d=new shinobi.datalist(a);d.initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCode",c)},renderWardListener:function(a,b){var c=erLib.renderWard(a,document.getElementById(b).value,function(){document.getElementById(b).onchange=function(){var b=document.getElementById(a);removeAllChild(b);b.appendChild(c.sampleNode);erLib.renderWard(a,this.value)}})},renderWard:function(a,b,c){document.getElementById(a).disabled=!1;var d={columnname:"district"};d.columnvalue=b;d.recordPerPage=getRecordNumber(a);
d.pageNum=1;a=new shinobi.datalist(a);a.initLoadApi("/authenapi/AgencyWorkingAreaApi/getAreaDistribution",d,c);return a}};
shinobi.exportfile={exportFile:function(a,b,c){shinobi.notification.notification.loading();shinobi.api.request(a,JSON.stringify(b),function(a){shinobi.notification.notification.loaded();console.log(a);a=JSON.parse(a);console.log(a);if(a.hasOwnProperty("linkfile")){var b=document.getElementById("confirmDownloadExcelFileModal");shinobi.mapping.renderElement(b,a);b.classList.add("is-active")}else shinobi.notification.notification.error("Kh\u00f4ng t\u00ecm th\u1ea5y file");console.log(a)})},request:function(a,
b,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");e.responseType="blob";e.onload=function(a){a="export."+c;if(200===this.status){var b=this.response;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(b,a);else{"function"==typeof d&&d();var f=window.document.createElement("a"),k=e.getResponseHeader("Content-Type");f.href=window.URL.createObjectURL(new Blob([b],{type:k}));f.download=a;document.body.appendChild(f);
f.click();document.body.removeChild(f)}}};e.send(b)}};
shinobi.fileupload={filelist:[],register:function(a,b,c,d,e){a=document.getElementById(a);shinobi.fileupload.registerElement(a,b,c,d,e)},registerElement:function(a,b,c,d,e,f){f&&f.hasOwnProperty("type")?"public"==f.type&&("change"==b?a.addEventListener(b,function(){shinobi.notification.notification.loading();var b=shinobi.fileupload.isImage(a.files[0].type);b=d(b);var f=new FormData;f.append("file",a.files[0]);f.append("session","###");f.append("fileindex",b);shinobi.fileupload.uploadFile(f,c,e)}):
"paste"==b?a.addEventListener(b,function(a){shinobi.notification.notification.loading();var b=new FormData,f=a.clipboardData.files[0];"[object File]"===Object.prototype.toString.call(f)&&(f=shinobi.fileupload.isImage(f.type),f=d(f),b.append("file",a.clipboardData.files[0]),b.append("session","###"),b.append("fileindex",f),shinobi.fileupload.uploadFile(b,c,e))}):"drop"==b&&a.addEventListener(b,function(a){shinobi.notification.notification.loading();d();var b=new FormData;b.append("file",a.dataTransfer.files[0]);
b.append("session","###");shinobi.fileupload.uploadFile(b,c,e)})):(f=shinobi.hasOwnProperty("coreapi")&&shinobi.coreapi.hasOwnProperty("userApi")?shinobi.coreapi.userApi:"/authenapi/userapi/",shinobi.hasOwnProperty("coreapi")&&shinobi.coreapi.hasOwnProperty("getSessionIdApi")&&(f=shinobi.coreapi.getSessionIdApi),shinobi.api.request(f+"getSessionId",JSON.stringify({}),function(f){var g=JSON.parse(f).sessionid;"change"==b?a.addEventListener(b,function(){shinobi.notification.notification.loading();var b=
shinobi.fileupload.isImage(a.files[0].type);b=d(b);var f=new FormData;f.append("file",a.files[0]);f.append("session",g);f.append("fileindex",b);shinobi.fileupload.uploadFile(f,c,e)}):"paste"==b?a.addEventListener(b,function(a){shinobi.notification.notification.loading();var b=new FormData,f=a.clipboardData.files[0];"[object File]"===Object.prototype.toString.call(f)&&(f=shinobi.fileupload.isImage(f.type),f=d(f),b.append("file",a.clipboardData.files[0]),b.append("session",g),b.append("fileindex",f),
shinobi.fileupload.uploadFile(b,c,e))}):"drop"==b&&a.addEventListener(b,function(a){shinobi.notification.notification.loading();d();var b=new FormData;b.append("file",a.dataTransfer.files[0]);b.append("session",g);shinobi.fileupload.uploadFile(b,c,e)})}))},uploadFile:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){shinobi.notification.notification.loaded();try{var a=JSON.parse(d.responseText);c(a)}catch(h){shinobi.notification.notification.error("C\u00f3 l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i")}}};
var e=window.location.hostname,f=window.location.protocol;shinobi.hasOwnProperty("fileuploadconfig")&&shinobi.fileuploadconfig.hasOwnProperty("uploadDomain")?(e=shinobi.fileuploadconfig.uploadDomain,d.open("POST",e+b,!0)):shinobi.hasOwnProperty("fileuploadconfig")&&shinobi.fileuploadconfig.hasOwnProperty("uploadDomainProcess")?(e=shinobi.fileuploadconfig.uploadDomainProcess(),d.open("POST",e+b,!0)):"localhost"==e?d.open("POST","http://localhost:9999/"+b,!0):"www.aladin.finance"===e?d.open("POST",
f+"//uploadfile.aladin.finance/"+b,!0):"chonso.cbv.com.vn"===e?d.open("POST",f+"//uploadfile.cbv.com.vn/"+b,!0):d.open("POST",f+"//uploadfile."+e+"/"+b,!0);d.withCredentials=!0;d.send(a)},isImage:function(a){return"image/png"==a||"image/jpeg"==a||"image/gif"==a?!0:!1}};
shinobi.fragmentchangepassword={classButtonControlSelector:"fragment-change-password-button-control",listButtonControl:[],modal:"",modalId:"fragmentChangePassword",init:function(){shinobi.fragmentchangepassword.modal=document.getElementById(shinobi.fragmentchangepassword.modalId);shinobi.fragmentchangepassword.addEventListButtonControl();shinobi.fragmentchangepassword.addEventButtonModal()},addEventButtonModal:function(){shinobi.fragmentchangepassword.addEventChangePasswordButton()},addEventChangePasswordButton:function(){var a=
shinobi.fragmentchangepassword.modal.getElementsByClassName("submit-button")[0];shinobi.fragmentchangepassword.addEventButtonWhenClick(a);shinobi.fragmentchangepassword.addEventButtonWhenEnter(a)},addEventButtonWhenClick:function(a){a.onclick=function(){shinobi.fragmentchangepassword.changePasswordProcess()}},addEventButtonWhenEnter:function(a){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.fragmentchangepassword.changePasswordProcess()})},changePasswordProcess:function(){var a=
shinobi.fragmentchangepassword.modal.getElementsByClassName("old-password-input")[0],b=shinobi.fragmentchangepassword.modal.getElementsByClassName("new-password-input")[0],c=shinobi.fragmentchangepassword.modal.getElementsByClassName("confirm-password-input")[0];""==c.value.trim()||""==b.value.trim()||""==a.value.trim()?shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!"):c.value.trim()!=b.value.trim()?shinobi.notification.notification.error("M\u1eadt kh\u1ea9u m\u1edbi v\u00e0 x\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u kh\u00f4ng gi\u1ed1ng nhau!"):
shinobi.notification.confirm(function(){var c={};c.oldpassword=shinobi.util.sha256(a.value.trim());c.newpassword=shinobi.util.sha256(b.value.trim());shinobi.fragmentchangepassword.sendRequest(c)},{title:"X\u00e1c nh\u1eadn",content:"B\u1ea1n ch\u1eafc ch\u1eafn"})},sendRequest:function(a){shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"changeUserPassword",JSON.stringify(a),function(a){shinobi.notification.notification.loaded();"update success"==a&&(shinobi.notification.notification.info("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\u00e0nh c\u00f4ng"),
shinobi.fragmentchangepassword.close())})},addEventListButtonControl:function(){shinobi.fragmentchangepassword.listButtonControl=document.getElementsByClassName(shinobi.fragmentchangepassword.classButtonControlSelector);for(var a=0;a<shinobi.fragmentchangepassword.listButtonControl.length;a++)shinobi.fragmentchangepassword.listButtonControl[a].onclick=function(){shinobi.fragmentchangepassword.open()}},open:function(){""!=shinobi.fragmentchangepassword.modal&&shinobi.fragmentchangepassword.modal.classList.add("is-active")},
close:function(){""!=shinobi.fragmentchangepassword.modal&&shinobi.fragmentchangepassword.modal.classList.remove("is-active")}};
shinobi.fragmentforgotpassword={classButtonControlSelector:"fragment-forgot-password-button-control",listButtonControl:[],classLogoutButtonSelector:"logout-button",classLoggedUserNameButtonSelector:"logged-username-button",modal:"",modalId:"fragmentForgotPassword",init:function(){shinobi.fragmentforgotpassword.modal=document.getElementById(shinobi.fragmentforgotpassword.modalId);shinobi.fragmentforgotpassword.modal.getElementsByClassName("note-field")[0].classList.add("is-hidden");shinobi.fragmentforgotpassword.addEventListButtonControl();
shinobi.fragmentforgotpassword.addEventButtonModal()},addEventButtonModal:function(){shinobi.fragmentforgotpassword.addEventSubmitButton()},addEventSubmitButton:function(){var a=shinobi.fragmentforgotpassword.modal.getElementsByClassName("submit-button")[0];shinobi.fragmentforgotpassword.addEventWhenClick(a);shinobi.fragmentforgotpassword.addEventWhenEnter(a)},addEventWhenClick:function(a){a.onclick=function(){shinobi.fragmentforgotpassword.request()}},addEventWhenEnter:function(a){a.addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.fragmentforgotpassword.request()})},request:function(){var a=shinobi.fragmentforgotpassword.modal.querySelector('input[snb-key="email"]');if(""==a.value.trim())shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");else{var b={};b.email=a.value.trim();shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"sendForGetPasswordEmail",JSON.stringify(b),function(a){"update success"==
a&&(shinobi.notification.notification.loaded(),shinobi.mapping.renderElement(shinobi.fragmentforgotpassword.modal,b))})}},disableInputAndButton:function(a,b,c){a.setAttribute("disabled",!0)},showNoteField:function(a,b,c){a.classList.remove("is-hidden")},addEventListButtonControl:function(){shinobi.fragmentforgotpassword.listButtonControl=document.getElementsByClassName(shinobi.fragmentforgotpassword.classButtonControlSelector);for(var a=0;a<shinobi.fragmentforgotpassword.listButtonControl.length;a++)shinobi.fragmentforgotpassword.listButtonControl[a].onclick=
function(){shinobi.fragmentsignup.close();shinobi.fragmentforgotpassword.open()}},open:function(){""!=shinobi.fragmentforgotpassword.modal&&shinobi.fragmentforgotpassword.modal.classList.add("is-active")},close:function(){""!=shinobi.fragmentforgotpassword.modal&&shinobi.fragmentforgotpassword.modal.classList.remove("is-active")}};
shinobi.fragmentlogin={href:window.location.href,classButtonControlSelector:"fragment-login-button-control",listButtonControl:[],classLogoutButtonSelector:"logout-button",classLoggedUserNameButtonSelector:"logged-username-button",modal:"",modalId:"fragmentLogin",init:function(){shinobi.fragmentlogin.addEventClickLoginButton();shinobi.fragmentlogin.checkHasLogged(function(){shinobi.fragmentlogin.modal=document.getElementById(shinobi.fragmentlogin.modalId);shinobi.fragmentlogin.addEventButtonModal();
shinobi.fragmentlogin.addEventLogout();shinobi.fragmentlogin.changeLoggedState();shinobi.fragmentlogin.showLoginSignUpButton()})},addEventClickLoginButton:function(){var a=document.querySelectorAll(".is-login-button");"/page/login"!=window.location.pathname&&a.forEach(function(a){a.setAttribute("href","/page/login?originpage="+window.location.pathname)})},showLoginSignUpButton:function(){JSON.stringify(document.body.classList).includes("not-logged")&&(document.querySelector(".is-signup-button").classList.remove("is-hidden"),
document.querySelector(".is-login-button").classList.remove("is-hidden"))},loadGoogleAndFacebookLib:function(){window.fbAsyncInit=function(){FB.init({appId:"515882212152388",autoLogAppEvents:!0,xfbml:!0,version:"v3.2"})};(function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="https://connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(a,d))})(document,"script","facebook-jssdk")},changeLoggedState:function(){shinobi.coreapi.reCheckAuthen(function(a){a?
(document.body.classList.add("has-logged"),document.body.classList.remove("not-logged")):(document.body.classList.remove("has-logged"),document.body.classList.add("not-logged"))})},addEventLogout:function(){for(var a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector),b=0;b<a.length;b++)a[b].onclick=function(){shinobi.fragmentloginextension.logoutProcess(function(){shinobi.fragmentlogin.logoutProcess()})}},logoutProcess:function(){shinobi.xhradapter.getResource("/logout",
function(a){});for(var a=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector),b=0;b<a.length;b++)a[b].classList.remove("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);for(b=0;b<a.length;b++)a[b].classList.remove("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);for(b=0;b<a.length;b++)a[b].classList.remove("is-logged");a=document.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
for(b=0;b<a.length;b++)a[b].classList.remove("is-logged"),a[b].classList.remove("is-logged"),a[b].innerHTML="";shinobi.cacheapi.clear();shinobi.fragmentlogin.changeLoggedState();window.location.href="/"},checkHasLogged:function(a){shinobi.coreapi.checkAuthen(function(b){b&&(shinobi.fragmentlogin.hasLoginProcess(),shinobi.fragmentloginextension.loginProcess());"function"==typeof a&&a()})},addEventButtonModal:function(){shinobi.fragmentlogin.addEventLoginButton()},addEventLoginButton:function(){[".username-input",
".password-input",".login-button"].forEach(function(a){a=shinobi.fragmentlogin.modal.querySelector(a);switch(a.tagName){case "INPUT":shinobi.fragmentlogin.addEventLoginWhenEnter(a);break;case "A":case "BUTTON":shinobi.fragmentlogin.addEventLoginWhenEnter(a);shinobi.fragmentlogin.addEventLoginWhenClick(a);break;default:shinobi.fragmentlogin.addEventLoginWhenClick(a)}})},addEventLoginWhenClick:function(a){a.onclick=function(){shinobi.fragmentlogin.login()}},addEventLoginWhenEnter:function(a){a.addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.fragmentlogin.login()})},login:function(){var a=document.getElementsByClassName("username-input")[0],b=document.getElementsByClassName("password-input")[0];if(""==a.value.trim()||""==b.value.trim())shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");else{var c={};c.username=a.value.trim();c.password=shinobi.util.sha256(b.value.trim());c.secureinfo="";shinobi.fragmentlogin.requestLogin(c,"/login")}},requestLogin:function(a,
b){shinobi.notification.notification.loading();shinobi.api.request(b,JSON.stringify(a),function(a){shinobi.notification.notification.loaded();"authen success"==a?(shinobi.fragmentlogin.hasLoginProcess(),shinobi.fragmentloginextension.loginProcess()):shinobi.notification.notification.error("T\u00e0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u sai!!!")})},hasLoginProcess:function(){for(var a=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector),b=0;b<a.length;b++)a[b].classList.add("is-hidden");
a=document.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-hidden");a=document.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-logged");a=document.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);for(b=0;b<a.length;b++)a[b].classList.add("is-logged"),a[b].classList.add("is-loading");shinobi.fragmentlogin.changeLoggedState()}};
shinobi.fragmentloginextension={loginProcess:function(){""==shinobi.socketmanager.privateWebSocket&&shinobi.socketmanager.init()},logoutProcess:function(a){"function"==typeof a&&a()}};
shinobi.fragmentsignup={classButtonControlSelector:"fragment-sign-up-button-control",listButtonControl:[],modal:"",modalId:"fragmentSignUp",intlTelInput:"",hasCheckTrashMail:!0,init:function(){shinobi.fragmentsignup.modal=document.getElementById(shinobi.fragmentsignup.modalId);shinobi.fragmentsignup.addEventListButtonControl();shinobi.fragmentsignup.renderSelectPhoneTelephoneInput();shinobi.fragmentsignup.addEventButtonModal()},renderSelectPhoneTelephoneInput:function(){var a=shinobi.fragmentsignup.modal.getElementsByClassName("phone-number-input")[0];
shinobi.fragmentsignup.intlTelInput=window.intlTelInput(a,{autoPlaceholder:"off",dropdownContainer:document.body,initialCountry:"vn",utilsScript:"/static/js/library/intlTelInputUtil.js"})},addEventButtonModal:function(){shinobi.fragmentsignup.addEventSignUpButton();shinobi.fragmentsignup.signUpWithFacebook();shinobi.fragmentsignup.signUpWithGoogle()},signUpWithGoogle:function(){var a=shinobi.fragmentsignup.modal.querySelector(".google-button");gapi.load("auth2",function(){gapi.auth2.init({client_id:"92469729159-a402g2mqs9o0bje69k6gr2lheun6beer.apps.googleusercontent.com",
cookiepolicy:"single_host_origin"}).attachClickHandler(a,{},function(a){var b=a.getBasicProfile();if(a.Zi)var d=a.Zi.access_token;a.tc&&(d=a.tc.access_token);if(d){d=shinobi.util.sha256(d);var e=Math.floor(899999999*Math.random()+1E8),f=a.El?a.El:a.Ca;a={lastname:a.w3?a.w3.ofa:a.Pt.CU,firstname:a.w3?a.w3.wea:a.Pt.BW,email:b.getEmail(),phonenumber:e,password:d,confirmPassword:d,username:"gg_"+f,acceptRule:!0};b=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0];shinobi.mapping.renderElement(b,
a);shinobi.fragmentsignup.signup({method:"google",data:a})}else shinobi.notification.notification.error("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi Google")},function(a){alert(JSON.stringify(a,void 0,2))})})},signUpWithFacebook:function(){shinobi.fragmentsignup.modal.querySelector(".facebook-button").onclick=function(){FB.login(function(a){if(a.authResponse){a=a.authResponse;var b=a.accessToken,c=a.userID;FB.api("/"+c,"GET",{fields:"id,first_name, last_name,birthday,email,hometown,location"},
function(a){var d=shinobi.util.sha256(b);a={lastname:a.last_name,firstname:a.first_name,email:a.email,phonenumber:Math.floor(899999999*Math.random()+1E8),password:d,confirmPassword:d,username:"fb_"+c,acceptRule:!0};d=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0];shinobi.mapping.renderElement(d,a);shinobi.fragmentsignup.signup({method:"facebook",data:a})})}else shinobi.notification.notification.error("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi Facebook")},{scope:"user_birthday, email, user_hometown, user_gender, user_location"})}},
addEventSignUpButton:function(){var a=shinobi.fragmentsignup.modal.querySelector(".signup-button");shinobi.fragmentsignup.addEventWhenClick(a);shinobi.fragmentsignup.addEventWhenEnter(a)},addEventWhenClick:function(a){a.onclick=function(){shinobi.fragmentsignup.signup()}},addEventWhenEnter:function(a){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.fragmentsignup.signup()})},signup:function(a){var b=shinobi.fragmentsignup.getInput();shinobi.fragmentsignup.checkInput(b,
function(a){shinobi.fragmentsignup.sendRequest(a)},a)},sendRequest:function(a){shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"createNewUser",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.loaded(),shinobi.fragmentsignup.checkMailProcess(a),shinobi.fragmentsignup.showCheckMailModal(a),shinobi.fragmentsignup.close())})},showCheckMailModal:function(a){shinobi.notification.confirm(function(){},{title:"X\u00e1c nh\u1eadn email",
content:"<p>Xin ch\u00e0o <b>"+a.lastname+" "+a.firstname+"</b>,<br>Ch\u00fang t\u00f4i \u0111\u00e3 g\u1eedi m\u00e3 x\u00e1c nh\u1eadn \u0111\u1ebfn email: <b>"+a.email+"</b><br>Vui l\u00f2ng x\u00e1c nh\u1eadn \u0111\u1ecba ch\u1ec9 email \u0111\u1ec3 ho\u00e0n t\u1ea5t \u0111\u0103ng k\u00fd t\u00e0i kho\u1ea3n.<br>Tr\u00e2n tr\u1ecdng. </p>",ishiddenfooter:!0,modalsize:"is-medium"})},checkMailProcess:function(a){shinobi.fragmentsignup.hasCheckTrashMail&&shinobi.api.request(shinobi.coreapi.mailApi+
"sendMail",JSON.stringify(a),function(a){})},getInput:function(){for(var a=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0].querySelectorAll("[snb-key]"),b={},c=0;c<a.length;c++){var d=a[c].getAttribute("snb-key"),e=shinobi.util.getValueInput(a[c]);b[d]=e}return b},checkInput:function(a,b,c){var d=shinobi.fragmentsignup.modal.getElementsByClassName("form-container")[0],e=!0;Object.entries(a).forEach(function(a){var b=a[1];a=d.querySelector('[snb-key="'+a[0]+'"]');"string"==
typeof b&&""==b||"boolean"==typeof b&&0==b?(shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin v\u00e0 \u0111\u1ed3ng \u00fd c\u00e1c \u0111i\u1ec1u kho\u1ea3n"),a.classList.add("is-danger"),e=!1):a.classList.remove("is-danger")});if(e)if(a.password==a.confirmPassword){a.password=shinobi.util.sha256(a.password);a.confirmPassword=shinobi.util.sha256(a.confirmPassword);a.phonereligion=shinobi.fragmentsignup.getInternationalTelephoneCode();a.country=shinobi.fragmentsignup.getInternationalTelephoneCountry();
if(c)switch(c.method){case "google":case "facebook":a.username=c.data.username;break;default:a.username=a.email}else a.username=a.email;"function"==typeof b&&b(a)}else shinobi.notification.notification.error("X\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u kh\u00f4ng tr\u00f9ng kh\u1edbp")},getInternationalTelephoneCode:function(){return shinobi.util.getInternationalTelephoneCode(shinobi.fragmentsignup.intlTelInput)},getInternationalTelephoneCountry:function(){return shinobi.util.getInternationalTelephoneCountry(shinobi.fragmentsignup.intlTelInput)},
addEventListButtonControl:function(){shinobi.fragmentsignup.listButtonControl=document.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);for(var a=0;a<shinobi.fragmentsignup.listButtonControl.length;a++)shinobi.fragmentsignup.listButtonControl[a].onclick=function(){shinobi.fragmentlogin.close();shinobi.fragmentsignup.open()}},open:function(){""!=shinobi.fragmentsignup.modal&&shinobi.fragmentsignup.modal.classList.add("is-active")},close:function(){""!=shinobi.fragmentsignup.modal&&
shinobi.fragmentsignup.modal.classList.remove("is-active")}};
shinobi.gui=function(){return function(a,b){this.editors=[];this.tableId="dataTable";this.detailPanelId="detailpanel";this.buttonGroupId="buttonGroup";this.apiurl=a;this.option=b;this.detailPanelElem=document.getElementById(this.detailPanelId);shinobi.tableHelper.getColname(this.tableId);this.tableObject=new shinobi.table(this.tableId);this.loadTable=function(){this.tableObject.viewDetailPanelId=this.detailPanelId;var a=this.tableObject.getColnames(this.tableId),d=shinobi.tableHelper.getRender(this.tableId);
d[0]||(d[0]=this.tableObject.viewDetailRender);var e={},f=shinobi.util.getRecordNumber(this.tableId);e.recordPerPage=isNaN(f)?10:f;null!=b&&b.hasOwnProperty.tableObjectOption&&null!=b.tableObjectOption&&"undefined"!==typeof b.tableObjectOption.staticfilters&&null!=b.tableObjectOption.staticfilters&&(this.tableObject.staticfilters=b.tableObjectOption.staticfilters);this.tableObject.staticsorts[0]={colname:"id",value:"desc"};null!=b&&b.hasOwnProperty.tableObjectOption&&null!=b.tableObjectOption&&"undefined"!==
typeof b.tableObjectOption.hasCheckDuplicateFilterColumn&&null!=b.tableObjectOption.hasCheckDuplicateFilterColumn&&"undefined"!==typeof b.tableObjectOption.checkDuplicateFilterColumnList&&null!=b.tableObjectOption.checkDuplicateFilterColumnList&&(this.tableObject.hasCheckDuplicateFilterColumn=b.tableObjectOption.hasCheckDuplicateFilterColumn,this.tableObject.checkDuplicateFilterColumnList=b.tableObjectOption.checkDuplicateFilterColumnList);this.tableObject.initLoadApi(this.apiurl+"/findDataListExport",
e,a,d);return this};this.createElem=function(a,b){a=document.createElement(a);a.classList.add(b);return a};this.buildViewPanelObject=function(){var a=this,b={};document.getElementById(this.detailPanelId).querySelectorAll("[snb-key]").forEach(function(c){var d=c.getAttribute("snb-key");c.hasAttribute("snb-preprocess")?shinobi.mapping.getValueElement(a.detailPanelElem,function(e){b[d]=eval(c.getAttribute("snb-preprocess"))(c.value,{elem:c,gui:a,all:e})}):c.hasAttribute("snb-editor-index")?b[d]=shinobiEditors[c.getAttribute("snb-editor-index")].getData():
c.hasAttribute("snb-datatype")?"number"==c.getAttribute("snb-datatype")&&(b[d]=Number(c.value)):b[d]=c.value});return b};this.registerCreateButton=function(){var a=this,d=document.getElementById(this.buttonGroupId).getElementsByClassName("createButton")[0],e=!0;b&&b.hasOwnProperty("isHiddenCreateButton")&&1==b.isHiddenCreateButton&&(e=!1,d.classList.add("is-hidden"));e&&(d.onclick=function(){shinobi.mapping.getValue("#"+a.detailPanelId,function(b){shinobi.notification.confirm(function(){a.createProcess(b)})})})};
this.createProcess=function(a){var c=this;b&&b.hasOwnProperty("createFunction")?b.createFunction(c,a):b&&b.hasOwnProperty("checkEmpty")&&b.checkEmpty?shinobi.mapping.getValueElement(c.detailPanelElem,function(b){delete b.id;Object.values(b).includes("")?shinobi.util.fillInputMessage():c.sendCreateRequest(a)},{checkEmpty:!0}):c.sendCreateRequest(a)};this.sendCreateRequest=function(a){var b=this;delete a.id;shinobi.notification.notification.loading();shinobi.api.request(b.apiurl+"/create",JSON.stringify(a),
function(a){shinobi.notification.notification.info(a);b.loadTable()})};this.registerDeleteButton=function(){var a=document.getElementById(this.buttonGroupId).getElementsByClassName("deleteButton")[0],d=this,e=!0;b&&b.hasOwnProperty("isHiddenDeleteButton")&&1==b.isHiddenDeleteButton&&(e=!1,a.classList.add("is-hidden"));e&&(a.onclick=function(){d.checkDetailPanelJsonHasId(d,function(a){b&&b.hasOwnProperty("deleteFunction")?b.deleteFunction(d,a):(shinobi.notification.notification.loading(),shinobi.api.request(d.apiurl+
"/remove",JSON.stringify(a),function(a){shinobi.notification.notification.info(a);d.loadTable()}))})})};this.registerUpdateButton=function(){var a=document.getElementById(this.buttonGroupId).getElementsByClassName("updateButton")[0],d=this,e=!0;b&&b.hasOwnProperty("isHiddenUpdateButton")&&1==b.isHiddenUpdateButton&&(e=!1,a.classList.add("is-hidden"));e&&(a.onclick=function(){d.checkDetailPanelJsonHasId(d,function(a){b&&b.hasOwnProperty("updateFunction")?b.updateFunction(d,a):d.updateProcess(a)})})};
this.updateProcess=function(a){var c=this;b&&b.hasOwnProperty("updateFunction")?b.updateFunction(c,a):b&&b.hasOwnProperty("checkEmpty")&&b.checkEmpty?shinobi.mapping.getValueElement(c.detailPanelElem,function(b){Object.values(b).includes("")?shinobi.util.fillInputMessage():c.sendUpdateRequest(a)},{checkEmpty:!0}):c.sendUpdateRequest(a)};this.sendUpdateRequest=function(a){var b=this;shinobi.notification.notification.loading();shinobi.api.request(b.apiurl+"/merge",JSON.stringify(a),function(a){shinobi.notification.notification.info(a);
b.loadTable()})};this.checkDetailPanelJsonHasId=function(a,b){shinobi.mapping.getValue("#"+a.detailPanelId,function(a){a.hasOwnProperty("id")&&""!=a.id.trim()?shinobi.notification.confirm(function(){"function"==typeof b&&b(a)}):shinobi.notification.notification.error("Ch\u01b0a ch\u1ecdn record n\u00e0o trong danh s\u00e1ch \u0111\u1ec3 thao t\u00e1c")})};this.registerRefreshButton=function(){document.getElementById(this.buttonGroupId).getElementsByClassName("refreshButton")[0].addEventListener("click",
function(){location.reload()})};this.loadAll=function(){this.loadTable();this.registerCreateButton();this.registerRefreshButton();this.registerDeleteButton();this.registerUpdateButton()}}}();
shinobi.initbulma={quickviews:[],calendars:"",tagsInput:"",iconpicker:"",bulmaSlider:"",build:function(){shinobi.initbulma.addEventNavbarBurger();shinobi.initbulma.addEventModal();shinobi.initbulma.addEventTabs();shinobi.initbulma.addEventDropdown();shinobi.initbulma.activeNavbarHeader();"function"==typeof bulmaSlider&&(shinobi.initbulma.bulmaSlider=bulmaSlider.attach());"function"==typeof bulmaTagsinput&&(shinobi.initbulma.tagsInput=bulmaTagsinput.attach());"function"==typeof bulmaIconpicker&&(shinobi.initbulma.iconpicker=
bulmaIconpicker.attach());"function"==typeof bulmaCalendar&&(shinobi.initbulma.calendars=bulmaCalendar.attach('[type="date"]:not(.is-init-bulma-false)',{dateFormat:"DD/MM/YYYY",displayMode:"dialog",closeOnOverlayClick:!1}))},addEventDropdown:function(){for(var a=document.querySelectorAll(".dropdown:not(.is-hoverable)"),b=0;b<a.length;b++)shinobi.initbulma.addEventDropdownElem(a[b])},addEventDropdownElem:function(a){var b=a.getElementsByClassName("dropdown-trigger")[0].getElementsByClassName("button")[0];
b&&(b.onclick=function(){a.classList.toggle("is-active")})},activeNavbarHeader:function(){for(var a=document.querySelectorAll(".navbar.is-init"),b=0;b<a.length;b++)shinobi.initbulma.activeNavbar(a[b])},activeNavbar:function(a){for(var b=a.querySelectorAll(".navbar-item[href],.navbar-link[href]"),c=shinobi.initbulma.getPathNameAppendSearch(),d=0;d<b.length;d++){var e=b[d],f=e.getAttribute("href");c.includes(f)&&(e.classList.add("is-active"),shinobi.initbulma.activeParentNavbarItem(e.parentNode))}a=
a.querySelectorAll(".navbar-item[ref-list],.navbar-link[ref-list]");for(b=0;b<a.length;b++){var g=a[b];g.getAttribute("ref-list").split(",").forEach(function(a){a==c&&(g.classList.add("is-active"),shinobi.initbulma.activeParentNavbarItem(g.parentNode))})}},getPathNameAppendSearch:function(){return window.location.pathname+window.location.search},activeParentNavbarItem:function(a){if(a.hasAttribute("class")){var b=a.getAttribute("class");["navbar-start","nabvar-end","navbar-menu","navbar-brand","navbar"].forEach(function(a){b.includes(a)});
b.includes("navbar-item")&&b.includes("has-dropdown")?(a=a.getElementsByClassName("navbar-link")[0])&&a.classList.add("is-active"):shinobi.initbulma.activeParentNavbarItem(a.parentNode)}},activeTab:function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b?a[c].classList.add("is-active"):a[c].classList.remove("is-active"),a[c].hasAttribute("tab-container-id")){var d=document.getElementById(a[c].getAttribute("tab-container-id"));d&&(a[c]==b?d.classList.remove("is-hidden"):d.classList.add("is-hidden"))}},
addEventTabs:function(){for(var a=document.querySelectorAll(".tabs.is-init"),b=0;b<a.length;b++)shinobi.initbulma.addEvenOneTab(a,b)},addEvenOneTab:function(a,b){a=a[b];var c=a.getElementsByTagName("li");a=a.getAttribute("class");for(b=0;b<c.length;b++)if(a.includes("is-not-active-click")||(c[b].onclick=function(){shinobi.initbulma.activeTab(c,this)}),a.includes("is-active-pathname")){var d=shinobi.initbulma.getPathNameAppendSearch(),e=c[b].querySelector("a[href]");e&&(e=e.getAttribute("href"),d.includes(e)&&
c[b].classList.add("is-active"))}},addEventModal:function(){document.querySelectorAll(".modal").forEach(function(a,b){shinobi.initbulma.modalEventListener(a)})},modalOpen:function(a){a.classList.add("is-active");document.documentElement.classList.add("is-clipped")},modalClose:function(a){a.classList.remove("is-active");document.documentElement.classList.remove("is-clipped")},modalEventListener:function(a){var b=a.querySelectorAll('.delete,[aria-label="close"]');0<b.length&&(b=b[0])&&(b.onclick=function(){shinobi.initbulma.modalClose(a)});
b=a.getElementsByClassName("cancel-modal-button");for(var c=0;c<b.length;c++)b[c].onclick=function(){shinobi.initbulma.modalClose(a)};b=a.getElementsByClassName("modal-background");for(c=0;c<b.length;c++)b[c].onclick=function(){shinobi.initbulma.modalClose(a)};window.addEventListener("keydown",function(b){"Escape"==b.key&&shinobi.initbulma.modalClose(a)},!0);if(b=a.getElementsByTagName("footer")[0]){b=b.getElementsByTagName("button");for(var d in b)b[d].onclick=function(){shinobi.initbulma.modalClose(a)}}if(a.hasAttribute("control-button-list"))for(d=
a.getAttribute("control-button-list").split("|"),b=0;b<d.length;b++){var e=document.getElementById(d[b]);e.onclick=function(){shinobi.initbulma.modalOpen(a);if(e.hasAttribute("snb-render")){var b=e.getAttribute("snb-key"),c=e.getAttribute("snb-render");eval(c)(e,b)}}}},addEventNavbarBurger:function(){var a=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);0<a.length&&a.forEach(function(a){a.addEventListener("click",function(){var b=document.getElementById(a.dataset.target);
a.classList.toggle("is-active");b.classList.toggle("is-active")})})}};
shinobi.language={currentPagelang:"",existLangAttribte:"snb-exist-lang",option:{},jsonArray:[],dataRender:{},hasChangeLanguage:!0,warningList:[],build:function(a){this.option=a;this.setupOption();shinobi.language.renderLangCodeSelect(function(){shinobi.language.renderPageLanguage()})},setupOption:function(){var a=this.option;a&&a.hasOwnProperty("autoReload")&&a.autoReload&&setInterval(function(){shinobi.language.renderPageLanguage()},2E3)},renderPageLanguage:function(){shinobi.language.hasChangeLanguage?
shinobi.language.getLangCodeList(function(){shinobi.language.hasChangeLanguage=!1;shinobi.language.buildDataRender(function(){shinobi.language.render()})}):shinobi.language.render()},buildDataRender:function(a){shinobi.language.dataRender={};shinobi.language.jsonArray.forEach(function(a){shinobi.language.dataRender[a.resourcename]=a.resourcevalue});"function"==typeof a&&a()},render:function(){for(var a=document.querySelectorAll("[snb-lang]"),b=0;b<a.length;b++)shinobi.language.renderElement(a[b])},
renderContainer:function(a){a=a.querySelectorAll("[snb-lang]");for(var b=0;b<a.length;b++)shinobi.language.renderElement(a[b])},renderElement:function(a){var b=window.localStorage.getItem("currentLangCode");if(!a.hasAttribute("language")||a.getAttribute("language")!=b){var c=shinobi.language.dataRender,d=Object.values(a.attributes).filter(function(a){return a.name.includes("snb-lang")});if(0<d.length){if(1==d.length)if(c.hasOwnProperty(d[0].value))a.innerHTML=c[d[0].value];else{var e=d[0].value;shinobi.language.warningElem(a,
e)}else d.forEach(function(b){var d=b.name;e=b.value;d.includes("snb-lang-")&&(b=d.replace("snb-lang-",""),c.hasOwnProperty(e)?(d=c[e],"innerhtml"==b?a.innerHTML=d:"value"==b?a.value=d:a.setAttribute(b,d)):shinobi.language.warningElem(a,e))});a.setAttribute("language",b)}}},warningElem:function(a,b){shinobi.language.warningList.includes(b)||(console.log("---"),console.log(a),console.log("resourcename: "+b+"    =    ????"),shinobi.language.warningList.push(b))},renderLangCodeSelect:function(a){var b=
window.localStorage.getItem("currentLangCode"),c=document.getElementById("selectLangcode");c?(b?c.value=b:window.localStorage.setItem("currentLangCode",c.value),c.onchange=function(){window.localStorage.setItem("currentLangCode",this.value);shinobi.hasOwnProperty("userstorage")&&shinobi.userstorage.updateStorage();shinobi.language.hasChangeLanguage=!0;shinobi.language.renderPageLanguage();if(shinobi.language.option.hasOwnProperty("onchangeLangCodeSelectCallback"))shinobi.language.option.onchangeLangCodeSelectCallback()}):
(console.log(" not declare language select"),window.localStorage.setItem("currentLangCode","VN"));"function"==typeof a&&a()},getLangCodeList:function(a){var b=window.localStorage.getItem("currentLangCode"),c={};c.langcode=b;shinobi.cacheapi.request(("object"==typeof shinobi.coreapi&&shinobi.coreapi.languageApi?shinobi.coreapi.languageApi:"/api/StaticPagePublicApi/")+"getListPageCode",JSON.stringify(c),function(b){shinobi.language.jsonArray=JSON.parse(b);a(b)})},free:'<span snb-lang="PAGECODE_FREE"></span>',
subscribed:'<span snb-lang="PAGECODE_SUBCRIBED"></span>',onlyFollower:'<span snb-lang="PAGECODE_ONLYFORFOLLOWERS"></span>'};
shinobi.mapping={render:function(a,b){b=JSON.parse(b);a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.mapping.renderElement(a[c],b)},renderElement:function(a,b){for(var c in b){var d=a.querySelectorAll("[snb-key="+c+"]");0==d.length&&a.hasAttribute("snb-key")&&a.getAttribute("snb-key")==c&&shinobi.mapping.renderSelector(a,b,c);for(var e=0;e<d.length;e++)shinobi.mapping.renderSelector(d[e],b,c)}},renderSelector:function(a,b,c){var d=a.nodeType;c=b[c];if(a.hasAttribute("snb-render"))d=
a.getAttribute("snb-render"),eval(d)(a,c,b);else if(a.hasAttribute("snb-format")&&"number"===a.getAttribute("snb-format")&&(c=Number(c).format(0,3,",",".")),3===d)a.innerHTML=c;else if(1===d)if(a.hasAttribute("snb-editor-index"))"object"==typeof shinobiEditors?shinobiEditors[a.getAttribute("snb-editor-index")].setData(c):"object"==typeof CKEDITOR&&a.hasAttribute("id")?CKEDITOR.instances.hasOwnProperty(a.id)?CKEDITOR.instances[a.id].setData(c):console.log("elem has id"+a.id+" has not been replace by CKEDITOR "):
console.log("CKEDITOR could not be declare");else{d=a.attributes;for(var e=!1,f=d.length-1;0<=f;f--){var g=d[f].name,h=d[f].value;if(0<=g.search("snb-key-"))switch(e=!0,g=g.substring(8),g){case "value":a.value=b[h];a.setAttribute(g,b[h]);break;case "innerhtml":a.innerHTML=b[h];break;default:a.setAttribute(g,b[h])}}if(!1===e)if(["INPUT","SELECT","TEXTAREA"].includes(a.tagName))switch(c=shinobi.util.decodeValue(c),a.tagName){case "OPTION":a.hasAttribute("snb-key-innerhtml")&&(a.innerHTML=c);break;case "INPUT":switch(a.type){case "checkbox":a.checked=
JSON.parse(c);break;case "radio":c&&a.hasAttribute("radio-value")&&(a.getAttribute("radio-value")==c?a.checked=!0:a.checked=!1);break;default:a.value=c}break;case "SELECT":a.value=c;break;default:a.value=c}else a.innerHTML=c}},applySnbFormat:function(a,b){},getValue:function(a,b,c){a=document.querySelector(a);shinobi.mapping.getValueElement(a,b,c)},getValueElement:function(a,b,c){var d=[],e={};a.querySelectorAll("[snb-key]").forEach(function(b){var f=b.getAttribute("snb-key");if(b.hasAttribute("snb-editor-index"))e[f]=
shinobi.mapping.getValueShinobiEditor(b,{container:a});else{var h={container:a,listRadioNameHasGetValue:d};c&&c.hasOwnProperty("getHtml")&&c.getHtml&&(h.getHtml=!0);c&&c.hasOwnProperty("getText")&&c.getText&&(h.getText=!0);e[f]=shinobi.mapping.getValueMappingNormalTag(b,h)}shinobi.mapping.handleOptionMapping(b,e,c)});"function"==typeof b&&b(e)},handleOptionMapping:function(a,b,c){if(c){var d=a.tagName,e=a.getAttribute("snb-key");if(c.hasOwnProperty("checkEmpty")){b=""==b[e]?!0:!1;if(!a.classList.contains("disable-checkempty"))switch(d){case "INPUT":case "TEXTAREA":b?
a.classList.add("is-danger"):a.classList.remove("is-danger");break;case "SELECT":b?a.parentElement.classList.add("is-danger"):a.parentElement.classList.remove("is-danger")}a.hasAttribute("snb-editor-index")&&(c=CKEDITOR.instances[a.getAttribute("id")].container.$,b?(c.classList.add("input"),c.classList.add("is-danger")):(c.classList.remove("input"),c.classList.remove("is-danger")));"INPUT"==d&&"file"==a.getAttribute("type")&&(c=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"file"}),
b?c.classList.add("is-danger"):c.classList.remove("is-danger"));"INPUT"==d&&a.hasAttribute("snb-date-filter")&&(b?a.parentElement.classList.add("has-border-danger"):a.parentElement.classList.remove("has-border-danger"))}}},getValueMappingNormalTag:function(a,b){var c,d=b.listRadioNameHasGetValue;switch(a.tagName){case "INPUT":switch(a.hasAttribute("type")?a.getAttribute("type"):"text"){case "radio":(c=a.getAttribute("name"))?(d.push(c),c=(c=document.querySelector('input[type="radio"][name="'+c+'"]:checked'))?
c.getAttribute("radio-value"):!1):c=a.checked;break;case "file":c=a.hasAttribute("image-url")?a.getAttribute("image-url"):a.value;break;case "tags":(d=shinobi.util.getTagInputMappingElem(a))&&(c=d.tags.toString());break;case "checkbox":c=a.checked;break;default:c=a.value.trim()}break;case "SELECT":case "TEXTAREA":c=a.value.trim();break;default:b&&b.hasOwnProperty("getHtml")&&b.getHtml&&(c=a.innerHTML.trim()),b&&b.hasOwnProperty("getText")&&b.getText&&(c=a.innerText.trim())}return c=shinobi.mapping.checkPreProcess(a,
{container:b.container,returnValue:c})},replaceFormWithLabel:function(a){shinobi.mapping.replaceFormWithLabelElement(document.querySelector(a))},replaceFormWithLabelElement:function(a){a=a.querySelectorAll("[snb-key]");for(var b=0;b<a.length;b++)shinobi.mapping.replaceFormWithLabelSnbKey(a[b])},replaceFormWithLabelSnbKey:function(a){var b=a.tagName,c=document.createElement("p"),d=a.value;c.setAttribute("class","is-italic");console.log(a);if(["INPUT","SELECT","TEXTAREA"].includes(b))switch(b){case "SELECT":c.innerHTML=
0<a.selectedIndex?a.options[a.selectedIndex].text:"";a.parentElement.parentElement.replaceChild(c,a.parentElement);break;default:c.innerHTML=d,a.parentElement.replaceChild(c,a)}},checkPreProcess:function(a,b){var c=b.returnValue,d=b.container;b=c;a.hasAttribute("snb-preprocess")&&(b=eval(a.getAttribute("snb-preprocess"))(c,{elem:a,container:d}));a.getAttribute("snb-datatype")&&(b=(a=JSON.parse(b))?a:b);return b},getValueShinobiEditor:function(a,b){var c="object"==typeof shinobiEditors?shinobiEditors[a.getAttribute("snb-editor-index")].getData():
"object"==typeof CKEDITOR&&a.hasAttribute("id")?CKEDITOR.instances.hasOwnProperty(a.id)?CKEDITOR.instances[a.id].getData():"":"";return c=shinobi.mapping.checkPreProcess(a,{container:b.container,returnValue:c})},clear:function(a,b,c){a=document.querySelector(a);shinobi.mapping.clearElement(a,b,c)},clearElement:function(a,b,c){a.querySelectorAll("[snb-key]").forEach(function(a){switch(a.tagName){case "INPUT":switch(a.type){case "checkbox":case "radio":a.checked=!1;break;case "file":a.hasAttribute("image-url")?
a.removeAttribute("image-url"):a.value="";var b=a.parentElement.querySelector(".file-name");b&&(b.innerHTML="");(b=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"field"}))&&(b=b.querySelector(".image-info"))&&b.remove();break;default:a.value=""}break;case "SELECT":case "TEXTAREA":a.value=""}b=a.attributes;for(var c=b.length-1;0<=c;c--){var d=b[c].name;if(0<=d.search("snb-key-"))switch(d=d.substring(8),d){case "value":a.value="";a.removeAttribute(d);break;case "innerhtml":a.innerHTML=
"";break;default:a.removeAttribute(d)}}});"function"==typeof b&&b()}};
shinobi.menu={moduleTable:"",tableId:"dataTable",previewPatern:"#previewContainer",build:function(){shinobi.menu.renderListModule();shinobi.menu.addEventAddSubMenu();shinobi.menu.addEventIconPicker()},addEventIconPicker:function(){shinobi.initbulma||bulmaIconpicker.attach();setTimeout(function(){document.getElementsByClassName("iconpicker-modal")[0].classList.add("is-medium")},2E3)},addEventAddSubMenu:function(){document.getElementById("createSubmenuButton").onclick=function(){var a=document.getElementById("previewContainer"),
b={};b.modulename=a.getAttribute("value");shinobi.menu.activeMenuItemInfomationModal(b,function(a){shinobi.menu.createAndInsertMenuItemChildNode(a)})}},renderListModule:function(){shinobi.menu.moduleTable=new shinobi.table(shinobi.menu.tableId);var a=shinobi.menu.moduleTable.getColnames(shinobi.menu.tableId),b=[];b[0]=shinobi.menu.viewMenuStructure;var c={};c.recordPerPage=shinobi.util.getRecordNumber(shinobi.menu.tableId);shinobi.menu.moduleTable.staticfilters[0]={colname:"id",operator:">",value:0};
shinobi.menu.moduleTable.sorts[0]={colname:"id",value:"desc"};shinobi.menu.moduleTable.initLoadApi("/authenapi/ModuleApi/findDataList",c,a,b)},viewMenuStructure:function(a,b,c){var d=a.innerHTML;a.innerHTML='<a class="button is-small is-icon is-info"><span class="icon"><i class="fal fa-search"></i></span></a>';a.onclick=function(){shinobi.util.removeClass("menuButtonGroup","is-hidden");shinobi.menu.createStructure(d)}},createStructure:function(a){shinobi.menu.getModuleMenuData(a,function(b){var c=
document.getElementById("previewContainer");c.innerHTML="";c.setAttribute("value",a);shinobi.menurender.build(shinobi.menu.previewPatern,b);shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);setTimeout(function(){shinobi.menurender.showAllMenu(shinobi.menu.previewPatern)},1E3);shinobi.menu.addEventInsertChildNode(shinobi.menu.previewPatern);shinobi.menu.addEventDeleteMenuItem(shinobi.menu.previewPatern);shinobi.menu.addEventUpdateMenuItem(shinobi.menu.previewPatern);shinobi.menu.addEventMoveUpMenuItem(shinobi.menu.previewPatern);
shinobi.menu.addEventMoveDownMenuItem(shinobi.menu.previewPatern)})},addEventMoveDownMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addMoveDownItemButton(a,b)},addMoveDownItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon tooltip");c.setAttribute("data-tooltip","Chuy\u1ec3n xu\u1ed1ng");c.innerHTML='<i class="fal fa-arrow-down"></i>';a=a[b];a.parentNode.nextElementSibling&&
(a.appendChild(c),c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);a.menucode=a.menuparent;shinobi.menu.callApiUpdateMenu("/authenapi/MenuApi/moveMenuDown",a)})},addEventMoveUpMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addMoveUpItemButton(a,b)},addMoveUpItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon tooltip");c.setAttribute("data-tooltip","Chuy\u1ec3n l\u00ean");
c.innerHTML='<i class="fal fa-arrow-up"></i>';a=a[b];a.parentNode.previousElementSibling&&(a.appendChild(c),c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);a.menucode=a.menuparent;shinobi.menu.callApiUpdateMenu("/authenapi/MenuApi/moveMenuUp",a)})},callApiUpdateMenu:function(a,b){shinobi.notification.notification.loading();shinobi.api.request(a,JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(b.modulename)},
1E3))})},addEventUpdateMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addUpdateItemButton(a,b)},addUpdateItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-info tooltip");c.setAttribute("data-tooltip","Ch\u1ec9nh s\u1eeda");c.innerHTML='<i class="fal fa-pen"></i>';var d=a[b];d.appendChild(c);c.onclick=function(){var a=shinobi.menu.getParentMenuData(this),b=d.getElementsByTagName("a")[0];
a.menudes=b.getAttribute("title");a.menucode=b.getAttribute("id");a.menuicon=b.getAttribute("icon-class");a.menuname=b.innerHTML;a.menuurl=b.getAttribute("href");shinobi.menu.activeMenuItemInfomationModal(a,function(b){b.menucode=a.menucode;shinobi.api.request("/authenapi/MenuApi/updateMenu",JSON.stringify(b),function(b){"update success"==b&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},1E3))})})}},
addEventDeleteMenuItem:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addDeleteItemButton(a,b)},addDeleteItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-danger tooltip");c.setAttribute("data-tooltip","X\u00f3a");c.innerHTML='<i class="fal fa-times"></i>';a[b].appendChild(c);c.onclick=function(){var a=shinobi.menu.getParentMenuData(this),b=document.getElementById("confirmRemoveMenuItemModal");
b.classList.add("is-active");document.getElementById("acceptRemoveMenuItemModal").onclick=function(){a.menucode=a.menuparent;delete a.menuparent;shinobi.api.request("/authenapi/MenuApi/deleteMenu",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.info("X\u00f3a th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},1E3))});b.classList.remove("is-active")}}},activeMenuItemInfomationModal:function(a,b){a.menudes||(a.menudes="");a.menuicon||
(a.menuicon=shinobi.menurender.defaultIcon);a.menuname||(a.menuname="");a.menuurl||(a.menuurl="");var c=document.getElementById("menuItemInfomationModal");a.menuparent||c.querySelectorAll("[snb-key=menuparent]")[0].removeAttribute("value");c.getElementsByClassName("iconpicker-preview")[0].innerHTML='<i snb-key="menuicon" snb-key-class="menuicon" class="iconpicker-icon-preview icon-menu"></i>';c.classList.add("is-active");shinobi.mapping.render("#menuItemInfomationModal",JSON.stringify(a));document.getElementById("acceptModalButton").onclick=
function(){var a=shinobi.menu.getModalInput();b(a);c.classList.remove("is-active")}},addEventInsertChildNode:function(a){a=document.querySelectorAll(a)[0].getElementsByClassName("shinobimenu-item");for(var b=0;b<a.length;b++)shinobi.menu.addInsertItemButton(a,b)},addInsertItemButton:function(a,b){var c=document.createElement("span");c.setAttribute("class","icon has-text-success tooltip");c.setAttribute("data-tooltip","Th\u00eam menu con");c.innerHTML='<i class="fal fa-plus"></i>';a=a[b];a.appendChild(c);
c.onclick=function(){var a=shinobi.menu.getParentMenuData(this);shinobi.menu.activeMenuItemInfomationModal(a,function(a){shinobi.menu.createAndInsertMenuItemChildNode(a)})};a.onclick=function(){}},createAndInsertMenuItemChildNode:function(a){shinobi.notification.notification.loading();shinobi.api.request("/authenapi/MenuApi/createMenu",JSON.stringify(a),function(b){"update success"==b&&(shinobi.notification.notification.info("T\u1ea1o m\u1edbi th\u00e0nh c\u00f4ng"),setTimeout(function(){shinobi.menu.createStructure(a.modulename)},
1E3))})},getParentMenuData:function(a){a=a.parentNode.getElementsByTagName("a")[0];var b=document.getElementById("previewContainer"),c={};c.menuparent=a.getAttribute("id");c.modulename=b.getAttribute("value");return c},getModalInput:function(){for(var a=document.getElementById("menuItemInfomationModal").querySelectorAll("[snb-key]"),b={},c=0;c<a.length;c++){var d=a[c].getAttribute("snb-key"),e=a[c].value;""!=e&&(b[d]=e)}a=document.getElementsByClassName("iconpicker-preview")[0].getElementsByTagName("i")[0].getAttribute("class");
b.menuicon=a;return b},getModuleMenuData:function(a,b){var c={};c.modulename=a;console.log(window.localStorage.getItem("currentModule"));console.log(a);shinobi.notification.notification.loading();shinobi.api.request("/authenapi/MenuApi/getListMenu",JSON.stringify(c),function(a){a=JSON.parse(a);shinobi.notification.notification.loaded();b(a)})}};
shinobi.menumodule={currentModule:"",patern:"",container:"",build:function(a,b){shinobi.menumodule.patern=a;a=document.querySelectorAll(a)[0];shinobi.menumodule.container=a;shinobi.menumodule.render(b)},activeCurrentTab:function(a,b){a=a.querySelectorAll("[href]");for(var c=0;c<a.length;c++){var d=window.location.pathname,e=a[c].getAttribute("href");b&&b.hasOwnProperty("includesSearch")&&b.includesSearch&&(d+=window.location.search);b&&b.hasOwnProperty("notCareSearch")&&b.notCareSearch&&(d=window.location.pathname,
e=e.indexOf("?")?e.slice(0,e.indexOf("?")):e);e==d&&(a[c].parentNode.classList.add("is-active"),shinobi.menumodule.openParentNode(a[c].parentNode.parentNode))}},renderMenuModuleSelectHeader:function(a){var b=window.localStorage.getItem("currentModule");b&&""!=b?shinobi.menumodule.buildHeaderSelectMenuModule(a):shinobi.menumodule.setDefaultModule(function(){shinobi.menumodule.buildHeaderSelectMenuModule(a)})},buildHeaderSelectMenuModule:function(a){var b=document.querySelector(a);b.setAttribute("class",
"navbar-item has-dropdown is-hoverable");a=document.createElement("a");a.setAttribute("class","navbar-link");a.innerHTML='<span class="icon"><i class="fal fa-cog"></i></span> <span>'+window.localStorage.getItem("currentModule")+"</span>";b.appendChild(a);shinobi.menumodule.getListModule(function(a){a=JSON.parse(a);var c=document.createElement("div");c.setAttribute("class","navbar-dropdown is-right");b.appendChild(c);for(var e=0;e<a.length;e++)shinobi.menumodule.buildHeaderMenuModuleItem(c,a,e)})},
buildHeaderMenuModuleItem:function(a,b,c){var d=document.createElement("a");d.setAttribute("class","navbar-item");d.innerHTML=b[c];a.appendChild(d);d.onclick=function(){var a=this.innerHTML;window.localStorage.setItem("currentModule",a);shinobi.menumodule.getListMenuModule(a,function(a){0<a.length?window.location.href=a[0].menuurl:location.reload()})}},setDefaultModule:function(a){shinobi.menumodule.getListModule(function(b){b=JSON.parse(b);b[0]&&(window.localStorage.setItem("currentModule",b[0]),
"function"==typeof a&&a())})},getListModule:function(a){shinobi.cacheapi.request("/authenapi/ModuleApi/getUserModules",JSON.stringify({}),function(b){a(b)})},openParentNode:function(a,b){setTimeout(function(){var c=a.getElementsByTagName("a")[0].parentNode;b&&b.hasOwnProperty("scrollTop")&&(b.scrollTop=c.offsetTop)},1E3);var c=a.parentNode;c.getAttribute("class")&&c.getAttribute("class").includes("ul-submenu")&&(c.previousElementSibling.click(),shinobi.menumodule.openParentNode(c.parentNode,b))},
render:function(a){if(window.localStorage.getItem("currentModule")){var b=window.localStorage.getItem("currentModule");shinobi.menumodule.getListMenuModule(b,function(b){shinobi.menurender.build(shinobi.menumodule.patern,b);shinobi.menumodule.activeCurrentTab(shinobi.menumodule.container);a&&a.hasOwnProperty("callback")&&a.callback()})}else setTimeout(function(){shinobi.menumodule.render(a)},200)},getListMenuModule:function(a,b){var c={};c.modulename=a;shinobi.cacheapi.request("/authenapi/MenuApi/getListMenu",
JSON.stringify(c),function(a){a=JSON.parse(a);b(a)})}};
shinobi.menurender={patern:"",data:"",container:"",dangerStyle:"color: rgb(241, 70, 104) !important;",defaultIcon:"iconpicker-icon-preview icon-menu",build:function(a,b,c){shinobi.menurender.patern=a;shinobi.menurender.data=b;a=document.querySelectorAll(a)[0];shinobi.menurender.container=a;shinobi.menurender.render(a,b);"function"==typeof c&&c()},showAllMenu:function(a){a=document.querySelectorAll(a)[0];for(var b=a.getElementsByClassName("shinobi-arrow"),c=0;c<b.length;c++){b[c].classList.add("arrow-down");
for(var d=a.getElementsByClassName("is-hidden"),e=0;e<d.length;e++)d[e].classList.remove("is-hidden")}},render:function(a,b){if(a){a.classList.add("shinobimenu");var c=document.createElement("ul");a.appendChild(c);shinobi.menurender.addEventToggleSubMenu(c);b.sort(function(a,b){return a.menucode.includes("_")&&b.menucode.includes("_")?Number(a.menucode.split("_")[1])-b.menucode.split("_")[1]:1});for(a=0;a<b.length;a++)shinobi.menurender.buildBlockMenu(c,b,a)}},addEventToggleSubMenu:function(a){if(a.previousElementSibling){var b=
a.previousElementSibling;b.getAttribute("class").includes("has-submenu")&&(a.classList.add("is-hidden"),a.classList.toggle("ul-submenu"),b.onclick=function(){a.classList.toggle("is-hidden");b.getElementsByClassName("shinobi-arrow")[0].classList.toggle("arrow-down")})}},buildBlockMenu:function(a,b,c){b=b[c];c=document.createElement("li");a.appendChild(c);a=document.createElement("div");a.setAttribute("class","shinobimenu-item");c.appendChild(a);var d=document.createElement("span");a.appendChild(d);
var e=document.createElement("i");e.setAttribute("class",shinobi.menurender.defaultIcon);d.appendChild(e);b.menuicon&&e.setAttribute("class",b.menuicon);d=document.createElement("a");d.innerHTML=b.menuname;a.appendChild(d);b.menucode&&(d.id=b.menucode);b.menuurl&&(d.href=shinobi.util.decodeValue(b.menuurl));b.menudes&&(d.title=b.menudes);b.menuicon?d.setAttribute("icon-class",b.menuicon):d.setAttribute("icon-class",shinobi.menurender.defaultIcon);b.menuchildren&&0!=b.menuchildren.length&&(a.classList.add("has-submenu"),
shinobi.menurender.createArrowSpan(a),shinobi.menurender.render(c,b.menuchildren));b.hasOwnProperty("menudes")&&(b.menudes.toLowerCase().includes("(nguy hi\u1ec3m)")||b.menudes.toLowerCase().includes("(danger)"))&&(e.setAttribute("style",shinobi.menurender.dangerStyle),d.setAttribute("style",shinobi.menurender.dangerStyle))},createArrowSpan:function(a){var b=document.createElement("span");b.setAttribute("class","is-right-align shinobi-arrow");a.appendChild(b)}};
shinobi.multivalueinput=function(){var a=function(a,c){this.inputSearch=this.input=this.multivalueinput="";this.selector=a;this.idSearchInputTag="selectorInputSearch";this.result=[];this.updateInputValue=function(){this.input.value=this.result};this.renderItem=function(a){try{return a=JSON.parse(a)}catch(e){return a}};this.getResultValue=this.setListResult=this.getListResult="";this.options=c;this.buildSearch=function(a){shinobi.util.addEventEnter(a.inputSearch,function(){var b=a.onSubmit(a.inputSearch.value.trim());
a.appendChildItem(b,a);a.inputSearch.value=""})};this.onSubmit=function(a,b){return a};this.appendChildItem=function(a,b){a&&(a=JSON.stringify(a),-1==b.result.indexOf(a)&&(b.result.push(a),b.updateInputValue(),b.insertBeforeSearch(a,b)))};this.insertBeforeSearch=function(a,b){var c=document.createElement("div");c.classList.add("tag","is-3","is-medium");c.innerHTML=b.renderItem(a);var d=document.createElement("button");d.classList.add("is-small","is-danger","delete","has-background-danger","has-text-white");
d.addEventListener("click",function(){c.remove();var d=b.result.indexOf(a);-1<d&&b.result.splice(d,1);b.updateInputValue()});c.appendChild(d);d=document.querySelector("#tagstaginput");var e=document.getElementById("tagsearch");d.insertBefore(c,e)};this.loadOptions=function(){c.hasOwnProperty("buildSearch")&&(this.buildSearch=c.buildSearch);c.hasOwnProperty("onSubmit")&&(this.onSubmit=c.onSubmit);c.hasOwnProperty("renderItem")&&(this.renderItem=c.renderItem);c.hasOwnProperty("getListResult")&&(this.getListResult=
c.getListResult);c.hasOwnProperty("setListResult")&&(this.setListResult=c.setListResult)};this.createStructure=function(a){var b=document.getElementById("tagstaginput");if(b)for(;b.firstChild.classList.contains("tag");)b.firstChild.remove();this.input=document.querySelector(this.selector);this.input.classList.add("is-hidden");b=document.createElement("div");b.style.padding="1rem";b.style.border="1px solid #ddd";b.style.borderRadius="10px";b.classList.add("box");var c=document.createElement("div");
c.setAttribute("class","tags is-multiline");c.setAttribute("id","tagstaginput");var d=document.createElement("div");d.setAttribute("class","is-5");d.setAttribute("id","tagsearch");var h=document.createElement("input");h.setAttribute("class","input is-bordered");h.setAttribute("id",this.idSearchInputTag);d.appendChild(h);c.appendChild(d);b.appendChild(c);this.inputSearch=h;this.input.parentElement.replaceChild(b,this.input);b.insertBefore(this.input,b.firstElementChild);b.appendChild(this.input);a()};
this.createObject=function(){var a=this;a.buildSearch(a);"function"===typeof a.setListResult&&a.setListResult(a.input).forEach(function(b){a.appendChildItem(b,a)});"function"===typeof a.getListResult&&getListResult(a.result)};this.loadAll=function(){var a=this;this.loadOptions();this.createStructure(function(){a.createObject()})};this.loadAll()};a.staticmethod={hello:function(){}};return a}();
shinobi.notification={config:{modalSize:"is-small"},modal:{modalId:"confirmPanel",isInitLoad:!1,isAccept:!1,confirm:function(a){document.getElementById(this.modalId).classList.add("is-active");this.isInitLoad||this.registerButton();this.isInitLoad=!0;this.isAccept=!1;this.doAccept=a},registerButton:function(){var a=document.getElementById(this.modalId);a.getElementsByClassName("delete")[0].addEventListener("click",function(){a.classList.remove("is-active")});a.getElementsByClassName("cancel")[0].addEventListener("click",
function(){a.classList.remove("is-active")});var b=this;a.getElementsByClassName("yes")[0].addEventListener("click",function(){a.classList.remove("is-active");b.isAccept=!0;b.doAccept()})},doAccep:function(){}},notification:{notificationId:"shinobinotification",isInitLoad:!1,isLoading:!0,show:function(a,b){var c=document.getElementById(this.notificationId),d=c.getElementsByClassName("notificationcontent")[0];d.innerHTML=b;shinobi.hasOwnProperty("language")&&shinobi.language.renderContainer(d);"info"===
a?(c.classList.add("info-message"),c.classList.remove("error-message"),c.classList.remove("loading-message"),setTimeout(function(){c.classList.remove("info-message")},3E3)):(c.classList.remove("info-message"),c.classList.add("error-message"),c.classList.remove("loading-message"));this.registerButton();this.isInitLoad=!0},info:function(a){this.show("info",a)},error:function(a){this.show("error",a)},loading:function(){var a=document.getElementById(this.notificationId);this.isInitLoad=!0;a.getElementsByClassName("delete")[0].classList.add("is-hidden");
a.classList.add("info-message");a.classList.add("loading-message");a.classList.remove("error-message");a=a.getElementsByClassName("notificationcontent")[0];a.innerHTML='<div class="columns is-vcentered"> <a class="button is-text  is-loading column is-1"></a> <div class="column" snb-lang="PAGECODE_LOADING">\u0110ang x\u1eed l\u00fd</div> </div>';shinobi.hasOwnProperty("language")&&shinobi.language.renderContainer(a)},loaded:function(){this.isInitLoad=!1;var a=document.getElementById(this.notificationId);
a.classList.remove("info-message");a.classList.remove("loading-message")},registerButton:function(){var a=document.getElementById(this.notificationId),b=a.getElementsByClassName("delete")[0];b.classList.remove("is-hidden");b.addEventListener("click",function(){a.classList.remove("info-message");a.classList.remove("error-message");b.classList.add("is-hidden")})}},confirm:function(a,b){shinobi.hasOwnProperty("notificationconfig")&&shinobi.notificationconfig.init();var c=document.getElementById("confirmPanel");
shinobi.util.modalEventListener(c);b?(b.title&&(c.getElementsByClassName("modal-card-title")[0].innerHTML=b.title),b.content&&(c.getElementsByClassName("modal-card-body")[0].innerHTML=b.content),b.yescontent&&(c.getElementsByClassName("yes")[0].innerHTML=b.yescontent),b.nocontent&&(c.getElementsByClassName("cancel")[0].innerHTML=b.nocontent),c.classList.remove("is-small"),c.classList.remove("is-medium"),c.classList.remove("is-large"),b.modalsize?c.classList.add(b.modalsize):c.classList.add(shinobi.notification.config.modalSize),
shinobi.notification.config.hasOwnProperty("modalFontSize")&&c.classList.add(shinobi.notification.config.modalFontSize),b.initfunction&&b.initfunction(c),b.ishiddenfooter?c.getElementsByClassName("modal-card-foot")[0].classList.add("is-hidden"):c.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden")):(c.getElementsByClassName("modal-card-title")[0].innerHTML="C\u1ea3nh b\u00e1o",c.getElementsByClassName("modal-card-body")[0].innerHTML="B\u1ea1n ch\u1eafc ch\u1eafn?",c.setAttribute("snb-lang",
"PAGECODE_ARE_YOU_SURE"),c.getElementsByClassName("yes")[0].innerHTML="X\u00e1c nh\u1eadn",c.getElementsByClassName("cancel")[0].innerHTML="H\u1ee7y",c.classList.remove("is-medium"),c.classList.remove("is-large"),c.classList.add("is-small"),c.classList.add(shinobi.notification.config.modalSize),shinobi.notification.config.hasOwnProperty("modalFontSize")&&c.classList.add(shinobi.notification.config.modalFontSize),c.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden"));c.classList.add("is-active");
var d=c.getElementsByClassName("yes")[0];d.focus();d.onclick=function(){"function"==typeof a&&(b?b.hasOwnProperty("notclosewhenacceft")&&b.notclosewhenacceft||c.classList.remove("is-active"):c.classList.remove("is-active"),a())}},image:function(a,b){var c=document.getElementById("imageModal");c?(c.querySelector(".modal-content").innerHTML='\n\t\t\t<p class="image">\n\t\t\t\t<img sizes="(min-width: 576px) 540px, 100vw" src="'+a+'"> \n\t\t\t</p>\n\t\t\t',shinobi.initbulma.modalOpen(c)):(c=shinobi.util.convertTextToElement(shinobi.notification.iamgeModalContent),
document.body.appendChild(c),shinobi.initbulma.modalEventListener(c),shinobi.notification.image(a,b))},iamgeModalContent:'<div id="imageModal" class="modal">\n\t\t\t\t\t<div class="modal-background"></div>\n\t\t\t\t\t<div class="modal-content">\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class="modal-close is-large" aria-label="close"></button>\n\t\t\t\t</div>'};
shinobi.render={renderDownloadButtonTable:function(a,b,c,d){a.innerHTML='<a class="button is-small is-link" href="'+d[b].fileurl+'" download><span class="icon"><i class="fa fa-file"></i></span><span>T\u1ea3i file</span></a>'},renderFormatNumber:function(a,b,c){b=shinobi.util.formatNumber(b);["INPUT","SELECT","TEXTAREA"].includes(a.tagName)?a.value=b:(a.innerHTML=b,["TD","TH"].includes(a.tagName)&&a.classList.add("has-text-right"))},showParentNode:function(a,b,c){a.innerHTML=b;a.parentNode.classList.remove("is-hidden")},
hiddenParentNode:function(a,b,c){a.innerHTML=b;a.parentNode.classList.add("is-hidden")},renderChangeAvatarImageContainer:function(a,b,c){c.hasOwnProperty("avatarlink")?a.classList.remove("is-hidden"):a.classList.add("is-hidden")},renderImageFileInput:function(a,b,c){if(""!=b.trim()&&"null"!=b.trim()){a.setAttribute("image-url",b);c=b.split("/")[b.split("/").length-1];var d=shinobi.util.getParentElementHasAttribute(a,{type:"class",value:"file"});b=shinobi.util.getParentElementHasAttribute(a,{type:"class",
value:"field"});d.getElementsByClassName("file-name")[0].innerHTML=c;b.classList.add("is-grouped");(c=b.querySelector(".control.image-info"))&&c.remove();c=document.createElement("div");c.setAttribute("class","control image-info");d=document.createElement("a");d.setAttribute("class","button is-primary is-icon");d.innerHTML='<span class="icon"><i class="fal fa-image"></i></span>';c.appendChild(d);b.appendChild(c);d.onclick=function(){shinobi.notification.image(a.getAttribute("image-url"))}}},renderRatioTable:function(a,
b,c,d){shinobi.render.renderRatio(a,a.innerHTML,d[b])},renderRatio:function(a,b,c){a.innerHTML=b+"%"},renderPercent:function(a,b,c){a.value=100*Number(b)+"%"},getRatio:function(a,b){return a.replace("%","")},renderFullNameTable:function(a,b,c,d){shinobi.render.renderFullName(a,a.innerHTML,d[b])},renderFullName:function(a,b,c){a.innerHTML=c.lastname+" "+c.firstname},enumMapping:{SETTLE:"Ho\u00e0n t\u1ea5t",INPROCESS:"\u0110ang x\u1eed l\u00fd",WAITING_FOR_CHEQUE:"\u0110\u1ee3i thanh to\u00e1n",EXPIRED:"\u0110\u00e3 h\u1ebft h\u1ea1n",
DELETED:"\u0110\u00e3 x\u00f3a",ACCEPTED:"Ch\u1ea5p nh\u1eadn",REJECTED:"T\u1eeb ch\u1ed1i",WAITING_FOR_TRANFER:"\u0110ang x\u1eed l\u00fd",CANCEL:"\u0110\u00e3 h\u1ee7y",WAITING_FOR_AUDIT:"Ch\u1edd x\u1eed l\u00fd",DEPOSIT:"N\u1ea1p ti\u1ec1n",DEPOSIT_DEAL:"\u0110\u01a1n n\u1ea1p ti\u1ec1n",WITHDRAWAL:"R\u00fat ti\u1ec1n",TRADING_DEAL:"Mua h\u00e0ng",WINNING_LOTTERY:"Th\u1eafng c\u01b0\u1ee3c",WITHDRAW:"R\u00fat ti\u1ec1n",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",
ACCEPTED_BY_ADMIN:"Admin \u0111\u1ed3ng \u00fd",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n sang \u0111ang x\u1eed l\u00fd",REJECTED_BY_ADMIN:"Admin t\u1eeb ch\u1ed1i",MARK_AS_TRANFER_BY_ADMIN:"Admin chuy\u1ec3n sang ch\u1edd chuy\u1ec3n",WAITING_FOR_EMAIL_VERIFY:"\u0110\u1ee3i x\u00e1c nh\u1eadn email"},enumMappingResultStatus:{NOT_YET:"Ch\u01b0a \u0111\u1ebfn l\u01b0\u1ee3t",ON_WAITING:"Ch\u1edd x\u1ed5",COMPLETE:"\u0110\u00e3 x\u1ed5 xong",IN_PROCESS:"\u0110ang x\u1ed5"},enumMappingWithdrawalRequestActionType:{ADD_BY_ADMIN:"Admin n\u1ea1p ti\u1ec1n",
ACCEPTED_BY_ADMIN:"\u0110ang x\u1eed l\u00fd",REJECTED_BY_ADMIN:"T\u1eeb ch\u1ed1i",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",MARK_AS_TRANFER_BY_ADMIN:"Admin x\u00e1c nh\u1eadn ho\u00e0n t\u1ea5t",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n qua \u0111ang x\u1eed l\u00fd",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u"},enumMappingDepositRequestActionType:{ADD_BY_ADMIN:"Admin n\u1ea1p ti\u1ec1n",ACCEPTED_BY_ADMIN:"Admin ho\u00e0n t\u1ea5t",REJECTED_BY_ADMIN:"Admin t\u1eeb ch\u1ed1i",SEND_REQUEST:"G\u1eedi y\u00eau c\u1ea7u",
MARK_AS_TRANFER_BY_ADMIN:"Admin x\u00e1c nh\u1eadn \u0111\u00e3 chuy\u1ec3n",MARK_AS_INPROCESS_BY_ADMIN:"Admin chuy\u1ec3n qua \u0111ang x\u1eed l\u00fd",CANCEL_REQUEST:"H\u1ee7y y\u00eau c\u1ea7u"},renderEnumActionWithdrawalDepositTable:function(a,b,c,d){shinobi.render.renderEnumActionWithdrawalDeposit(a,a.innerHTML,d[b])},renderEnumActionWithdrawalDeposit:function(a,b,c){c="DEPOSIT"==c.actiontype||"DEPOSIT"==c.requesttype?shinobi.render.enumMappingDepositRequestActionType:shinobi.render.enumMappingWithdrawalRequestActionType;
b=c.hasOwnProperty(b)?c[b]:b;a.innerHTML=b},renderRandomColor:function(a,b,c){b="white black light dark primary link info success warning danger".split(" ");b=b[Math.floor(Math.random()*b.length)];c=a.hasAttribute("snb-color-attribute")?a.getAttribute("snb-color-attribute"):"has-background-";a.classList.add(c+b)},renderLotteryResultStatus:function(a,b,c){c=shinobi.render.enumMappingResultStatus.hasOwnProperty(b)?shinobi.render.enumMappingResultStatus[b]:b;a.innerHTML=c;"ON_WAITING"==b&&a.classList.add("has-text-primary")},
renderEnum:function(a,b,c){b=shinobi.render.enumMapping.hasOwnProperty(b)?shinobi.render.enumMapping[b]:b;a.innerHTML=b},renderEnumTable:function(a,b,c,d){shinobi.render.renderEnum(a,a.innerHTML)},removeFormatNumber:function(a,b){b=shinobi.util.getFormatCharacters().numberFormatCharacter;return a.replace(new RegExp("\\"+b,"g"),"")},getBulmaCalendarValue:function(a,b){var c={};return""!=a&&(b.elem.parentNode.classList.remove("has-border-danger"),b.elem.hasAttribute("data-is-range")&&"true"==b.elem.getAttribute("data-is-range"))?
(a=a.split("-"),c.beginDate=a[0]?a[0].trim():"",c.endDate=a[1]?a[1].trim():"",c):a},getBulmaCalendarValueFormat:function(a,b){b=a;""!=a&&(b=shinobi.util.reverseFormatDate(a,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"}));return b},getFilterSelect:function(a,b){b=a.querySelector("select");console.log(b.value);return{colname:a.getAttribute("snb-colname"),operator:""==b.value?"like":"=",value:b.value}},buildFilterSelect:function(a,b){var c=JSON.parse(a.getAttribute("snb-filter-list-option"));if(a.querySelector(".table-filter"))a.querySelector(".table-filter").remove(),
b.tableObject.reloadApi(1);else{var d=document.createElement("div");d.setAttribute("class","field table-filter has-addons");d.innerHTML='\n        <div class="select is-small">\n            <select></select>\n        </div>\n        ';var e=d.querySelector("select");e.onchange=function(){b.tableObject.reloadApi(1)};c.forEach(function(a){var b=document.createElement("option");b.setAttribute("value",a.value);b.innerHTML=a.name;e.appendChild(b)});a.appendChild(d);e.value=""}},renderFormatNumberTable:function(a,
b,c,d){shinobi.render.renderFormatNumber(a,a.innerHTML,d)},renderUserBalance:function(a,b,c){shinobi.render.addLoading(a);shinobi.cacheapi.request(shinobi.coreapi.bankAccountApi+"getAccountBalance","{}",function(b){b=JSON.parse(b);a.innerHTML=b.hasOwnProperty("currentcash")?shinobi.util.formatNumber(b.currentcash):"\u0110ang x\u1eed l\u00fd"})},getFileName:function(a,b,c){b=b.split("/");a.innerHTML=b[b.length-1]},renderDownloadFile:function(a,b,c){a.setAttribute("href",b);setTimeout(function(){a.focus()},
200);a.onclick=function(){var b=a.getAttribute("modal-parent");document.getElementById(b).classList.remove("is-active")}},addLoading:function(a,b,c){a.innerHTML='<a class="button is-small is-borderless is-paddingless is-icon is-transparent  is-loading"></a>'},renderTagInputValue:function(a,b,c){"object"==typeof shinobi.initbulma.tagsInput&&shinobi.initbulma.tagsInput.forEach(function(c){if(c.element==a){c.reset();c.input.setAttribute("style","");c.element.value="";for(var d=c.container.querySelectorAll("[data-tag]"),
f=0;f<d.length;f++)d[f].remove();b.split(",").forEach(function(a){""!=a.trim()&&c.addTag(a.trim())});c.element.value=b}})},renderFormatDate:function(a,b,c){c=a.hasAttribute("snb-date-format")?a.getAttribute("snb-date-format"):"dd-MM-yyyy";a.innerHTML=shinobi.util.getFormatDate(b,{format:c})},renderFormatNumberFloat:function(a,b,c){b=Number.parseFloat(b);shinobi.render.renderFormatNumber(a,b,c)},renderFormatNumberInt:function(a,b,c){b=Number.parseInt(b);shinobi.render.renderFormatNumber(a,b,c)},renderTotalPrice:function(a,
b,c){a.innerHTML=shinobi.util.formatNumber(c.quantity*c.price)},renderChangeColor:function(a,b,c){if(0<Number(b)||b.trim().toString().startsWith("+"))a.style.color="rgb(0, 255, 0)";if(0>Number(b)||b.trim().toString().startsWith("-"))a.style.color="rgb(255, 0, 0)"},renderChangePercentColor:function(a,b,c){c=Number(b.replace("%",""));if(0<c||b.trim().toString().startsWith("+"))a.style.color="rgb(0, 255, 0)";if(0>c||b.trim().toString().startsWith("-"))a.style.color="rgb(255, 0, 0)"},renderChangeAvatarButton:function(a,
b,c){shinobi.fileupload.registerElement(a,"change","uploadavatar",function(){return 0},function(a){if("success"==a.result){var b={};a=a.content.url+"?"+(new Date).getTime();b.avatarlink=a;shinobi.api.request(shinobi.coreapi.loggedUserApi+"updateAvatarLink",JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng!"),setTimeout(function(){location.reload()},1E3))})}else shinobi.notification.notification.error("X\u1ea3y ra l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i!")})},
renderGenderTable:function(a,b,c,d){shinobi.render.renderGender(a,a.innerHTML,d[b])},renderGender:function(a,b,c){switch(b){case "MR":b="Nam";break;case "MS":b="N\u1eef"}a.innerHTML=b},filterGender:function(a,b){switch(a){case "Nam":a="MR";break;case "N\u1eef":a="MS"}return a},renderPhoneNumberWithPhoneReligion:function(a,b,c){a.value=b;a.hasAttribute("render-target")&&c.hasOwnProperty("country")&&(a=a.getAttribute("render-target"),eval(a).setCountry(c.country))},getNumberCleaveInput:function(a,b){return shinobi.util.getValueNumberCleaveFormat(b.elem)},
renderTextCenterTable:function(a,b,c,d){shinobi.render.renderTextCenterDatalist(a,a.innerHTML,d[b])},renderTextCenterDatalist:function(a,b,c){a.classList.add("has-text-centered")},renderTextLeftTable:function(a,b,c,d){shinobi.render.renderTextLeftDatalist(a,a.innerHTML,d[b])},renderTextLeftDatalist:function(a,b,c){a.classList.add("has-text-left")},renderTextRightTable:function(a,b,c,d){shinobi.render.renderTextRightDatalist(a,a.innerHTML,d[b])},renderTextRightDatalist:function(a,b,c){a.classList.add("has-text-right")}};
shinobi.scroll={defaultOption:{scrolldelay:50,delayReScroll:4E3,delayStartScrollWhenReScroll:2E3,pauseOnHover:!0},init:function(a,b){a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.scroll.initElement(a,c,b)},initElement:function(a,b,c){a=a[b];c=c?c:JSON.parse(JSON.stringify(shinobi.scroll.defaultOption));shinobi.scroll.scrollProcess(a,c)},scrollProcess:function(a,b){var c=a.scrollTop+a.clientHeight,d=a.scrollHeight;shinobi.scroll.clear(a,b,function(b){shinobi.scroll.addEventHover(a,
b);c<d?b.scrollInterval=setTimeout(function(){a.scrollBy(0,1);shinobi.scroll.scrollProcess(a,b)},b.scrolldelay):b.reScrollInterval=setTimeout(function(){a.scrollTo(0,0);setTimeout(function(){shinobi.scroll.scrollProcess(a,b)},b.delayStartScrollWhenReScroll)},b.delayReScroll)})},addEventHover:function(a,b){b.hasOwnProperty("pauseOnHover")&&b.pauseOnHover&&(a.onmouseover=function(){shinobi.scroll.clear(a,b)},a.onmouseout=function(){shinobi.scroll.scrollProcess(a,b)})},clear:function(a,b,c){b.hasOwnProperty("scrollInterval")&&
clearTimeout(b.scrollInterval);b.hasOwnProperty("reScrollInterval")&&clearTimeout(b.reScrollInterval);"function"==typeof c&&c(b)}};
shinobi.seorender={gaid:"UA-138668527-1",json:[{pageurl:"/page/index",pagename:"Aladin | N\u1ec1n t\u1ea3ng k\u1ebft n\u1ed1i c\u1ed9ng \u0111\u1ed3ng nh\u00e0 \u0111\u1ea7u t\u01b0 ch\u1ee9ng kho\u00e1n chuy\u00ean nghi\u1ec7p",pagerender:""},{pageurl:"/page/traderlisting",pagename:"Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:"shinobi.seorender.listingPageRender"},{pageurl:"/page/investorlisting",pagename:"Nh\u00e0 \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.listingPageRender"},{pageurl:"/page/blogoverview",
pagename:"Blog \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.blogOverviewRender"},{pageurl:"/page/blogpost/",pagename:"B\u00e0i vi\u1ebft",pagerender:"shinobi.seorender.blogPostRender"},{pageurl:"/page/tradinginstruction",pagename:"H\u01b0\u1edbng d\u1eabn nh\u00e0 \u0111\u1ea7u t\u01b0"},{pageurl:"/page/account",pagename:"Trang c\u00e1 nh\u00e2n",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},{pageurl:"/page/traderaccount",pagename:"Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},
{pageurl:"/page/investoraccount",pagename:"Nh\u00e0 \u0111\u1ea7u t\u01b0",pagerender:"shinobi.seorender.renderPublicUserProfilePage"},{pageurl:"/page/traderguide",pagename:"H\u01b0\u1edbng d\u1eabn Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:""},{pageurl:"/page/question",pagename:"C\u00e1c c\u00e2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p",pagerender:""},{pageurl:"/page/aboutus",pagename:"V\u1ec1 Ch\u00fang t\u00f4i",pagerender:""},{pageurl:"/page/job",pagename:"Ngh\u1ec1 nghi\u1ec7p",pagerender:""},{pageurl:"/page/privacypolicy",
pagename:"Ch\u00ednh s\u00e1ch B\u1ea3o m\u1eadt",pagerender:""},{pageurl:"/page/denyrisk",pagename:"Kh\u01b0\u1edbc t\u1eeb r\u1ee7i ro",pagerender:""},{pageurl:"/page/investorserviceterms",pagename:"\u0110i\u1ec1u kho\u1ea3n N\u0110T",pagerender:""},{pageurl:"/page/traderserviceterms",pagename:"\u0110i\u1ec1u kho\u1ea3n NTV",pagerender:""},{pageurl:"/page/contact",pagename:"Li\u00ean h\u1ec7",pagerender:""},{pageurl:"/page/investwithaladin",pagename:"\u0110\u1ea7u t\u01b0 c\u00f9ng Aladin",pagerender:""},
{pageurl:"/page/traderintroduction",pagename:"H\u1ee3p t\u00e1c c\u00f9ng Nh\u00e0 t\u01b0 v\u1ea5n",pagerender:""},{pageurl:"/page/investorregistration",pagename:"\u0110\u0103ng k\u00ed",pagerender:""}],build:function(a){shinobi.seorender.renderPageSeo(a)},renderPublicUserProfilePage:function(a){a=window.location.pathname.split("/");var b={};b.pageurl=a[a.length-1];shinobi.api.request("/api/UserApi/getUsernameFromHomePage",JSON.stringify(b),function(a){shinobi.api.request("/api/UserApi/getAllUserInfo",
a,function(a){a=JSON.parse(a);document.head.innerHTML="<title>"+(a.firstname+" "+a.lastname)+"</title>"+document.head.innerHTML})})},blogPostRender:function(a){a={};var b=window.location.pathname.split("/");a.posturl=blogPostPageUrl+b[b.length-1];shinobi.api.request("/api/BlogOverviewApi/getPreViewContent",JSON.stringify(a),function(a){a=JSON.parse(a);document.title=a.posttitle;var b='  <meta property="og:url" content="'+window.location.href+'" />';b=b+' <meta property="og:type" content="website" /> <meta property="og:title" content="'+
a.posttitle+'" />';b=b+'<meta property="og:image" content="'+a.thumpnailurl+'" />';document.head.innerHTML=b+document.head.innerHTML})},blogOverviewRender:function(a){var b=window.location.pathname.split("/"),c=b[b.length-2];b=er.postFiterConvert(b[b.length-1])+" "+shinobi.aladinUtil.convertPostTypeToVn(c).toLowerCase();document.title=a.pagename+": "+b},listingPageRender:function(a){var b=window.location.pathname;a.pageurl==b?b=shinobi.investortraderlistingcontentheaderrender.defaultTimeFrame:(b=
b.split("/"),b=b[b.length-1]);a=a.pagename+": "+er.listingTimeFrame(b);document.title=a},defaultRender:function(a){document.title=a.pagename},addGA:function(){ga("create",shinobi.seorender.gaid,"auto");ga("send","pageview")},renderPageSeo:function(a){for(var b=shinobi.seorender.json,c=window.location.pathname,d=0;d<b.length;d++){var e=b[d];if(c.includes(e.pageurl)){e.pagerender&&""!=e.pagerender&&null!=e.pagerender?eval(e.pagerender)(e):shinobi.seorender.defaultRender(e);setTimeout(function(){a(!0)},
2E3);return}}a(!1)}};
shinobi.socket=function(){return function(a){this.url="";this.option=a;this.socket={};this.msgid="";this.onAjax=this.onClose=this.onError=this.onSendOverrideFunction=this.onMessageOverrideFunction=this.onMessage=this.onOpenOverrideFunction=this.onOpen=null;this.init=function(){this.setupOption();this.connect()};this.connect=function(){var a=this;this.socket=new WebSocket(a.url);this.socket.addEventListener("open",function(b){if("function"==typeof a.onOpenOverrideFunction)a.onOpenOverrideFunction(a);else if(this.send(JSON.stringify({type:"register",
command:"init",msgid:0,data:[]})),"function"==typeof a.onOpen)a.onOpen(a)});this.socket.addEventListener("message",function(b){if("function"==typeof a.onMessageOverrideFunction)a.onMessageOverrideFunction(b.data);else if(b=JSON.parse(b.data),"function"==typeof a.onMessage)a.onMessage(b)});this.socket.addEventListener("close",function(){console.log("connection closed");if("function"==typeof a.onClose)a.onClose(a);else setTimeout(a.connect(a.url),1E3)})};this.setupOption=function(){this.url=a.url;a.onOpen&&
(this.onOpen=a.onOpen);a.onClose&&(this.onClose=a.onClose);a.onMessage&&(this.onMessage=a.onMessage);a.onError&&(this.onError=a.onError);a.onAjax&&(this.onAjax=a.onAjax);a.onOpenOverrideFunction&&(this.onOpenOverrideFunction=a.onOpenOverrideFunction);a.onMessageOverrideFunction&&(this.onMessageOverrideFunction=a.onMessageOverrideFunction);a.onSendOverrideFunction&&(this.onSendOverrideFunction=a.onSendOverrideFunction)};this.send=function(a,c){var b=this,e=setInterval(function(){if(1==b.socket.readyState){if("function"==
typeof b.onSendOverrideFunction)b.onSendOverrideFunction(b,a);else b.socket.send(JSON.stringify({command:"request",msgid:b.msgid,data:a}));"function"==typeof c&&c();clearInterval(e)}},10)};this.init()}}();
shinobi.message={socket:"",url:"",chatInqueue:[],notificationInqueue:[],sessionid:"",readyToSend:!1,option:null,connect:function(a,b,c){this.url=a;this.option=c;shinobi.message.socket=new WebSocket(shinobi.message.url);this.socket.addEventListener("open",function(a){console.log("open connection");a={type:"register"};""==shinobi.message.sessionid?shinobi.message.connectSocketServer(b):(a.content=shinobi.message.sessionid,this.send(JSON.stringify(a)),console.log("send register message"),this.readyToSend=
!0,setTimeout(function(){"function"==typeof b&&b()},1E3))});this.socket.addEventListener("message",function(a){shinobi.message.inputMessageHandler(a)});this.socket.addEventListener("close",function(){console.log("connection closed");setTimeout(shinobi.message.connect(shinobi.message.url),1E3)})},connectSocketServer:function(a){shinobi.api.request("/authenapi/UserInfoApi/getSessionid",JSON.stringify({}),function(b){b=JSON.parse(b).sessionid;shinobi.message.sessionid=b;a&&(console.log("connect socket server success"),
a())})},inputMessageHandler:function(a){a=JSON.parse(a.data);shinobi.socketmanager.socketMessage.private.push(a)},sendMessage:function(a){this.socket.send(a)}};Number.prototype.format=function(a,b,c,d){b="\\d(?=(\\d{"+(b||3)+"})+"+(0<a?"\\D":"$")+")";a=this.toFixed(Math.max(0,~~a));return(d?a.replace(".",d):a).replace(new RegExp(b,"g"),"$&"+(c||","))};
shinobi.tableHelper={mappingRender:{renderFirstNameLastName:{functionName:"getfullname",param:"this"}},colnameAttribute:"snb-colname",renderAttribute:"snb-render",colcontrolAttribute:"snb-header-control",sortAttribute:"snb-sort",sortIcon:"<i class='fas fa-sort'></i>",sortDescIcon:"<i class='fas fa-sort-down'></i>",sortAscIcon:"<i class='fas fa-sort-up'></i>",getRender:function(a){a=document.getElementById(a).tHead.querySelectorAll("["+shinobi.tableHelper.colnameAttribute+"]");for(var b=[],c=0;c<a.length;c++){var d=
a[c];if(d.hasAttribute(shinobi.tableHelper.renderAttribute)){var e=d.getAttribute(shinobi.tableHelper.renderAttribute);b[d.cellIndex]=e}}return b},addAttributeColname:function(a){if(a.hasAttribute(shinobi.tableHelper.colcontrolAttribute)){if(!a.querySelector("[snb-sort]")){var b=document.createElement("span");b.setAttribute(shinobi.tableHelper.sortAttribute,"");b.innerHTML=shinobi.tableHelper.sortIcon;a.appendChild(b)}if(a.getAttribute(shinobi.tableHelper.colcontrolAttribute).includes("2")){b=document.createElement("span");
b.setAttribute("snb-filter","");var c=document.createElement("i");c.setAttribute("class","fal fa-sm fa-filter");b.appendChild(c);a.appendChild(b)}}},getColname:function(a){var b=[];a=document.getElementById(a).tHead.rows;for(var c=0;c<a.length;c++)for(var d=$jscomp.makeIterator(a[c].cells),e=d.next();!e.done;e=d.next()){var f=e.value,g=f.colSpan;f.hasAttribute(shinobi.tableHelper.colnameAttribute)?(e=f.getAttribute(shinobi.tableHelper.colnameAttribute),shinobi.tableHelper.addAttributeColname(f)):
e=null;if(0==c)for(f=0;f<g;f++)b.push(e);else for(f=0;f<g;f++)b[b.indexOf(null)+f]=e}return b},buildSort:function(a){var b=a.staticsorts;a.getSorts();a=a.sorts;for(var c=[],d=0;d<a.length;d++)c.push(a[d].colname);for(d=0;d<b.length;d++)c.includes(b[d].colname)||a.push(b[d]);return a},changeSortIconHeader:function(a){for(var b=0;b<a.allSorts.length;b++)for(var c=a.tableNode.tHead.querySelectorAll("["+shinobi.tableHelper.colnameAttribute+"="+a.allSorts[b].colname+"]>["+shinobi.tableHelper.sortAttribute+
"]"),d=0;d<c.length;d++)c[d].classList.add("is-visible"),c[d].setAttribute("snb-sort",a.allSorts[b].value),"asc"==a.allSorts[b].value&&(c[d].innerHTML=shinobi.tableHelper.sortAscIcon),"desc"==a.allSorts[b].value&&(c[d].innerHTML=shinobi.tableHelper.sortDescIcon)},getRenderExcelFunction:function(a){var b=a.getAttribute(shinobi.tableHelper.renderAttribute);b=shinobi.tableHelper.mappingRender[b.toString()];var c={};if(b){if(c.result=!0,"this"==b.param){var d={};d.rendername=b.functionName;d.inputlist=
[];d.inputlist.push(a.getAttribute(shinobi.tableHelper.colnameAttribute));c.content=d}}else c.result=!1;return c}};
shinobi.table=function(){var a=function(a){this.url="";this.colNames=[];this.filters=[];this.staticfilters=[];this.sorts=[];this.allSorts=[];this.staticsorts=[];this.paramsRequestList={};this.renders=[];this.tableRows=[];this.pageNum=1;this.rowTotal=this.pageTotal=this.recordPerPage=10;this.currentId=-1;this.lastRequest={};this.exportExcel=!1;this.options=null;this.tableNode=document.getElementById(a);this.tableContainerNode=this.tableNode.parentNode;this.pageNumNode=this.tableContainerNode.querySelector(".shinobi-pagination-curpage");
this.recordPerPageNode=this.tableContainerNode.querySelector(".shinobi-recordperpage");this.apiName="";this.getColnames=function(){for(var b=[],d=document.getElementById(a).tHead.rows,e=0;e<d.length;e++)for(var f=d[e].cells,g=0;g<f.length;g++){var h=f[g],k=h.colSpan;h=h.hasAttribute("snb-colname")?h.getAttribute("snb-colname"):null;if(0==e)for(var l=0;l<k;l++)b.push(h);else for(l=0;l<k;l++)b[b.indexOf(null)+l]=h}return b};this.registerSorts=function(){for(var a=this.tableNode.querySelectorAll("[snb-sort]"),
b=0;b<a.length;b++)this.registerSort(a[b])};this.registerSort=function(a){var b=this;a.addEventListener("click",function(){var a=this.getAttribute("snb-sort");this.parentNode.getAttribute("snb-colname");""===a?(this.setAttribute("snb-sort","asc"),this.innerHTML="<i class='fas fa-sort-up'></i>",this.classList.add("is-visible")):"asc"===a?(this.setAttribute("snb-sort","desc"),this.innerHTML="<i class='fas fa-sort-down'></i>",this.classList.add("is-visible")):(this.setAttribute("snb-sort",""),this.innerHTML=
"<i class='fas fa-sort'></i>",this.classList.remove("is-visible"));b.reloadApi(b.pageNum)})};this.getSorts=function(){this.sorts=[];for(var a=this.tableNode.querySelectorAll("[snb-sort]"),b=0;b<a.length;b++){var e=a[b],f=e.parentNode.getAttribute("snb-colname");e=e.getAttribute("snb-sort");if(""!==e){var g={};g.colname=f;g.value=e;this.sorts.push(g)}}};this.registerHeaders=function(){for(var b=document.getElementById(a).querySelectorAll("[snb-header-control]"),d=0;d<b.length;d++){var e=b[d];e.getAttribute("snb-header-control").includes("2")&&
this.registerHeader(e)}};this.registerHeader=function(a){var b=this;a.addEventListener("dblclick",function(){b.addEventFilterHeader(b,a)});var c=a.querySelector("[snb-filter]");c&&(c.onclick=function(){b.addEventFilterHeader(b,a)});a.addEventListener("keyup",function(a){13===a.keyCode&&((a=this.querySelector("input").value)&&""==a&&b.removeFilterControls(this),b.resetPageNum(),b.reloadApi(b.pageNum))})};this.addEventFilterHeader=function(a,b){if(b.hasAttribute("snb-filter-builder"))eval(b.getAttribute("snb-filter-builder"))(b,
{tableObject:a});else if(3==b.childNodes[0].nodeType)if(null!==b.querySelector("input"))a.removeFilterControls(b),a.resetPageNum(),a.reloadApi(a.pageNum);else{var c=document.createElement("select");a.addFilterToElement(c,b);a=document.createElement("input");a.setAttribute("class","input is-small");b.hasAttribute("snb-datatype")&&"date"==b.getAttribute("snb-datatype")?a.setAttribute("type","date"):a.setAttribute("type","text");a.setAttribute("value","");var d=document.createElement("div");d.setAttribute("class",
"select is-small");b.appendChild(document.createElement("br"));d.appendChild(c);c=document.createElement("div");c.setAttribute("class","field table-filter has-addons");var g=document.createElement("div");g.setAttribute("class","control");g.appendChild(d);d=document.createElement("div");d.setAttribute("class","control");d.appendChild(a);c.appendChild(g);c.appendChild(d);b.appendChild(c)}};this.createExportExcelButton=function(){var a=document.createElement("span");a.setAttribute("class","button is-small is-light has-text-success is-pulled-right\t");
a.innerHTML='<span class="icon"><i class="fa fa-file-excel"></i></span><span>Excel</span>';this.tableNode.tHead.lastElementChild.lastElementChild.appendChild(a);this.exportExcelButton=a};this.getMappingExcelColumn=function(){for(var a=this.listHeaderExportExcel,b={},e=0;e<a.length;e++){var f=a[e].getAttribute("snb-export-excel"),g=a[e].getAttribute("snb-colname");f&&""!=f.trim()?b[g]=f.trim():b[g]=a[e].innerText.trim()}return b};this.getMappingExcelRenderColumn=function(){for(var a=this.listHeaderExportExcel,
b={},e=0;e<a.length;e++)if(a[e].hasAttribute("snb-render")){var f=a[e].getAttribute("snb-colname");if(""!=a[e].getAttribute("snb-render").trim()&&""!=f.trim()){var g=shinobi.tableHelper.getRenderExcelFunction(a[e]);g.result&&(b[f]=g.content)}}return b};this.addEventExportExcel=function(){var a=this.exportExcelButton,b=this;0==this.listHeaderExportExcel.length&&a.classList.add("is-hidden");a.onclick=function(){shinobi.notification.notification.loading();var a={};a.filters=b.filters;a.sorts=b.allSorts;
a.mappingcolumns=b.getMappingExcelColumn();a.rendercolumns=b.getMappingExcelRenderColumn();var c=b.url.split("/")[2];shinobi.exportfile.request("/exportfile/excel/"+c,JSON.stringify(a),"xlsx",function(){shinobi.notification.notification.loaded()})}};this.registerExportExcel=function(){var b=document.getElementById(a).querySelectorAll("[snb-export-excel]");b&&this.exportExcel&&(this.listHeaderExportExcel=b,this.createExportExcelButton(),this.addEventExportExcel())};this.removeFilterControls=function(a){var b=
a.querySelector("br"),c=a.querySelector(".field.table-filter");a.removeChild(b);a.removeChild(c)};this.resetPageNum=function(){this.pageNum=1;this.pageNumNode.value=1};this.addFilterToElement=function(a,b){b=b.getAttribute("snb-datatype");a.classList.add("default-filter-select-operator");if(["number","date"].includes(b)){b=["=",">",">=","<","<="];var c=["equal",">",">=","<","<="]}else"boolean"===b?(b=["="],c=["equal"]):(b=["like","="],c=["like","equal"]);for(var d=0;d<b.length;d++){var g=document.createElement("option");
g.text=b[d];g.value=c[d];a.appendChild(g)}};this.registerRecordPerPage=function(){var a=this,b=this.recordPerPageNode.cloneNode(!0);this.recordPerPageNode.parentNode.replaceChild(b,this.recordPerPageNode);this.recordPerPageNode=b;this.recordPerPageNode.addEventListener("change",function(){a.resetPageNum();a.reloadApi(a.pageNum)})};this.registerPagination=function(){this.paginationContainer=this.tableNode.parentNode.querySelector(".table-pagination")};this.updatePagination=function(a){var b=JSON.parse(a);
this.rowTotal=b.rowTotal;this.pageNum=b.pageNum;this.recordPerPage=b.recordPerPage;this.pageTotal=b.pageTotal;shinobi.mapping.renderElement(this.paginationContainer,JSON.parse(a));JSON.parse(a).pageNum&&(b=this.paginationContainer.querySelectorAll(".shinobi-pagination-curpage")[0],0==JSON.parse(a).pageTotal?b.value=0:b.value=JSON.parse(a).pageNum)};this.registerPrevPagination=function(){var a=this.tableNode.parentNode,b=a.querySelector(".shinobi-pagination-prev"),e=b.cloneNode(!0);b.parentNode.replaceChild(e,
b);var f=this;e.addEventListener("click",function(){var b=a.querySelector(".shinobi-pagination-curpage"),c=b.value;1<c&&(--c,b.value=c,f.reloadApi(c))})};this.registerNextPagination=function(){var a=this.tableNode.parentNode,b=a.querySelector(".shinobi-pagination-next"),e=b.cloneNode(!0);b.parentNode.replaceChild(e,b);var f=this;e.addEventListener("click",function(){var b=a.querySelector(".shinobi-pagination-curpage"),c=Number(b.value);c<f.pageTotal&&(c+=1,b.value=c,f.reloadApi(c))})};this.registerCurrentPageEvent=
function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage"),b=a.cloneNode(!0);a.parentNode.replaceChild(b,a);var e=this;b.addEventListener("keyup",function(a){13===a.keyCode&&(a=Number(b.value),0<a&&a<=e.pageTotal&&e.reloadApi(a))})};this.registerHeaders();this.registerPagination();this.registerCurrentPageEvent();this.registerPrevPagination();this.registerNextPagination();this.registerRecordPerPage();this.registerSorts();this.registerExportExcel();this.viewDetailPanelId=
"";this.renderTable=function(b,d,e){var c=document.getElementById(a).getElementsByTagName("tbody")[0];this.tableRows=d;for(var g=0;g<d.length;g++){var h=d[g],k=c.insertRow();""!==this.viewDetailPanelId&&k.setAttribute("snb-detailid",this.viewDetailPanelId);for(var l in b){var m=k.insertCell(l),p=h[b[l]];"undefined"!=typeof p&&(m.innerHTML=p);m.setAttribute("rowid",g);if("undefined"!=typeof e[l]){if("function"==typeof e[l])e[l](m,g,l,this.tableRows);"string"==typeof e[l]&&eval(e[l])(m,g,l,this.tableRows,
{type:"table"})}}}if(null!=this.options&&this.options.hasOwnProperty("isFillBlankCell")&&1==this.options.isFillBlankCell)for(d=this.recordPerPage-this.tableRows.length,e=0;e<d;e++)for(l in g=c.insertRow(),b)g.insertCell(l).setAttribute("rowid",this.tableRows.length+e);this.options&&this.options.hasOwnProperty("loadDataCallback")&&this.options.loadDataCallback()};this.getCurrentPage=function(){var a=this.tableNode.parentNode.querySelector(".shinobi-pagination-curpage");return Number(a.value)};this.initLoadApi=
function(a,b,e,f,g){var c=this;this.options=g;this.getTableFilters();this.filters=this.filters.concat(this.staticfilters);this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.options&&c.options.hasOwnProperty("beforeCallApiCallback")&&c.options.beforeCallApiCallback(c);b.pageNum=1;b.filters=this.filters;b.sorts=this.allSorts;Object.entries(c.paramsRequestList).forEach(function(a){b[a[0]]=a[1]});shinobi.api.request(a,JSON.stringify(b),function(d){var h=JSON.parse(d);c.lastRequest.url=
a;c.lastRequest.request=b;c.lastRequest.response=d;h=h.data;c.url=a;c.colNames=e;c.renders=f;shinobi.tableHelper.changeSortIconHeader(c);c.clear();c.updatePagination(d);c.renderTable(e,h,f);g&&g.hasOwnProperty("callback")&&g.callback();c.updatePagination(d)})};this.reloadApi=function(a,b){b&&b.hasOwnProperty("loading")&&!b.loading||shinobi.notification.notification.loading();var c=this;this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;0==this.sorts.length&&(this.sorts[0]=
{colname:"id",value:"desc"});var d={};Object.entries(c.paramsRequestList).forEach(function(a){d[a[0]]=a[1]});d.recordPerPage=this.recordPerPage;d.pageNum=a?a:this.getCurrentPage();0==d.pageNum&&(d.pageNum=1);this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.options&&c.options.hasOwnProperty("beforeCallApiCallback")&&c.options.beforeCallApiCallback(c);d.filters=this.filters;d.sorts=this.allSorts;shinobi.api.request(this.url,JSON.stringify(d),function(a){c.lastRequest.url=c.url;c.lastRequest.request=
d;c.lastRequest.response=a;var e=JSON.parse(a),f=e.data;c.rowTotal=e.rowTotal;c.pageNum=e.pageNum;c.recordPerPage=e.recordPerPage;c.pageTotal=e.pageTotal;c.clear();c.updatePagination(a);c.renderTable(c.colNames,f,c.renders);b&&b.hasOwnProperty("loading")&&!b.loading||shinobi.notification.notification.loaded();b&&b.hasOwnProperty("callback")&&b.callback()})};this.callApi=function(a,b,e){this.getTableFilters();this.getSorts();this.recordPerPage=this.recordPerPageNode.value;0==this.sorts.length&&(this.sorts[0]=
{colname:"id",value:"desc"});var c={};Object.entries(this.paramsRequestList).forEach(function(a){c[a[0]]=a[1]});c.recordPerPage=this.recordPerPage;c.pageNum=b?b:this.getCurrentPage();0==c.pageNum&&(c.pageNum=1);c.filters=this.filters;this.allSorts=shinobi.tableHelper.buildSort(this);this.sorts=[];c.sorts=this.allSorts;shinobi.api.request(this.url,JSON.stringify(c),function(b){b=JSON.parse(b);a(b)})};this.clear=function(){for(var b=document.getElementById(a).getElementsByTagName("tbody")[0];b.firstChild;)b.removeChild(b.firstChild)};
this.updatePageTotal=function(){var a=this.tableNode.parentNode;a.querySelector(".shinobi-page-total").innerHTML=this.pageTotal;this.pageNum>this.pageTotal&&(this.pageNum=this.pageTotal,a.querySelector(".shinobi-pagination-curpage").value=this.pageNum)};this.getRowObject=function(a){return this.tableRows[a]};this.getTableFilters=function(){var b=document.getElementById(a),d=b.querySelectorAll("[snb-header-control] .input, [snb-header-control] select:not(.default-filter-select-operator)");this.filters=
[];this.filters=this.filters.concat(this.staticfilters);this.pageNum=1;d=$jscomp.makeIterator(d);for(var e=d.next();!e.done;e=d.next()){e=e.value;var f=shinobi.util.getParentElementHasAttribute(e,{type:"tagName",value:"TH"}),g={};if(f.hasAttribute("snb-filter-get-value"))g=eval(f.getAttribute("snb-filter-get-value"))(f,{tableObject:b});else{var h=e.value.trim();h=f.hasAttribute("snb-filter-preprocess")?eval(f.getAttribute("snb-filter-preprocess"))(h,{table:b,input:e,header:f}):h;e=e.parentNode.parentNode.parentNode;
f=e.querySelector("select");f=f.options[f.selectedIndex].value;g={};g.colname=e.getAttribute("snb-colname");g.operator=f;g.value=h}if(""!==h){if(this.hasOwnProperty("hasCheckDuplicateFilterColumn")&&1==this.hasCheckDuplicateFilterColumn&&this.hasOwnProperty("checkDuplicateFilterColumnList")&&this.checkDuplicateFilterColumnList.includes(g.colname)){var k=[];this.filters.forEach(function(a,b){a.colname!=g.colname&&k.push(a)});this.filters=k}null!=g.colname&&this.filters.push(g)}}};this.numberFormatRender=
function(a,b,e,f){a.innerHTML=Number(a.innerHTML).format(0,3,",",".");a.classList.add("has-text-right")};this.inputableRender=function(a,b,e,f){var c=a.innerHTML;a.addEventListener("dblclick",function(){var a=this.childNodes[0];if(3==a.nodeType){a=this.innerHTML;var b=document.createElement("input");b.setAttribute("type","text");b.setAttribute("value",a);this.removeChild(this.childNodes[0]);this.appendChild(b)}else 1==a.nodeType&&(this.innerHTML=a=a.value,a!==c?this.classList.add("is-warning"):this.classList.remove("is-warning"))});
a.addEventListener("keyup",function(a){13==a.keyCode&&(a=this.childNodes[0],1==a.nodeType&&(this.innerHTML=a=a.value,a!==c?this.classList.add("is-warning"):this.classList.remove("is-warning")))});a.addEventListener("mouseover",function(){this.classList.add("is-light")});a.addEventListener("mouseout",function(){this.classList.remove("is-light")})};this.viewDetailRender=function(a,b,e,f){b=document.createElement("a");b.setAttribute("class","button is-small is-icon is-info");b.innerHTML="<span class='icon'> <i class='fa fa-search'></i></span>";
a.appendChild(b);e=a.getAttribute("rowid");var c=a.parentNode.getAttribute("snb-detailid"),d=f[e];b.addEventListener("click",function(){var b=a.parentElement.parentElement.parentElement.nextElementSibling,e=b.querySelector("style.shinobi-table-style");e||(e=document.createElement("style"),e.setAttribute("class","shinobi-table-style"),e.innerHTML=".shinobi-table-row-hightlighting{background: #f1e8da !important;}",b.appendChild(e));b=a.parentElement.parentElement.querySelectorAll("tr");b=$jscomp.makeIterator(b);
for(e=b.next();!e.done;e=b.next())e.value.classList.remove("shinobi-table-row-hightlighting");a.parentElement.classList.add("shinobi-table-row-hightlighting");shinobi.mapping.clear("#"+c);shinobi.mapping.render("#"+c,JSON.stringify(d))})}};a.staticmethod={hello:function(){}};return a}();
shinobi.tradingview={getConfig:function(a){copy(JSON.parse(a.content))},configCFV:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,
prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,
borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,
thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",
downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",
borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",bottomFillColor2:"rgba( 239, 83, 80, 0.05)",
topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"SJCBUY",shortName:"V\u00e0ng SJC 1L HCM Mua v\u00e0o",timeframe:"",onWidget:!1,interval:"D",showSessions:!1,
priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},{type:"study_Overlay",
id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},close:{visible:!0,
color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"SJCSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",
wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",
barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config24K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG24KBUY",shortName:"V\u00c0NG 24K (9999) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG24KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config18K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG18KBUY",shortName:"V\u00c0NG 18K (750) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG18KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},config14K:{name:"CFV",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"z2uWe2",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"rgba(0, 255, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"rgba(33, 150, 243, 0.05)",color2:"rgba(33, 150, 243, 0.05)",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",
borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},
pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",
bottomFillColor2:"rgba( 239, 83, 80, 0.05)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"REFVANG14KBUY",shortName:"V\u00c0NG 14K (533) MUA V\u00c0O",
timeframe:"",onWidget:!1,interval:"D",showSessions:!1,priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}},
{type:"study_Overlay",id:"GdoUI3",state:{styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Open"},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"High"},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Low"},
close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:0,linewidth:1,plottype:0,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1,title:"Close"}},precision:"default",inputs:{symbol:"REFVANG14KSELL"},style:2,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",
wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",
downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"rgba(255, 0, 0, 1)",linestyle:0,linewidth:4,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",
topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,plots:{0:{id:"open",type:"line"},1:{id:"high",type:"line"},2:{id:"low",type:"line"},3:{id:"close",type:"line"}},_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,description:"Overlay",shortDescription:"Overlay",is_price_study:!1,
id:"Overlay@tv-basicstudies",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}},zorder:-4,metaInfo:{palettes:{},inputs:[{id:"symbol",name:"symbol",defval:"",type:"symbol",isHidden:!0}],plots:[{id:"open",type:"line"},{id:"high",type:"line"},{id:"low",type:"line"},{id:"close",type:"line"}],graphics:{},defaults:{styles:{},inputs:{symbol:""}},
_metainfoVersion:47,isTVScript:!1,isTVScriptStub:!1,is_hidden_study:!0,styles:{open:{title:"Open"},high:{title:"High"},low:{title:"Low"},close:{title:"Close"}},description:"Overlay",shortDescription:"Overlay",is_price_study:!1,id:"Overlay@tv-basicstudies-1",description_localized:"Overlay",shortId:"Overlay",packageId:"tv-basicstudies",version:"1",fullId:"Overlay@tv-basicstudies-1",productId:"tv-basicstudies",name:"Overlay@tv-basicstudies",format:{type:"price",precision:4}}}],leftAxisesState:[],rightAxisesState:[{state:{id:"6FPccHx2iRtp",
m_priceRange:{m_maxValue:5805E4,m_minValue:5625E4},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:220,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["z2uWe2","GdoUI3"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"z2uWe2",priceScaleRatio:null}],timeScale:{m_barSpacing:41.94601675233001,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",
style:0},horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"rgba(117, 134, 150, 1)",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},
scalesProperties:{backgroundColor:"#ffffff",lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Ho_Chi_Minh",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",
transparency:60,visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]},configGOLD:{name:"GOLD",layout:"s",charts:[{panes:[{sources:[{type:"MainSeries",id:"dzzl2a",state:{style:2,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:2,width:1},esdFlagSize:2,showCountdown:!1,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",
baseLineColor:"#5d606b",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#00CA73",downColor:"#FF6960",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#225437",borderDownColor:"#5A1913",wickColor:"#B5B5B8",wickUpColor:"#225437",wickDownColor:"#5A1913",barColorsOnPrevClose:!1},
hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#B5B5B8",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{}},
barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7},lineStyle:{color:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",styleType:2},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:0,linewidth:3,priceSource:"close",transparency:95},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",
upColorProjection:"#336854",downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR Length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"#336854",
downColorProjection:"#7f323f",borderUpColorProjection:"#336854",borderDownColorProjection:"#7f323f",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR Length"},reversalAmount:{name:"Reversal amount"}}},pnfStyle:{upColor:"#26a69a",
downColor:"#ef5350",upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR Length"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.05)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",bottomFillColor2:"rgba( 239, 83, 80, 0.05)",
topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:3,bottomLineWidth:3,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"#336854",downColorProjection:"#7f323f",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom Bars"}}},symbol:"WORLDGOLD",shortName:"V\u00e0ng Th\u1ebf gi\u1edbi",timeframe:"",onWidget:!1,priceAxisProperties:{autoScale:!0,
autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1}},zorder:-1,haStyle:{studyId:"BarSetHeikenAshi@tv-basicstudies-60"},renkoStyle:{studyId:"BarSetRenko@tv-prostudies-15"},pbStyle:{studyId:"BarSetPriceBreak@tv-prostudies-15"},kagiStyle:{studyId:"BarSetKagi@tv-prostudies-15"},pnfStyle:{studyId:"BarSetPnF@tv-prostudies-15"},rangeStyle:{studyId:"BarSetRange@tv-basicstudies-72"}}],leftAxisesState:[],rightAxisesState:[{state:{id:"rRfOPrPWyH3u",
m_priceRange:{m_maxValue:1931.9,m_minValue:1196.6},m_isAutoScale:!0,m_isPercentage:!1,m_isIndexedTo100:!1,m_isLog:!1,m_isLockScale:!1,m_isInverted:!1,m_height:301,m_topMargin:.1,m_bottomMargin:.08,alignLabels:!0},sources:["dzzl2a"]}],overlayPriceScales:{},stretchFactor:2E3,mainSourceId:"dzzl2a",priceScaleRatio:null}],timeScale:{m_barSpacing:50,m_rightOffset:10},chartProperties:{paneProperties:{background:"#131722",gridProperties:{color:"#363c4e",style:0},vertGridProperties:{color:"#363c4e",style:0},
horzGridProperties:{color:"#363c4e",style:0},crossHairProperties:{color:"#758696",style:2,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showOnlyPriceSource:!0}},scalesProperties:{backgroundColor:"#ffffff",
lineColor:"#787878",textColor:"#D9D9D9",fontSize:11,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:1,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,barSpacing:6},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:2,width:1}},priceScaleSelectionStrategyName:"auto"},version:2,timezone:"Asia/Bangkok",sessions:{properties:{graphics:{backgrounds:{inSession:{color:"#6fa8dc",transparency:60,
visible:!1},outOfSession:{color:"#ffe599",transparency:60,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}}}}]}};
shinobi.userstatus={userStatusMap:{},userStatusWidgets:{},updateUserStatusProcess:function(a){var b=JSON.parse(a.data);Object.keys(b).forEach(function(a){shinobi.userstatus.userStatusMap[a]=b[a];shinobi.userstatus.updateUserStatusWidgets(a)})},updateUserStatusWidgets:function(a){shinobi.userstatus.userStatusWidgets.hasOwnProperty(a)&&shinobi.userstatus.userStatusWidgets[a].forEach(function(b){var c=shinobi.userstatus.getCurrentStatusColor(a);b.classList.remove("has-text-success");b.classList.remove("has-text-grey");
b.classList.add(c)})},renderUserStatusTable:function(a,b,c,d){c=a.innerHTML;a.innerHTML="";shinobi.userstatus.renderUserStatus(a,c,d[b])},renderUserStatus:function(a,b,c){shinobi.userstatus.userStatusMap.hasOwnProperty(b)?shinobi.userstatus.renderUserStatusWidget(a,b,c):shinobi.api.request("/authenapi/UserOnlineStatusApi/getUserOnlineStatus",JSON.stringify({username:b}),function(d){shinobi.userstatus.userStatusMap[b]=JSON.parse(d);shinobi.userstatus.renderUserStatusWidget(a,b,c)})},renderUserStatusWidget:function(a,
b,c){c=shinobi.userstatus.getCurrentStatusColor(b);a.innerHTML='\n            <div class="user-status-container '+c+'"><span class="icon"><i class="fa fa-circle"></i></span></div>\n        ';shinobi.userstatus.userStatusWidgets.hasOwnProperty(b)||(shinobi.userstatus.userStatusWidgets[b]=[]);shinobi.userstatus.userStatusWidgets[b].push(a.querySelector(".user-status-container"))},getCurrentStatusColor:function(a){return shinobi.userstatus.userStatusMap[a]?"has-text-success":"has-text-grey"}};
Number.prototype.format=function(a,b,c,d){b="\\d(?=(\\d{"+(b||3)+"})+"+(0<a?"\\D":"$")+")";a=this.toFixed(Math.max(0,~~a));return(d?a.replace(".",d):a).replace(new RegExp(b,"g"),"$&"+(c||","))};
shinobi.util={internetConnection:!0,addEventInternetConnection:function(){if(document.querySelector("#connectingNetworkContainer"))var a=document.querySelector("#connectingNetworkContainer");else a=document.createElement("div"),a.setAttribute("class","connecting-network"),a.setAttribute("id","connectingNetworkContainer"),a.innerHTML='\n            <style>\n                .connecting-network{\n                    position: fixed;\n                    z-index: 100;\n                    width: 15rem;\n                    height: 4rem;\n                    bottom: 1rem;\n                    left: 1rem;\n                    background: white;\n                    display: none;\n                    border-radius: 6px;\n                    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 10%), 0 1px 2px 0 rgb(0 0 0 / 6%);\n                }\n                .connecting-network.is-active{\n                    display: block;\n                }\n                .spinner {\n                    top: calc( 50% - 0.75rem );\n                    left: 50%;\n                    text-align: center;\n                    position: absolute;\n                    transform: translate(-50%, -50%);\n                }\n                .spinner-content{\n                    top: calc( 50% + 0.75rem );\n                    left: 50%;\n                    text-align: center;\n                    position: absolute;\n                    transform: translate(-50%, -50%);\n                    color: #504f4f;\n                    font-size: 1rem;\n                }\n\n                .spinner > div {\n                    width: 0.75rem;\n                    height: 0.75rem;\n                    background-color: #504f4f;\n                    border-radius: 100%;\n                    display: inline-block;\n                    -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n                    animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n                }\n\n                .spinner .bounce1 {\n                -webkit-animation-delay: -0.32s;\n                animation-delay: -0.32s;\n                }\n\n                .spinner .bounce2 {\n                -webkit-animation-delay: -0.16s;\n                animation-delay: -0.16s;\n                }\n\n                @-webkit-keyframes sk-bouncedelay {\n                0%, 80%, 100% { -webkit-transform: scale(0) }\n                40% { -webkit-transform: scale(1.0) }\n                }\n\n                @keyframes sk-bouncedelay {\n                0%, 80%, 100% { \n                    -webkit-transform: scale(0);\n                    transform: scale(0);\n                } 40% { \n                    -webkit-transform: scale(1.0);\n                    transform: scale(1.0);\n                }\n                }\n            </style>\n            <div class=" spinner">\n                <div class="bounce1"></div>\n                <div class="bounce2"></div>\n                <div class="bounce3"></div>\n            </div>\n            <div class=" spinner-content">\n                \u0110ang k\u1ebft n\u1ed1i\n            </div>\n            </div>\n         ',
document.body.appendChild(a);window.addEventListener("online",function(){console.log("Became online");shinobi.util.internetConnection=!0;a.classList.remove("is-active")});window.addEventListener("offline",function(){console.log("Became offline");shinobi.util.internetConnection=!1;a.classList.add("is-active")});return a},hiddenModifyAvatarLinkButton:function(a){document.querySelector(a+" .file-label").querySelector(".button").classList.add("is-hidden")},renderUnEscap:function(a,b,c){a.innerHTML=shinobi.util.renderUncapContent(b)},
renderUncapContent:function(a){return String(a).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')},convertEscap:function(a){var b=document.createElement("div");b.innerHTML=a;b.querySelectorAll("img").forEach(function(a){console.log("img",a);var b=a.src,c=document.createElement("img");c.setAttribute("src",b);a.replaceWith(c)});return String(b.innerHTML).replace(/\.\s/g,".").replace(/alt="([A-Za-z0-9 _]*)"/g,"").replace(/width="([A-Za-z0-9 _]*)"/g,"").replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").trim()},showAvatarLinkAndPreventModify:function(a,b){b=JSON.parse(b);var c=document.querySelector(a+' [snb-render="shinobi.render.renderChangeAvatarImageContainer"]');a=document.querySelector(a+" .file-label").querySelector(".button");b.hasOwnProperty("avatarlink")&&null!=b.avatarlink&&""!=b.avatarlink?(c.classList.remove("is-hidden"),a.classList.add("is-hidden")):(c.classList.add("is-hidden"),a.classList.remove("is-hidden"))},
getAvatarLink:function(a){return a.querySelector('[snb-key="avatarlink"]').src},hiddenModalFooter:function(a){document.querySelector(a).querySelector(".modal-card-foot").classList.add("is-hidden")},renderCollapseButton:function(a){var b=document.querySelector(".section-title");b.classList=[];b.innerHTML='\n\t\t<div class="level panel-heading has-background-white-bis">\n\t\t\t<div class="level-left">\n\t\t\t\t<div class="level-item"><button class="button is-primary is-collapse-button">\n\t\t\t\t\t\t<i class="fa fa-list-ul"></i>\n\t\t\t\t\t</button></div>\n\t\t\t\t<div class="level-item"><p class=" title is-4 section-title">'+
b.innerText+'</p></div>\n\t\t\t</div>\n\t\t\t<div class="level-right">\n\t\t\t</div>\n\t\t</div>';a()},addCollapseButtonEvent:function(a){document.querySelector(".is-collapse-button").onclick=function(){var a=document.querySelectorAll(".panel"),c=a[0].parentElement;c.classList.contains("is-hidden")?c.classList.remove("is-hidden"):c.classList.add("is-hidden");a=a[1].parentElement;a.classList.contains("is-12")?(a.classList.add("is-8"),a.classList.remove("is-12")):(a.classList.remove("is-8"),a.classList.add("is-12"))};
a()},abledInput:function(a){document.querySelector(a).removeAttribute("disabled")},disableAllInput:function(a){a=document.querySelector(a);a.querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled","")});a.querySelectorAll(".textarea").forEach(function(a){a.setAttribute("disabled","")})},hiddenUploadFileInDetailForm:function(a){a=document.querySelector(a).querySelectorAll(".file-cta");for(var b=0;b<a.length;b++)a[b].classList.add("is-hidden")},disabledAllUserInfoInput:function(){document.getElementById("userInfoSection").querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled",
"")})},disabledAllBankInfoInput:function(){document.getElementById("userBankInfoSection").querySelectorAll(".input").forEach(function(a){a.setAttribute("disabled","")})},showIdentityLabel:function(a){a=document.querySelector(a);a.querySelector('[snb-key="frontidentity"]').parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove("is-hidden");a.querySelector('[snb-key="backidentity"]').parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove("is-hidden")},
getCurrentSystemModule:function(){return document.querySelector("#menuModuleHeader").querySelector(".navbar-link").lastElementChild.innerText},renderReadMoneyAmountInVietnamese:function(a){var b=document.querySelector(a);b.querySelector('[snb-key="amount"]').addEventListener("input",function(){shinobi.mapping.getValue(a,function(a){a=docso(a.amount).trim();b.querySelector('[snb-key="vietnamesemoneyinput"]').innerText=a.charAt(0).toUpperCase()+a.slice(1)+" \u0111\u1ed3ng"})})},buildSearchUserRecommendFieldElement:function(a,
b){b.hasOwnProperty("callback")&&shinobi.util.addCallbackEvent(a,b);b.hasOwnProperty("buttonSearchEvent")&&shinobi.util.addButtonSearchEvent(a,b);b.hasOwnProperty("selectItem")&&shinobi.util.addSelectItemEvent(a,b)},addCallbackEvent:function(a,b){a.querySelector(".input").addEventListener("input",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",
JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();b.callback(a)}))})},addSelectItemEvent:function(a,b){a.querySelector(".input").addEventListener("change",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c,type:"="},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();
b.selectItem(a)}))})},addButtonSearchEvent:function(a,b){a.querySelector(".button.is-search").addEventListener("click",function(){var c=a.querySelector(".input").value.trim();""!=c&&(c={searchkey:c,type:"="},b.showloadingnotification&&shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(c),function(a){b.showloadingnotification&&shinobi.notification.notification.loaded();b.buttonSearchEvent(a)}))})},hexEncode:function(a){var b,c=
"";for(b=0;b<a.length;b++){var d=a.charCodeAt(b).toString(16);c+=("000"+d).slice(-4)}return c},hexDecode:function(a){var b=a.match(/.{1,4}/g)||[],c="";for(a=0;a<b.length;a++)c+=String.fromCharCode(parseInt(b[a],16));return c},onScreenDisable:function(a){var b=!1,c=!1;setInterval(function(){b=c;c=document.hidden;0==c&&1==b&&"function"==typeof a&&a()},1E3)},sumAllDataAndKeyJson:function(a,b){Object.entries(a);Object.entries(b).forEach(function(b){a.hasOwnProperty(b[0])?isNaN(a[b[1]])||(a[b[0]]+=b[1]):
a[b[0]]=b[1]})},checkMobile:function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(a){return navigator.userAgent.match(a)})},countNumberInInput:function(a){return null==a.match(/\d/g)?0:a.match(/\d/g).map(Number).length},countTextCharacterInInput:function(a){return null==a.match(/[a-zA-Z]/g)?0:a.match(/[a-zA-Z]/g).map(String).length},countSpecialCharacterInInput:function(a){return null==a.match(/[^0-9a-zA-Z]/g)?0:a.match(/[^0-9a-zA-Z]/g).map(String).length},
hasSendRequestToAdmin:function(a,b){"update success"==a&&(shinobi.notification.notification.info("\u0110\u00e3 ti\u1ebfp nh\u1eadn y\u00eau c\u1ea7u. Vui l\u00f2ng \u0111\u1ee3i ki\u1ec3m duy\u1ec7t."),"function"==typeof b&&b())},getCurrentDate:function(a){return shinobi.util.formatDate(new Date,a)},getFormatDate:function(a,b){a=shinobi.util.preProcessDateInput(a);return shinobi.util.formatDate(new Date(a),b)},preProcessDateInput:function(a){"string"==typeof a&&(a=a.replace(/-/g,"/"));return a},addLoopAnimate:function(a){for(var b=
document.querySelectorAll("[animate-loop]"),c=0;c<b.length;c++)shinobi.util.addLoopAnimateProcess(b[c],a)},getRandomInt:function(a){return Math.floor(Math.random()*Math.floor(a))},addLoopAnimateProcess:function(a,b){if(a.hasAttribute("stop-animate")&&"true"==a.getAttribute("stop-animate"))setTimeout(function(){shinobi.util.addLoopAnimateProcess(a,b)},1E3);else{var c=a.getAttribute("animate-loop").split(" "),d=shinobi.util.randomInList(c);a.classList.add(d);a.classList.add("animate__animated");setTimeout(function(){a.classList.remove(d);
setTimeout(function(){shinobi.util.addLoopAnimateProcess(a,b)},200)},1E3)}},addAnimate:function(a,b){a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)shinobi.util.addAnimateProcess(a[c],b)},addAnimateProcess:function(a,b){var c=["animated","inifinite"],d=b.hasOwnProperty("classItem")?b.classItem:"bounce";c.push(d);c.forEach(function(b){a.classList.add(b)});b.hasOwnProperty("infinity")&&setTimeout(function(){c.forEach(function(b){a.classList.remove(b)});setTimeout(function(){shinobi.util.addAnimateProcess(a,
b)},2E3)},2E3)},reverseFormatDate:function(a,b){var c=b.reverseFormat,d=a.slice(c.indexOf("dd"),c.lastIndexOf("dd")+2),e=a.slice(c.indexOf("MM"),c.lastIndexOf("MM")+2);a=a.slice(c.indexOf("yyyy"),c.lastIndexOf("yyyy")+4);return shinobi.util.formatDate(new Date(a+"/"+e+"/"+d),b)},formatDate:function(a,b){var c=shinobi.util.getTwoDigit(a.getDate()),d=shinobi.util.getTwoDigit(a.getMonth()+1),e=a.getFullYear(),f=shinobi.util.getTwoDigit(a.getHours()),g=shinobi.util.getTwoDigit(a.getMinutes()),h=shinobi.util.getTwoDigit(a.getSeconds()),
k=shinobi.util.getDayOfWeek(a,b);a=shinobi.util.getDayOfWeekShort(a,b);b=b&&b.hasOwnProperty("format")?b.format:"yyyy-MM-dd";return b=b.replace("yyyy",e).replace("MM",d).replace("dd",c).replace("hh",f).replace("mm",g).replace("ss",h).replace("dayOfWeekShort",a).replace("dayOfWeek",k)},getDayOfWeek:function(a,b){b=b&&b.hasOwnProperty("language")?b.language:"vn";a=a.getDay();return{vn:"Ch\u1ee7 nh\u1eadt;Th\u1ee9 hai;Th\u1ee9 ba;Th\u1ee9 t\u01b0;Th\u1ee9 n\u0103m;Th\u1ee9 s\u00e1u;Th\u1ee9 b\u1ea3y".split(";"),
en:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")}[b][a]},getDayOfWeekShort:function(a,b){b=b&&b.hasOwnProperty("language")?b.language:"vn";a=a.getDay();return{vn:"CN;Th\u1ee9 2;Th\u1ee9 3;Th\u1ee9 4;Th\u1ee9 5;Th\u1ee9 6;Th\u1ee9 7".split(";"),en:"Sun Mon Tue Wed Thu Fri Sat".split(" ")}[b][a]},getTagInputMappingElem:function(a){var b;"object"==typeof shinobi.initbulma.tagsInput&&shinobi.initbulma.tagsInput.forEach(function(c){c.element==a&&(b=c)});return b},addEventEnter:function(a,
b){a.addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&(a.preventDefault(),b())});shinobi.util.checkMobile()&&a.addEventListener("focusout",function(a){b()})},jsonToSearchParam:function(a){var b="",c;for(c in a)b+="&"+c+"="+a[c];return"?"+b.slice(1,b.length)},getCalendarMappingElem:function(a){var b;"object"==typeof shinobi.initbulma.calendars&&shinobi.initbulma.calendars.forEach(function(c){c.element==a&&(b=c)});return b},getDateAfterCurrentDate:function(a,b){var c=new Date;switch(b){case "day":c.setDate(c.getDate()+
a);break;case "month":c.setMonth(c.getMonth()+a);break;case "year":c.setFullYear(c.setFullYear()+a)}a=c.getFullYear();b=shinobi.util.getTwoDigit(c.getMonth()+1);c=shinobi.util.getTwoDigit(c.getDate());return a+"-"+b+"-"+c},getDateAfterDate:function(a,b,c){a=shinobi.util.preProcessDateInput(a);a=new Date(a);switch(c){case "day":a.setDate(a.getDate()+b);break;case "month":a.setMonth(a.getMonth()+b);break;case "year":a.setFullYear(a.setFullYear()+b)}b=a.getFullYear();c=shinobi.util.getTwoDigit(a.getMonth()+
1);a=shinobi.util.getTwoDigit(a.getDate());return b+"-"+c+"-"+a},getSearchKey:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},getSearchParam:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},renderUserInfo:function(a){a=document.querySelector(a);
shinobi.util.renderUserInfoElement(a)},renderUserInfoElement:function(a){shinobi.coreapi.getLoggedUserInfo(function(b){b=JSON.parse(b);shinobi.mapping.renderElement(a,b)})},buildSearchUserField:function(a,b){a=document.querySelector(a);shinobi.util.buildSearchUserFieldElement(a,b)},isEmpty:function(a){return 0===Object.keys(a).length&&a.constructor===Object?!0:!1},uniqueArray:function(a){return a.sort().filter(function(a,c,d){return!c||a!=d[c-1]})},buildUpfileButton:function(a,b){var c=document.querySelector(a);
a=b&&b.hasOwnProperty("uploadUrl")?b.uploadUrl:"uploadfile";shinobi.fileupload.registerElement(c,"change",a,function(){return 0},function(a){"success"==a.result?(shinobi.notification.notification.info("Upload th\u00e0nh c\u00f4ng"),shinobi.render.renderImageFileInput(c,a.content.url,{})):shinobi.notification.notification.error("C\u00f3 l\u1ed7i vui l\u00f2ng th\u1eed l\u1ea1i")},b)},checkEmptyJson:function(a,b,c){if(c){var d=Object.entries(a);a=c.hasOwnProperty("listNotEmpty")?c.listNotEmpty:Object.keys(a);
c=c.hasOwnProperty("listEmpty")?c.listEmpty:[];for(var e=!1,f=0;f<d.length;f++){var g=d[f];c.includes(g[0])||a.includes(g[0])&&""==g[1]&&(e=!0)}e?shinobi.util.fillInputMessage():b()}else Object.values(a).includes("")?shinobi.util.fillInputMessage():b()},getParentElementHasAttribute:function(a,b){a=a.parentNode;var c=!1,d=null,e=b.value;switch(b.type){case "class":a.classList.contains(e)&&(c=!0,d=a);break;case "id":a.id==e&&(c=!0,d=a);break;case "tagName":a.tagName==e&&(c=!0,d=a)}return"BODY"==a.tagName?
d:c?d:shinobi.util.getParentElementHasAttribute(a,b)},buildSearchUserFieldElement:function(a,b){var c=a.querySelector(".input");a.querySelector(".button").onclick=function(){var a=c.value.trim();""==a?(c.classList.add("is-danger"),shinobi.util.fillInputMessage()):(c.classList.remove("is-danger"),a={searchkey:a},shinobi.notification.notification.loading(),shinobi.api.request(shinobi.coreapi.loggedUserApi+"searchUser",JSON.stringify(a),function(a){shinobi.notification.notification.loaded();b.hasOwnProperty("callback")&&
b.callback(a)}))}},buildAutoSuggestProvince:function(a,b){a=document.querySelector(a);if(a.hasAttribute("build-autocomplete")){a.nextElementSibling.remove();var c=document.createElement("input");c.setAttribute("id",a.id);c.setAttribute("class","input");a.parentNode.replaceChild(c,a);a=c}a.classList.add("select-symbol-input");a.classList.add("autocomplete-input");a.setAttribute("placeholder","T\u1ec9nh/Th\u00e0nh ph\u1ed1");a.setAttribute("build-autocomplete","true");var d=a.parentNode;d.classList.add("autocomplete");
c=document.createElement("ul");c.setAttribute("class","autocomplete-result-list ");shinobi.util.insertAfterElem(c,a);shinobi.cacheapi.request(shinobi.coreapi.locationApi+"getAllVietNamProvince","{}",function(a){var c=[];JSON.parse(a).forEach(function(a){c.push(a.provincename)});var e=new Autocomplete(d,{search:function(a){var b=[];0<a.length&&(b=c.filter(function(b){return b.toUpperCase().includes(a.toUpperCase())}));return b},onSubmit:function(a){shinobi.a=e;"function"==typeof b&&b(a,e)},autoSelect:!0});
return e})},convertTextToElement:function(a){var b=document.createElement("div");b.innerHTML=a;return b.firstElementChild},buildAutoSuggestBankName:function(a,b){a=document.querySelector(a);if(a.hasAttribute("build-autocomplete")){a.nextElementSibling.remove();var c=document.createElement("input");c.setAttribute("id",a.id);c.setAttribute("class","input");a.parentNode.replaceChild(c,a);a=c}a.classList.add("autocomplete-input");a.setAttribute("placeholder","Ng\u00e2n h\u00e0ng");a.setAttribute("build-autocomplete",
"true");var d=a.parentNode;d.classList.add("autocomplete");c=document.createElement("ul");c.setAttribute("class","autocomplete-result-list ");shinobi.util.insertAfterElem(c,a);shinobi.cacheapi.request(shinobi.coreapi.locationApi+"getAllBankName","{}",function(a){var c=[];JSON.parse(a).forEach(function(a){c.push(a.bankfullname)});var e=new Autocomplete(d,{search:function(a){var b=[];0<a.length&&(b=c.filter(function(b){return b.toUpperCase().includes(a.toUpperCase())}));return b},onSubmit:function(a){shinobi.a=
e;"function"==typeof b&&b(a,e)},autoSelect:!0});return e})},addClass:function(a,b){document.getElementById(a).classList.add(b)},removeClass:function(a,b){document.getElementById(a).classList.remove(b)},removeClassOfList:function(a,b){a.forEach(function(a){shinobi.aladinUtil.removeClass(a,b)})},getAllSearchInPath:function(){var a={};document.location.search.substr(1).split("&").forEach(function(b){b=$jscomp.makeIterator(b.split("="));key=b.next().value;value=b.next().value;a[key]=value});return a},
swapKeyAndValueJson:function(a){var b={},c;for(c in a)b[a[c]]=c;return b},addClassOfList:function(a,b){a.forEach(function(a){shinobi.aladinUtil.addClass(a,b)})},addClassOfListClass:function(a,b){a=document.getElementsByClassName(a);for(var c=0;c<a.length;c++)a[c].classList.add(b)},removeClassOfListClass:function(a,b){a=document.getElementsByClassName(a);for(var c=0;c<a.length;c++)a[c].classList.remove(b)},removeAllClass:function(a,b,c){a=document.getElementById(a).getElementsByClassName(b);b=a.length;
for(var d=0;d<b;d++)a[d].classList.remove(c)},decodeValue:function(a){var b=document.createElement("textarea");b.innerHTML=a;return b.value},loadListAds:function(a){shinobi.cacheapi.request("/api/UserRankingOverviewApi/getListAds",JSON.stringify(a.request),function(b){(b=JSON.parse(b))&&a.callback(b)})},convertCSVToArray:function(a,b){b=b||",";for(var c=new RegExp("(\\"+b+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+b+"\\r\\n]*))","gi"),d=[[]],e;e=c.exec(a);){var f=e[1];f.length&&f!==b&&d.push([]);
e=e[2]?e[2].replace(/""/g,'"'):e[3];d[d.length-1].push(e)}return d},insertAfterElem:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},createNumberCleaveInput:function(a,b){var c=shinobi.util.getFormatCharacters();b=Object.assign({numeral:!0,numeralDecimalMark:c.decimalFormatCharacter,delimiter:c.numberFormatCharacter},b);return new Cleave(a,b)},getValueNumberCleaveFormat:function(a){return shinobi.render.removeFormatNumber(a.value.trim())},getRecordNumber:function(a){a?(a=document.getElementById(a),
a=a.nextElementSibling.classList.contains("table-pagination")?a.nextElementSibling:a.nextElementSibling.getElementsByClassName("table-pagination")[0]):a=document.getElementById("table-pagination");var b=a.parentElement;b=b.hasAttribute("record-num")?b.getAttribute("record-num"):a.getElementsByClassName("shinobi-recordperpage")[0].value;shinobi.util.customRecordPerPagePagination(a,b);return b},customRecordPerPagePagination:function(a,b){a=a.getElementsByClassName("shinobi-recordperpage")[0].getElementsByTagName("option");
for(var c=0;c<a.length;c++){var d=(parseInt(c)+1)*b;a[c].innerHTML=d;a[c].value=d}},updateSuccess:function(a){shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng");"function"==typeof a&&a()},fillInputMessage:function(a){shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin");"function"==typeof a&&a()},checkValueEmpty:function(a,b){Object.values(a).includes("")?shinobi.util.fillInputMessage():"function"==typeof b&&b()},
getLoggedUser:function(){shinobi.util.checkAuthen()},checkAuthen:function(a){shinobi.cacheapi.request(shinobi.coreapi.userApi+"checkAuthen",JSON.stringify({}),function(b){b=JSON.parse(b);"function"==typeof a&&(b?a(b.username):a(!1))})},requestAuthen:function(a){shinobi.coreapi.checkAuthen(function(b){"function"==typeof a&&(b?a(b):shinobi.notification.notification.error("Vui l\u00f2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 thao t\u00e1c"))})},reCheckAuthen:function(a){var b=shinobi.coreapi.userApi+
"checkAuthen";"object"==typeof shinobi.cacheapi.cache&&shinobi.cacheapi.clearKey(b);shinobi.util.checkAuthen(a)},getSessionId:function(a){shinobi.api.request(shinobi.coreapi.systemUserApi+"getSessionId",JSON.stringify({}),function(b){"function"==typeof a&&(b=JSON.parse(b),b.hasOwnProperty("sessionid")?-1!=b.sessionid?a(b.sessionid):a(!1):a(!1))})},getUserInfo:function(a,b){if(!b)shinobi.util.checkAuthen(function(b){c={username:b};shinobi.cacheapi.request(shinobi.coreapi.userApi+"getAllUserInfo",JSON.stringify(c),
function(b){"function"==typeof a&&a(b)})});else if(b.hasOwnProperty("username")){var c={username:b.username};shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getUserInfo",JSON.stringify(c),function(b){"function"==typeof a&&a(b)})}},getLoggedUserInfo:function(a){shinobi.util.checkAuthen(function(b){shinobi.cacheapi.request(shinobi.coreapi.loggedUserApi+"getAllUserInfo",JSON.stringify({username:b}),function(b){"function"==typeof a&&a(b)})})},checkUpdateSuccess:function(a,b,c){if(["insert success",
"update success"].includes(a)){if(!c||c.showNotification)a=c&&c.hasOwnProperty("showContent")?c.showContent:"C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng",shinobi.notification.notification.info(a);"function"==typeof b&&b()}},getFormatCharacters:function(){var a=",",b=".";"object"==typeof shinobi.utilconfig&&shinobi.utilconfig.hasOwnProperty("numberFormatCharacter")&&(shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")&&(a=shinobi.utilconfig.numberFormatCharacter.numberCharacter),
shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")&&(b=shinobi.utilconfig.numberFormatCharacter.decimalCharacter));return{numberFormatCharacter:a,decimalFormatCharacter:b}},getAllStorage:function(){var a={};Object.entries(window.localStorage).forEach(function(b){a[b[0]]=b[1]});return a},setAllStorage:function(a){Object.entries(a).forEach(function(a){window.localStorage.setItem(a[0],a[1])})},formatNumber:function(a){var b=shinobi.util.getFormatCharacters();return Number(a).format(0,
3,b.numberFormatCharacter,b.decimalFormatCharacter)},getContentIframe:function(a){shinobi.util.getContentIframeElement(document.querySelector(a))},getContentIframeElement:function(a){return a.contentDocument||a.contentWindow.document},getTwoDigit:function(a){return(10>a?"0":"")+a},getInternationalTelephoneCode:function(a){return a.getSelectedCountryData().dialCode},getInternationalTelephoneCountry:function(a){return a.getSelectedCountryData().iso2},setRangeCalendar:function(a,b,c){a=shinobi.util.getCalendarMappingElem(document.querySelector(a));
a.datePicker.start=b;a.datePicker.end=c;a.save()},addEventJumpToId:function(){var a=shinobi.util.getSearch("jumpid");a&&(a=document.getElementById(a).offsetTop-4*Number(shinobi.util.getFontSize()),a=0<a?a:0,document.body.scrollTop=a,document.documentElement.scrollTop=a)},randomInList:function(a){return a[Math.floor(Math.random()*a.length)]},jumpTo:function(a){a=document.querySelector(a);shinobi.util.jumpToElement(a)},jumpToElement:function(a){a&&(a=a.offsetTop-4*Number(shinobi.util.getFontSize()),
a=0<a?a:0,document.body.scrollTop=a,document.documentElement.scrollTop=a)},getStorage:function(a,b){return(a=window.localStorage.getItem(a))?a:""},setStorage:function(a,b,c){window.localStorage.setItem(a,b)},getLoggedName:function(a){shinobi.util.getUserInfo(function(b){b=JSON.parse(b);var c="";b&&(b.hasOwnProperty("firstname")&&b.hasOwnProperty("lastname")&&(c=b.firstname+" "+b.lastname),"function"==typeof a&&a(c))})},getSearch:function(a){var b=window.location.search.split("?"),c=null,d=a+"=";b.forEach(function(a){c=
a.includes(d)?a.replace(d,""):c});return c},getFontSize:function(a){return shinobi.util.getComputedProperty(a,"font-size").replace("px","")},getComputedProperty:function(a,b){return a?window.getComputedStyle(a,null).getPropertyValue(b):window.getComputedStyle(document.body,null).getPropertyValue(b)},getValueInput:function(a){switch(a.getAttribute("type")){case "checkbox":var b=a.checked;break;default:b=a.value.trim()}return b=a.hasAttribute("snb-preprocess")?eval(a.getAttribute("snb-preprocess"))(b):
b},sha256:function(a){for(var b=Math.pow,c=b(2,32),d,e="",f=[],g=8*a.length,h=shinobi.util.sha256.h=shinobi.util.sha256.h||[],k=shinobi.util.sha256.k=shinobi.util.sha256.k||[],l=k.length,m={},p=2;64>l;p++)if(!m[p]){for(d=0;313>d;d+=p)m[d]=p;h[l]=b(p,.5)*c|0;k[l++]=b(p,1/3)*c|0}for(a+="\u0080";a.length%64-56;)a+="\x00";for(d=0;d<a.length;d++){b=a.charCodeAt(d);if(b>>8)return;f[d>>2]|=b<<(3-d)%4*8}f[f.length]=g/c|0;f[f.length]=g;for(b=0;b<f.length;){a=f.slice(b,b+=16);c=h;h=h.slice(0,8);for(d=0;64>
d;d++)l=a[d-15],m=a[d-2],g=h[0],p=h[4],l=h[7]+(shinobi.util.rightRotate(p,6)^shinobi.util.rightRotate(p,11)^shinobi.util.rightRotate(p,25))+(p&h[5]^~p&h[6])+k[d]+(a[d]=16>d?a[d]:a[d-16]+(shinobi.util.rightRotate(l,7)^shinobi.util.rightRotate(l,18)^l>>>3)+a[d-7]+(shinobi.util.rightRotate(m,17)^shinobi.util.rightRotate(m,19)^m>>>10)|0),g=(shinobi.util.rightRotate(g,2)^shinobi.util.rightRotate(g,13)^shinobi.util.rightRotate(g,22))+(g&h[1]^g&h[2]^h[1]&h[2]),h=[l+g|0].concat(h),h[4]=h[4]+l|0;for(d=0;8>
d;d++)h[d]=h[d]+c[d]|0}for(d=0;8>d;d++)for(b=3;b+1;b--)f=h[d]>>8*b&255,e+=(16>f?0:"")+f.toString(16);return e},rightRotate:function(a,b){return a>>>b|a<<32-b},removeUnicode:function(a){return shinobi.util.remove_unicode(a)},listAudio:{},playAudio:function(a){var b=shinobi.util.listAudio.hasOwnProperty(a)?shinobi.util.listAudio[a]:new Audio(a);b.play();shinobi.util.listAudio[a]=b},remove_unicode:function(a){a=a.toLowerCase();a=a.replace(/\u00e0|\u00e1|\u1ea1|\u1ea3|\u00e3|\u00e2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,
"a");a=a.replace(/\u00e8|\u00e9|\u1eb9|\u1ebb|\u1ebd|\u00ea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e");a=a.replace(/\u00ec|\u00ed|\u1ecb|\u1ec9|\u0129/g,"i");a=a.replace(/\u00f2|\u00f3|\u1ecd|\u1ecf|\u00f5|\u00f4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o");a=a.replace(/\u00f9|\u00fa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u");a=a.replace(/\u1ef3|\u00fd|\u1ef5|\u1ef7|\u1ef9/g,"y");a=a.replace(/\u0111/g,"d");a=a.replace(/!|@|%|\^|\*|\(|\)|\+|=|<|>|\?|\/|,|\.|:|;|'| |"|&|#|\[|\]|~|$|_/g,
"-");a=a.replace(/-+-/g,"-");return a=a.replace(/^\-+|\-+$/g,"")},changeActiveElement:function(a,b,c,d){for(var e=0;e<b.length;e++){var f=a+b[e];f==d?document.getElementById(f).classList.add(c):document.getElementById(f).classList.remove(c)}},modalEventListener:function(a){var b=a.getElementsByClassName("delete")[0];b&&(b.onclick=function(){a.classList.toggle("is-active")});if(b=a.getElementsByClassName("cancel-modal-button"))for(var c=0;c<b.length;c++)b[c].onclick=function(){a.classList.toggle("is-active")};
c=a.getElementsByClassName("modal-background");for(b=0;b<c.length;b++)c[b].onclick=function(){a.classList.toggle("is-active")};window.addEventListener("keydown",function(b){"Escape"==b.key&&a.classList.remove("is-active")},!0);if(c=a.getElementsByTagName("footer")[0])for(b in c=c.getElementsByTagName("button"),c)c[b].onclick=function(){a.classList.toggle("is-active")};if(a.hasAttribute("control-button-list"))for(b=a.getAttribute("control-button-list").split("|"),c=0;c<b.length;c++){var d=document.getElementById(b[c]);
d.onclick=function(){a.classList.add("is-active");if(d.hasAttribute("snb-render")){var b=d.getAttribute("snb-key"),c=d.getAttribute("snb-render");eval(c)(d,b)}}}},createFireWork:function(a){function b(a,b){return Math.random()*(b-a)+a}function c(a,c,d,e){this.x=this.sx=a;this.y=this.sy=c;this.tx=d;this.ty=e;this.distanceToTarget=Math.sqrt(Math.pow(a-d,2)+Math.pow(c-e,2));this.distanceTraveled=0;this.coordinates=[];for(this.coordinateCount=3;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);
this.angle=Math.atan2(e-c,d-a);this.speed=f.rocketSpeed;this.acceleration=f.rocketAcceleration;this.brightness=b(50,80);this.hue=l;this.targetRadius=1;this.targetDirection=!1;u++}function d(a,c){this.x=a;this.y=c;this.coordinates=[];for(this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=b(0,2*Math.PI);this.speed=b(1,10);this.friction=f.particleFriction;this.gravity=f.particleGravity;this.hue=b(l-20,l+20);this.brightness=b(50,80);this.alpha=1;this.decay=
b(.01,.03)}function e(){requestAnimFrame(e);l+=.5;q.globalCompositeOperation="destination-out";q.fillStyle="rgba(0, 0, 0, 0.5)";q.fillRect(0,0,r,t);q.globalCompositeOperation="lighter";for(var a=g.length;a--;)g[a].draw(),g[a].update(a);for(a=h.length;a--;)h[a].draw(),h[a].update(a);p>=f.timerInterval?k.down||(g.push(new c(r/2,t,b(0,r),b(0,t/2))),p=0):p++;m>=f.clickLimiter?k.down&&(g.push(new c(r/2,t,k.x,k.y)),m=0):m++}var f={startingHue:120,clickLimiter:5,timerInterval:20,showTargets:!1,rocketSpeed:4,
rocketAcceleration:1.03,particleFriction:.95,particleGravity:1,particleMinCount:25,particleMaxCount:40,particleMinRadius:3,particleMaxRadius:5},g=[],h=[],k={down:!1,x:0,y:0},l=f.startingHue,m=0,p=0,u=0;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(callback,1E3/60)}}();var n=document.createElement("canvas");(a&&a.hasOwnProperty("container")?a.container:document.body).appendChild(n);
var q=n.getContext("2d"),r=window.innerWidth,t=window.innerHeight;n.width=r;n.height=t;c.prototype.update=function(a){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);this.targetDirection?1<this.targetRadius?this.targetRadius-=.15:this.targetDirection=!1:8>this.targetRadius?this.targetRadius+=.15:this.targetDirection=!0;this.speed*=this.acceleration;var c=Math.cos(this.angle)*this.speed,e=Math.sin(this.angle)*this.speed;this.distanceTraveled=Math.sqrt(Math.pow(this.sx-(this.x+c),2)+
Math.pow(this.sy-(this.y+e),2));if(this.distanceTraveled>=this.distanceToTarget){c=this.tx;e=this.ty;for(var k=Math.round(b(f.particleMinCount,f.particleMaxCount));k--;)h.push(new d(c,e));g.splice(a,1)}else this.x+=c,this.y+=e};c.prototype.draw=function(){var a=this.coordinates[this.coordinates.length-1];q.beginPath();q.moveTo(a[0],a[1]);q.lineTo(this.x,this.y);q.strokeStyle="hsl("+this.hue+",100%,"+this.brightness+"%)";q.stroke();f.showTargets&&(q.beginPath(),q.arc(this.tx,this.ty,this.targetRadius,
0,2*Math.PI),q.stroke())};d.prototype.update=function(a){this.coordinates.pop();this.coordinates.unshift([this.x,this.y]);this.speed*=this.friction;this.x+=Math.cos(this.angle)*this.speed;this.y+=Math.sin(this.angle)*this.speed+this.gravity;this.alpha-=this.decay;this.alpha<=this.decay&&h.splice(a,1)};d.prototype.draw=function(){var a=Math.round(b(f.particleMinRadius,f.particleMaxRadius)),c=q.createRadialGradient(this.x,this.y,0,this.x,this.y,a);c.addColorStop(0,"white");c.addColorStop(.1,"white");
c.addColorStop(.1,"hsla("+this.hue+",100%,"+this.brightness+"%,"+this.alpha+")");c.addColorStop(1,"black");q.beginPath();q.fillStyle=c;q.arc(this.x,this.y,a,2*Math.PI,!1);q.fill()};window.addEventListener("resize",function(a){n.width=r=window.innerWidth;n.height=t=window.innerHeight});n.addEventListener("mousemove",function(a){a.preventDefault();k.x=a.pageX-n.offsetLeft;k.y=a.pageY-n.offsetTop});n.addEventListener("mousedown",function(a){a.preventDefault();k.down=!0});n.addEventListener("mouseup",
function(a){a.preventDefault();k.down=!1});n.setAttribute("style","position: fixed;top: 0;left: 0;");a&&a.hasOwnProperty("onClick")?"function"==typeof a.onClick&&(n.onclick=function(){a.onClick()}):a&&a.hasOwnProperty("href")&&(n.classList.add("has-cursor-pointer"),n.onclick=function(){window.location.href=a.href});window.onload=e();return n},createCoinFall:function(a){function b(){g&&requestAnimationFrame(b);f.clearRect(0,0,e.width,e.height);.3>Math.random()&&k.push({x:Math.random()*e.width|0,y:-50,
dy:3,s:.5+Math.random(),state:10*Math.random()|0});for(var a=k.length;a--;){var c=k[a].x,d=k[a].y,u=k[a].s,n=k[a].state;k[a].state=9<n?0:n+.1;k[a].dy+=.3;k[a].y+=k[a].dy;f.drawImage(h,44*Math.floor(n),0,44,40,c,d,44*u,40*u);d>e.height&&k.splice(a,1)}}var c=a.container,d=document.createElement("div");d.setAttribute("style","position: fixed;");c.appendChild(d);var e=document.createElement("canvas"),f=e.getContext("2d"),g=!1;e.width=window.innerWidth;e.height=window.innerHeight;e.id="gimmick";var h=
new Image;h.src=a.hasOwnProperty("imageSrc")?a.imageSrc:"http://i.imgur.com/5ZW2MT3.png";h.onload=function(){d.appendChild(e);g=!0;b()};var k=[];return d},renderListPost:function(a,b){b=void 0===b?"news":b;var c=null;if(a){var d=shinobi.coreapi.blogOverviewApi+"findDataList",e={recordPerPage:shinobi.util.getRecordNumber(a)};c=new shinobi.datalist(a);c.staticfilters=[{colname:"posttype",operator:"like",value:b}];c.staticsorts=[{colname:"id",value:"desc"}];c.initLoadApi(d,e)}return c}};
shinobi.xhradapter={getResource:function(a,b){this.accessResource("GET",a,b)},accessResource:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&c(d.responseText)};d.open(a,b,!0);d.send()},login:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&c(d.responseText)};d.open("POST","/login",!0);d.setRequestHeader("username",a);d.setRequestHeader("password",b);d.send()}};
shinobi.fileuploadconfig={uploadDomainProcess:function(){switch(window.location.hostname){case "golddemo.hanzo.finance":var a="https://golddemouploadfile.hanzo.finance/";break;case "gold.hanzo.finance":a="https://golduploadfile.hanzo.finance/";break;default:a="http://localhost:10000/"}return a}};shinobi.notificationconfig={config:{modalSize:"is-medium",modalFontSize:"is-size-4"},init:function(){shinobi.notification.config=shinobi.notificationconfig.config}};
shinobi.config={current:{imserver:"ws://localhost:8081/authensocket",publicWebSocketUrl:"ws://localhost:8182/publicwebsocket"},getConfig:function(){switch(window.location.hostname){case "golddemo.hanzo.finance":shinobi.config.current.imserver="wss://golddemoprivatesocket.hanzo.finance/authensocket";shinobi.config.current.publicWebSocketUrl="wss://golddemopublicsocket.hanzo.finance/publicwebsocket";break;case "gold.hanzo.finance":shinobi.config.current.imserver="wss://goldprivatesocket.hanzo.finance/authensocket";
shinobi.config.current.publicWebSocketUrl="wss://goldpublicsocket.hanzo.finance/publicwebsocket";break;default:shinobi.config.current.imserver="ws://localhost:8081/authensocket",shinobi.config.current.publicWebSocketUrl="ws://localhost:8182/publicwebsocket"}}};
shinobi.accountefficiencyuserrender={build:function(a){this.renderAccountEfficiencyUser(a)},renderAccountEfficiencyUser:function(a){var b=shinobi.tableHelper.getColname("tableaccountefficiency"),c=shinobi.tableHelper.getRender("tableaccountefficiency");shinobi.accountefficiencyuserrender.tableaccountefficiency||(shinobi.accountefficiencyuserrender.tableaccountefficiency=new shinobi.table("tableaccountefficiency"));a={allocationaccount:a};shinobi.notification.notification.loading();shinobi.api.request("/authenapi/SystemUserApi/getInvestmentEfficiency",
JSON.stringify(a),function(a){shinobi.notification.notification.loaded();shinobi.accountefficiencyuserrender.tableaccountefficiency.clear();data=JSON.parse(a);shinobi.accountefficiencyuserrender.tableaccountefficiency.renderTable(b,data,c)})}};
shinobi.accountmanagementdetailrender={table:"",build:function(){var a=this;a.createStruct(function(b){a.getinfoUserAccount(b);a.loadData(b)})},loadData:function(a){var b={recordPerPage:shinobi.util.getRecordNumber("linkedpmaccounttable")},c=shinobi.tableHelper.getColname("linkedpmaccounttable"),d=shinobi.tableHelper.getRender("linkedpmaccounttable");this.table=new shinobi.table("linkedpmaccounttable");this.table.staticfilters=[{colname:"systemsubaccount",operator:"=",value:a}];this.table.initLoadApi("/authenapi/ClientAccountDetailApi/findDataList",
b,c,d)},createStruct:function(a){var b=shinobi.util.getAllSearchInPath().systemsubaccount;document.getElementById("accountmanagement").classList.add("is-active");a&&a(b)},getinfoUserAccount:function(a){shinobi.api.request("/authenapi/StockComAccountApi/getStockComAccountInfo",JSON.stringify({recordPerPage:"10",pageNum:1,systemsubaccount:a}),function(a){a=JSON.parse(a);console.log(a);var b=document.getElementById("nameuser");shinobi.mapping.renderElement(b,a)})}};
shinobi.accountmanagementrender={build:function(){this.changeNameCreateButton();this.addEventActiveModal();shinobi.fragmentfindandaddaccountmanagementrender.build();this.renderDataCustomerTable()},addEventActiveModal:function(){var a=this;document.getElementById("addAccountButton").onclick=function(){a.activeFirstModal()}},activeFirstModal:function(){var a=this,b=document.getElementById("addAccountUserModal"),c=b.querySelector(".button.create");b.classList.add("is-active");shinobi.selfemployedaccountrender.renderCompanySelect("companyNameaccount");
var d=function(c){shinobi.api.request("/authenapi/StockComAccountRegistrationApi/createStockComAccount",JSON.stringify(c),function(d){d=JSON.parse(d);setTimeout(function(){shinobi.notification.notification.loaded();b.classList.remove("is-active");shinobi.selfemployedaccountrender.checkChildAccount(d,c.name,function(b){setTimeout(function(){a.activeThirdModel(d,b)},1E3)},"disableReload")},2E3)})};c.onclick=function(){shinobi.notification.notification.loading();shinobi.mapping.getValueElement(b,function(a){var b=
{stockcom:a.stockcom,account:a.usernameaccount,username:a.usernameaccount,password:a.password,pincode:a.pincode,name:a.name};delete b.pincode;console.log(a,b);Object.values(b).includes("")?shinobi.util.fillInputMessage():d(b)},{checkEmpty:!0})}},activeThirdModel:function(a,b){var c=document.getElementById("addAccountAllocationModal");b=shinobi.selfemployedaccountrender.systemsubaccount;a=c.querySelector(".button.create");c.classList.add("is-active");shinobi.fragmentfindandaddaccountmanagementrender.getListPMAllotment("listpmusernameallocation");
a.onclick=function(){shinobi.mapping.getValueElement(c,function(a){var c={};c.systemsubaccount=b;c.startdate=a.startdate;c.enddate=a.enddate;c.profitcommisionratio=Number(a.profitcommisionratio)/100;c.managementfeeratio=Number(a.managementfeeratio)/100;"admin"!=a.pmusername&&(c.pmusername=a.pmusername,c.allocationratio=Number(a.allocationratio)/100);console.log(c);shinobi.api.request("/authenapi/AllocationManagementApi/setClientAllocation",JSON.stringify(c),function(a){shinobi.notification.notification.info("C\u1eadp nh\u1eadt th\u00e0nh c\u00f4ng !");
setTimeout(function(){window.location.reload()},2E3)})})}},renderMoreButton:function(a,b,c,d){b=a.innerHTML;a.innerHTML='\n      <div class="has-text-centered">       \n        <div class="dropdown is-up is-right more-button">\n          <div class="dropdown-trigger">\n            <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n              <span><i class="fas fa-ellipsis-v"></i></span>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n              <a class="dropdown-item pr-4">\n                Gia h\u1ea1n \u0111\u1ea7u t\u01b0\n              </a>\n              <a  class="dropdown-item pr-4 select-value" >\n                Xem chi ti\u1ebft\n              </a>\n              <a class="dropdown-item pr-4">\n                Xo\u00e1\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>';
c=a.querySelector(".select-value");shinobi.accountmanagementrender.sethrefSeeDetailAccount(c,b);var e=a.querySelector(".dropdown");e.onclick=function(){e.classList.toggle("is-active")}},sethrefSeeDetailAccount:function(a,b){a.setAttribute("href","/private/accountmanagementdetail?systemsubaccount="+b)},renderModifyButton:function(){document.querySelector("#addAccountModal").classList.add("is-active");shinobi.accountmanagementrender.settingModifyAccountModal();shinobi.fragmentfindandaddaccountmanagementrender.setUpPasswordInput()},
settingModifyAccountModal:function(){var a=document.querySelector("#addAccountModal #createModal"),b=document.querySelector("#addAccountModal #saveModal");a.style.display="none";b.style.display="block";document.querySelector("#addAccountModal .modal-card-title").innerText="Phan Huy T\u00edn"},changeNameCreateButton:function(){document.querySelector("#addAccountButton").innerText="Th\u00eam t\u00e0i kho\u1ea3n KH"},renderDataCustomerTable:function(a){a=shinobi.tableHelper.getColname("dataCustomerTable");
var b=shinobi.tableHelper.getRender("dataCustomerTable");if(!shinobi.accountmanagementrender.dataCustomerTable){var c=new shinobi.table("dataCustomerTable");shinobi.accountmanagementrender.dataCustomerTable=c}c={recordPerPage:shinobi.util.getRecordNumber("dataCustomerTable")};shinobi.accountmanagementrender.dataCustomerTable.initLoadApi("/authenapi/ClientStockComAccountManagementApi/findDataList",c,a,b)}};
shinobi.assetuserrender={portfolioTable:"",build:function(a){shinobi.assetuserrender.renderTableAssetUser(a);this.getAssetUser(a);this.addEventReloadAssetButton(a)},addEventReloadAssetButton:function(a){document.getElementById("updateAllocationAccountAssetButton").onclick=function(){a=document.getElementById("selectPM").value;shinobi.assetuserrender.getAssetUser(a);shinobi.assetuserrender.renderTableAssetUser(a)}},getAssetUser:function(a){a={allocationaccount:a};shinobi.notification.notification.loading();
shinobi.api.request("/authenapi/SystemUserApi/getAssetInfo",JSON.stringify(a),function(a){shinobi.mapping.clear("#assetvalue");shinobi.notification.notification.loaded();shinobi.mapping.render("#assetvalue",a)})},renderTableAssetUser:function(a){var b=shinobi.tableHelper.getColname("tableassetorder"),c=shinobi.tableHelper.getRender("tableassetorder");shinobi.assetuserrender.portfolioTable.hasOwnProperty("reloadApi")||(shinobi.assetuserrender.portfolioTable=new shinobi.table("tableassetorder"));a=
{allocationaccount:a};shinobi.notification.notification.loading();shinobi.api.request("/authenapi/SystemUserApi/getAssetInfo",JSON.stringify(a),function(a){shinobi.notification.notification.loaded();shinobi.assetuserrender.portfolioTable.clear();a=JSON.parse(a).portfolio;shinobi.assetuserrender.portfolioTable.renderTable(b,a,c)})},snbRenderButton:function(a,b,c,d){a.innerHTML='\n        <div class="has-text-centered">\n            <div class="buttons are-small is-centered">\n                <div class="button is-danger has-bsd is-borderless is-size-7">B\u00e1n</div>\n            </div>\n        </div>\n        '}};
shinobi.confirmemailregistrationrender={build:function(){shinobi.confirmemailregistrationrender.sendRequestConfirmRegistration()},sendRequestConfirmRegistration:function(){var a=window.location.pathname.split("/"),b=a[a.length-1],c={};c.requestid=a[a.length-2];c.validationcode=b;shinobi.api.request(shinobi.coreapi.userApi+"validateAccount",JSON.stringify(c),function(a){console.log(a);if("update success"==a){a=document.getElementById("confirmPanel");shinobi.util.modalEventListener(a);a.getElementsByClassName("modal-card-title")[0].innerHTML=
"Th\u00f4ng b\u00e1o";a.getElementsByClassName("modal-card-body")[0].innerHTML="X\u00e1c nh\u1eadn email <b>th\u00e0nh c\u00f4ng</b>.<br>Y\u00eau c\u1ea7u t\u1ea1o t\u00e0i kho\u1ea3n \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\u00fd v\u00e0 CFV s\u1ebd li\u00ean h\u1ec7 l\u1ea1i \u0111\u1ec3 cung c\u1ea5p t\u00e0i kho\u1ea3n.";a.getElementsByClassName("yes")[0].classList.add("is-primary");a.getElementsByClassName("yes")[0].innerHTML="V\u1ec1 trang ch\u1ee7";a.classList.remove("is-medium");a.classList.remove("is-large");
a.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden");var b=a.getElementsByClassName("yes")[0];a.getElementsByClassName("cancel")[0].classList.add("is-hidden");a.classList.add("is-active");b.focus();b.onclick=function(){window.location.href="/"}}})}};
shinobi.exportexcelrender={containerId:"adminDepositRequestContainer",title:"DEPOSIT",exportExcelApi:shinobi.coreapi.systemDepositApi+"exportExcel",init:function(){shinobi.exportexcelrender.addExportExcel()},addExportExcel:function(){document.getElementById(shinobi.exportexcelrender.containerId).querySelector(".export-excel").addEventListener("click",function(){var a=shinobi.exportexcelrender.exportExcelApi;console.log(a);shinobi.exportfile.exportFile(a,{},{})})}};
shinobi.forgotpasswordrender={submitButtonSelector:"#submit",containerSelector:".is-forgot-password",init:function(){shinobi.forgotpasswordrender.addEventSubmit()},addEventSubmit:function(){var a=document.querySelector(shinobi.forgotpasswordrender.submitButtonSelector);shinobi.forgotpasswordrender.addEventWhenClick(a);shinobi.forgotpasswordrender.addEventWhenEnter(a)},addEventWhenClick:function(a){a.onclick=function(){shinobi.forgotpasswordrender.request()}},addEventWhenEnter:function(a){a.addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.forgotpasswordrender.request()})},request:function(){var a=document.querySelector('input[snb-key="email"]');if(""==a.value.trim())shinobi.notification.notification.error("Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");else{var b={};b.email=a.value.trim();shinobi.notification.notification.loading();shinobi.api.request(shinobi.coreapi.userApi+"sendForGetPasswordEmail",JSON.stringify(b),function(a){"update success"==a&&(shinobi.notification.notification.loaded(),
shinobi.mapping.renderElement(document.querySelector(shinobi.forgotpasswordrender.containerSelector),b))})}},showNoteField:function(a,b,c){a.classList.remove("is-hidden")},disableInputAndButton:function(a,b,c){a.setAttribute("disabled",!0);document.querySelector(shinobi.forgotpasswordrender.submitButtonSelector).setAttribute("disabled",!0)}};
shinobi.fragmentfindandaddaccountmanagementrender={build:function(){shinobi.fragmentfindandaddaccountmanagementrender.activeTab();shinobi.fragmentfindandaddaccountmanagementrender.activeMenu();shinobi.fragmentfindandaddaccountmanagementrender.renderEventCreateButton();shinobi.fragmentfindandaddaccountmanagementrender.renderEventSaveButton();shinobi.fragmentfindandaddaccountmanagementrender.renderAutocompleteSearchingBar()},getListPMAllotment:function(a){var b=void 0===a?"listpmusername":a;a={recordPerPage:getRecordNumber(b)};
(new shinobi.datalist(b)).initLoadApi("/authenapi/PmManagementApi/findDataList",a,function(){var a=document.getElementById(b),d=document.createElement("option");d.setAttribute("value","admin");d.innerHTML="Kh\u00f4ng c\u00f3";d.selected=!0;a.insertBefore(d,a.firstChild)})},renderFullnameAllocation:function(a,b,c){a.setAttribute("value",b);a.innerHTML=c.firstname+" "+c.lastname},activeModal:function(){document.querySelector("#addAccountButton").onclick=function(){shinobi.selfemployedaccountrender.renderCompanySelect();
document.querySelector("#addAccountModal").classList.add("is-active");shinobi.fragmentfindandaddaccountmanagementrender.getListPMAllotment();shinobi.fragmentfindandaddaccountmanagementrender.settingCreateAccountModal();shinobi.fragmentfindandaddaccountmanagementrender.setUpPasswordInput()}},settingCreateAccountModal:function(){var a=document.querySelector("#addAccountModal #createModal"),b=document.querySelector("#addAccountModal #saveModal");a.style.display="block";b.style.display="none";document.querySelector("#addAccountModal .modal-card-title").innerText=
"Th\u00eam t\u00e0i kho\u1ea3n Kh\u00e1ch h\u00e0ng"},activeTab:function(){document.querySelector('.tabs-portfolio [href="'+window.location.pathname+'"]').parentNode.classList.add("is-active")},activeMenu:function(){var a=document.querySelector(".menu-left .menu-list .is-active");a&&a.classList.remove("is-active");document.querySelector('.menu-left .menu-list [href="/private/accountmanagement"]').classList.add("is-active")},setUpPasswordInput:function(){var a=document.querySelector("#addAccountModal #loginPassword input"),
b=document.querySelector("#addAccountModal #orderPassword input"),c=document.querySelector("#addAccountModal #loginPassword .button"),d=document.querySelector("#addAccountModal #orderPassword .button");shinobi.fragmentfindandaddaccountmanagementrender.showPassword(c,a);shinobi.fragmentfindandaddaccountmanagementrender.showPassword(d,b)},showPassword:function(a,b){b.setAttribute("type","password");a.innerHTML='<i class="fas fa-eye-slash"></i>';a.onclick=function(){"password"==b.getAttribute("type")?
(b.setAttribute("type","text"),a.innerHTML='<i class="fas fa-eye"></i>'):(b.setAttribute("type","password"),a.innerHTML='<i class="fas fa-eye-slash"></i>')}},getValue:function(a,b){shinobi.mapping.getValue(a,function(a){console.log("allocationratio",a);delete a.pincode;delete a.allocationratio;Object.values(a).includes("")?shinobi.util.fillInputMessage():b(a)},{checkEmpty:!0})},renderEventCreateButton:function(){var a=this;document.querySelector("#addAccountModal #createModal").onclick=function(){a.getValue("#addAccountModal",
function(b){console.log(b);a.createAccount(b,function(){a.addAllocationAccount(b)})})}},createAccount:function(a,b){shinobi.api.request("/authenapi/StockComAccountRegistrationApi/createStockComAccount",JSON.stringify({stockcom:a.stockcom,account:a.usernameaccount,username:a.usernameaccount,password:a.password,pincode:a.pincode,name:a.name,identitynumber:a.identitynumber,email:a.email,phonenumber:a.phonenumber}),function(a){b&&console.log("callback")})},addAllocationAccount:function(a){console.log({stockcom:a.stockcom,
account:a.username,username:a.username,password:a.password,pincode:a.pincode,name:a.name,identitynumber:a.identitynumber,email:a.email,phonenumber:a.phonenumber})},renderEventSaveButton:function(){document.querySelector("#addAccountModal #saveModal").onclick=function(){shinobi.fragmentfindandaddaccountmanagementrender.getValue("#addAccountModal",function(a){console.log(a)})}},renderAutocompleteSearchingBar:function(){new shinobi.autocomplete("#searchpmuser",{onSearch:function(a,b){console.log("search");
if(1>a.length)return[];shinobi.api.request("/authenapi/ClientStockComAccountManagementApi/findDataList",JSON.stringify({filters:[{colname:"account",operator:"like",value:a}],sorts:[]}),function(a){console.log(JSON.parse(a));data=JSON.parse(a).data;b(data)})},renderResult:function(a,b){return"\n                <li "+b+'>\n                    <div class="is-flex">\n                        <div>#'+a.account+"</div>\n                    </div>\n                </li>"},onSubmit:function(a){document.getElementById("searchpmuser").value=
a.account;shinobi.accountmanagementrender.dataCustomerTable.staticfilters=[{colname:"account",operator:"=",value:a.account}];shinobi.accountmanagementrender.dataCustomerTable.reloadApi()}})}};
shinobi.fragmentfindandaddpmmanagementrender={build:function(){shinobi.fragmentfindandaddpmmanagementrender.activeModal();shinobi.fragmentfindandaddpmmanagementrender.activeTab();shinobi.fragmentfindandaddpmmanagementrender.activeMenu();shinobi.fragmentfindandaddpmmanagementrender.renderEventCreateButton();shinobi.fragmentfindandaddpmmanagementrender.renderEventSaveButton();shinobi.fragmentfindandaddpmmanagementrender.renderAutocompleteSearchingBar();var a=document.querySelector("#addAccountModal #loginPassword input"),
b=document.querySelector("#addAccountModal #loginPassword .button");shinobi.fragmentfindandaddaccountmanagementrender.showPassword(b,a)},activeModal:function(){document.querySelector("#addAccountButton").onclick=function(){document.querySelector("#addAccountModal").classList.add("is-active");shinobi.fragmentfindandaddpmmanagementrender.settingCreateAccountModal()}},settingCreateAccountModal:function(){var a=document.querySelector("#addAccountModal #createModal"),b=document.querySelector("#addAccountModal #saveModal");
a.style.display="block";b.style.display="none";document.querySelector("#addAccountModal .modal-card-title").innerText="Th\u00eam t\u00e0i kho\u1ea3n PM"},activeTab:function(){document.querySelector('.tabs-portfolio [href="'+window.location.pathname+'"]').parentNode.classList.add("is-active")},activeMenu:function(){var a=document.querySelector(".menu-left .menu-list .is-active");a&&a.classList.remove("is-active");document.querySelector('.menu-left .menu-list [href="/private/accountmanagement"]').classList.add("is-active")},
getValue:function(a,b){shinobi.mapping.getValue(a,function(a){delete a.invitedby;console.log(a);Object.values(a).includes("")?shinobi.util.fillInputMessage():b(a)},{checkEmpty:!0})},renderEventCreateButton:function(){document.querySelector("#addAccountModal #createModal").onclick=function(){shinobi.fragmentfindandaddpmmanagementrender.getValue("#addAccountModal",function(a){a.isvalidated="true";console.log(a);shinobi.api.request("/authenapi/SystemUserApi/createPmUser",JSON.stringify(a),function(a){shinobi.notification.notification.info("T\u1ea1o t\u00e0i kho\u1ea3n PM th\u00e0nh c\u00f4ng !");
setTimeout(function(){window.location.reload()},3E3)})})}},renderEventSaveButton:function(){document.querySelector("#addAccountModal #saveModal").onclick=function(){shinobi.fragmentfindandaddpmmanagementrender.getValue("#addAccountModal",function(a){console.log(a)})}},renderAutocompleteSearchingBar:function(){new shinobi.autocomplete("#autocomplete",{onSearch:function(a,b){console.log("search");if(1>a.length)return[];shinobi.api.request("/authenapi/PmManagementApi/findDataList",JSON.stringify({filters:[{colname:"loginusername",
operator:"like",value:a}],sorts:[]}),function(a){data=JSON.parse(a).data;b(data)})},renderResult:function(a,b){return"\n                <li "+b+'>\n                    <div class="is-flex">\n                        <div>#'+a.loginusername+"</div>\n                        <div><"+a.firstname+" "+a.lastname+"></div>\n                    </div>\n                </li>"},onSubmit:function(a){document.getElementById("autocomplete").value=a.loginusername;shinobi.pmmanagementrender.pmmanagementboard.staticfilters=
[{colname:"loginusername",operator:"=",value:a.loginusername}];shinobi.pmmanagementrender.pmmanagementboard.reloadApi()}})}};shinobi.fragmentpermissionrender={build:function(){var a=window.location.pathname.split("/");console.log(a.length);if(3<a.length){for(var b="",c=3;c<a.length;c++)b+="/"+a[c],console.log(b);document.getElementById("messageContentPermissionId").innerHTML=" "+b}}};
shinobi.loginrender={init:function(){shinobi.loginrender.redirectIndex()},redirectIndex:function(){window.location.href="/"},gotoLoginPage:function(){window.location.href="/page/login"}};
shinobi.logintemplate={build:function(){shinobi.logintemplate.redirectDashboardWhenLogged();shinobi.logintemplate.checkHasNoti();document.getElementById("submit").addEventListener("click",function(){shinobi.logintemplate.login()});shinobi.logintemplate.autoCompleteWhenNewAccount();shinobi.logintemplate.sendOTPCode();document.querySelector("#ipUsername").addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.logintemplate.login()});document.querySelector("#ipPassword").addEventListener("keypress",
function(a){13===(a.which||a.keyCode)&&shinobi.logintemplate.login()});document.querySelector("#ipOtpCode").addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.logintemplate.login()})},autoCompleteWhenNewAccount:function(){var a=shinobi.util.getAllSearchInPath(),b=document.getElementById("ipUsername");document.getElementById("ipPassword");a.hasOwnProperty("loginname")&&(b.value=a.loginname)},redirectDownloadAppMobile:function(){var a=navigator.userAgent||navigator.vendor||window.opera;
/android/i.test(a)&&(window.location.href="https://play.google.com/store/apps/details?id=com.aladinmobile.aladin");/iPhone|iPod/.test(a)&&!window.MSStream&&(window.location.href="https://apps.apple.com/app/id1474783146")},checkHasNoti:function(){for(var a=window.location.search.split("?"),b=0;b<a.length;b++)a[b].includes("noti=")&&"registrationsuccess"==a[b].replace("noti=","")&&shinobi.notification.notification.info("M\u1edf t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng. Vui l\u00f2ng \u0111\u0103ng nh\u1eadp l\u1ea1i. ")},
redirectDashboardWhenLogged:function(){shinobi.coreapi.checkNotCacheAuthen(function(a){a&&shinobi.logintemplate.redirectAffterLogin()})},redirectAffterLogin:function(){getUserInfo(function(a){"SUPERADMIN"==a.usertype?window.location.pathname="/private/selfemployedaccount":"PM"==a.usertype?window.location.pathname="/private/tradingsystem":"PMALADIN"==a.usertype&&(window.location.pathname="/private/tradingsystem")})},login:function(){var a=document.getElementById("ipUsername"),b=document.getElementById("ipPassword"),
c=document.getElementById("ipOtpCode");if(""==a.value.trim()||""==b.value.trim()||""==c.value.trim())[{input:a,name:"T\u00ean \u0111\u0103ng nh\u1eadp"},{input:b,name:"M\u1eadt kh\u1ea9u"},{input:c,name:"OTP"}].forEach(function(a){""==a.input.value.trim()&&shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin "+a.name+"!!")});else{var d={};d.username=a.value.trim();d.password=shinobi.util.sha256(b.value.trim());d.secureinfo=c.value.trim();shinobi.notification.notification.loading();
shinobi.logintemplate.requestLogin(d,"/login")}},requestLogin:function(a,b){shinobi.api.request(b,JSON.stringify(a),function(a){"authen success"==a?shinobi.logintemplate.redirectAffterLogin():shinobi.notification.notification.error("T\u00e0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u sai!!!")})},sendOTPCode:function(){document.getElementById("sendOTPLogin").onclick=function(){var a=document.getElementById("ipUsername").value;a?shinobi.api.request("/api/AuthenLoginByOptEmailApi/sendOtp",JSON.stringify({username:a}),
function(a){console.log(a);shinobi.notification.notification.info("G\u1eedi th\u00e0nh c\u00f4ng!")}):shinobi.notification.notification.error("C\u1ea7n nh\u1eadp t\u00ean \u0111\u0103ng nh\u1eadp \u0111\u1ec3 g\u1eedi m\u00e3 OTP!")}}};shinobi.notificationdetailrender={init:function(){shinobi.notificationdetailrender.renderNotiContent()},renderNotiContent:function(){console.log("render")}};
shinobi.operationsmanagementrender={build:function(){this.activeTab();this.renderOperationsList();this.renderTypeSelector();this.renderSearchingButton();this.setLabelCalendarPicker();this.reloadApiFilterButton()},activeTab:function(){getUserInfo(function(a){document.querySelector('#menuleft [value="'+a.usertype+'"] a[href="/private/operationsmanagement"').classList.add("is-active")})},renderOperationsList:function(){var a=shinobi.tableHelper.getColname("dataContainer"),b=shinobi.tableHelper.getRender("dataContainer"),
c={recordPerPage:shinobi.util.getRecordNumber("dataContainer")};shinobi.operationsmanagementrender.dataContainer||(shinobi.operationsmanagementrender.dataContainer=new shinobi.table("dataContainer"));shinobi.operationsmanagementrender.dataContainer.staticsorts=[{colname:"createddate",value:"desc"}];shinobi.operationsmanagementrender.dataContainer.initLoadApi("/authenapi/UserAcivityApi/findDataList",c,a,b)},renderNameOperations:function(a,b,c,d){value=a.innerHTML;shinobi.operationsmanagementrender.titleOperation.hasOwnProperty(value)&&
(a.innerHTML=shinobi.operationsmanagementrender.titleOperation[value])},titleOperation:{ALL:"T\u1ea4T C\u1ea2",LOGIN:"\u0110\u0102NG NH\u1eacP",LOGOUT:"\u0110\u0102NG XU\u1ea4T",SYSTEM_FORCE_LOGOUT_ALL:"\u0110\u0102NG XU\u1ea4T T\u1ea4T C\u1ea2",CREATE_USER:"T\u1ea0O T\u00c0I KHO\u1ea2N",CREATE_STOCK_COM_ACCOUNT:"T\u1ea0O T\u00c0I KHO\u1ea2N T\u1ef0 DOANH",CONFIG_CLIENT_ALLOCATION:"C\u1ea4U H\u00ccNH PH\u00c2N B\u1ed4 KH\u00c1CH H\u00c0NG",CONFIG_ORIGIN_ALLOCATION:"C\u1ea4U H\u00ccNH PH\u00c2N B\u1ed4 T\u1ef0 DOANH",
FOLLOW_TRADING:"THEO D\u00d5I \u0110\u1eb6T L\u1ec6NH",UNFOLLOW_TRADING:"B\u1ece THEO D\u00d5I \u0110\u1eb6T L\u1ec6NH",PLACE_ORIGINAL_SIGNAL:"\u0110\u1eb6T L\u1ec6NH",CANCEL_ORIGINAL_SIGNAL:"H\u1ee6Y L\u1ec6NH",FOLLOW_SIGNAL:"THEO T\u00cdN HI\u1ec6U",FOLLOW_CANCEL_SIGNAL:"THEO T\u00cdN HI\u1ec6U HU\u1ef6",VPS_PAYMENT_AUDIT:"KI\u1ec2M TO\u00c1N THANH TO\u00c1N VPS"},renderTypeSelector:function(){shinobi.operationsmanagementrender.titleoperationsselector||(shinobi.operationsmanagementrender.titleoperationsselector=
new shinobi.datalist("titleoperationsselector"));for(var a=Object.entries(shinobi.operationsmanagementrender.titleOperation),b=0;b<a.length;b++)a[b]={value:a[b][0],name:a[b][1]};shinobi.operationsmanagementrender.titleoperationsselector.renderTable(a)},renderEachElemSelector:function(a,b,c){a.innerHTML=c.name;a.setAttribute("value",c.value)},renderSearchingButton:function(){document.getElementById("searchingButton").onclick=function(){var a=document.getElementById("titleoperationsselector").value;
if(a){try{shinobi.mapping.getValue("#searchinghistory",function(a){b=a.date;b.beginDate=shinobi.util.reverseFormatDate(b.beginDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"});b.endDate=shinobi.util.reverseFormatDate(b.endDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"})})}catch(c){var b={}}shinobi.operationsmanagementrender.dataContainer.staticfilters="ALL"!=a?b.endDate?[{colname:"name",operator:"=",value:a},{colname:"createddate",operator:">=",value:b.beginDate},{colname:"createddate",
operator:"<=",value:b.endDate}]:[{colname:"name",operator:"=",value:a}]:b.endDate?[{colname:"createddate",operator:">=",value:b.beginDate},{colname:"createddate",operator:"<=",value:b.endDate}]:[];shinobi.operationsmanagementrender.dataContainer.reloadApi();shinobi.operationsmanagementrender.renderFilterButton(!0)}}},setLabelCalendarPicker:function(){var a=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate();this.calendar=bulmaCalendar.attach('[type="date"]',{dateFormat:"DD/MM/YYYY",
displayMode:"dialog",closeOnOverlayClick:!1,startDate:new Date("2000/1/1"),endDate:new Date(a)})},renderFilterButton:function(a){var b=document.getElementById("cancelfilter");a?b.classList.remove("is-hidden"):b.classList.add("is-hidden")},reloadApiFilterButton:function(){document.getElementById("cancelfilter").onclick=function(){shinobi.operationsmanagementrender.dataContainer.staticfilters=[];document.getElementById("titleoperationsselector").value="ALL";shinobi.operationsmanagementrender.dataContainer.reloadApi();
shinobi.operationsmanagementrender.renderFilterButton(!1)}}};
shinobi.ordercommandmanagementrender={calendar:"",build:function(){shinobi.ordercommandmanagementrender.activeTab();shinobi.ordercommandmanagementrender.renderOrderCommandTable();shinobi.ordercommandmanagementrender.renderSelfEmployedSelector();shinobi.ordercommandmanagementrender.renderSearchingButton();shinobi.ordercommandmanagementrender.setLabelCalendarPicker();shinobi.ordercommandmanagementrender.renderAutocompleteSearchingBar();shinobi.ordercommandmanagementrender.reloadApiFilterButton()},activeTab:function(){getUserInfo(function(a){document.querySelector('#menuleft [value="'+
a.usertype+'"] a[href="/private/ordercommandmanagement"').classList.add("is-active")})},renderMoreButton:function(a,b,c,d){a.innerHTML='\n              <div class="has-text-centered">    \n                <div class="dropdown is-right more-button">\n                  <div class="dropdown-trigger">\n                    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n                        <span><i class="fas fa-ellipsis-v"></i></span>\n                    </button>\n                </div>\n                <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                    <div class="dropdown-content">\n                        <a class="dropdown-item pr-4" onclick="shinobi.ordercommandmodal.openModalAddChildCommand()">\n                            Th\u00eam l\u1ec7nh\n                        </a>\n                        \n        <a class="dropdown-item see-detail-order pr-4">\n            Chi ti\u1ebft l\u1ec7nh\n        </a>\n        \n                        <a class="dropdown-item pr-4">\n                            Xo\u00e1\n                        </a>\n                    </div>\n                  </div>\n                </div>\n            </div>';
a.querySelector(".see-detail-order").onclick=function(){shinobi.ordercommandmanagementrender.modalSeeDetailOrderCommand(d[b])};var e=a.querySelector(".dropdown");e.onclick=function(){e.classList.toggle("is-active")}},renderChildOrderCommand:function(a,b,c,d){a.innerHTML='\n            <div class="button is-borderless has-background-transparent is-fullwidth level">\n                <div class="has-margin-block-auto">'+d[b].fullname+'</div>\n                <div class="has-margin-block-auto pl-2" value="closed">               \n                    <i class="fal fa-angle-down"></i>\n                </div>\n            </div>\n        ';
shinobi.ordercommandmanagementrender.renderChildDetailButton(a,b,c,d)},renderSeeDetail:function(a){},renderOrderCommandTable:function(){var a=shinobi.tableHelper.getColname("linkedpmaccounttable"),b=shinobi.tableHelper.getRender("linkedpmaccounttable");url="/authenapi/OriginalSignalHistoryApi/findDataList";var c={recordPerPage:shinobi.util.getRecordNumber("linkedpmaccounttable")};if(!shinobi.ordercommandmanagementrender.ordercommandTable){var d=new shinobi.table("linkedpmaccounttable");shinobi.ordercommandmanagementrender.ordercommandTable=
d}shinobi.ordercommandmanagementrender.ordercommandTable.staticsorts=[{colname:"createddate",value:"desc"}];shinobi.ordercommandmanagementrender.ordercommandTable.initLoadApi(url,c,a,b)},renderModifyButton:function(){},renderChildDetailButton:function(a,b,c,d){var e=a.children[0];e.onclick=function(){var f=e.children[1];"closed"==f.getAttribute("value")?(f.innerHTML='<i class="fal fa-angle-up"></i>',f.setAttribute("value","opened"),f=a.parentNode,f.classList.add("is-active")):(f.innerHTML='<i class="fal fa-angle-down"></i>',
f.setAttribute("value","closed"),f=a.parentNode,f.classList.remove("is-active"));shinobi.ordercommandmanagementrender.renderChildDetailBar(a,b,c,d)}},setValueForEachTrTable:function(){for(var a=document.querySelectorAll("#linkedpmaccounttable tr"),b=0;b<a.length;b++)a[b].setAttribute("value",b)},getDataForChildButton:function(a,b,c,d,e){shinobi.api.request("/authenapi/SignalListApi/getSignalList",JSON.stringify({filters:[{colname:"originalsignalid",operator:"=",value:d[b].originalsignalid}],sorts:[]}),
function(b){b=JSON.parse(b);b=b.data;b.length?"actived"==e?shinobi.ordercommandmanagementrender.renderDataForChildTable(a,a.parentNode.parentNode,b):shinobi.ordercommandmanagementrender.deleteChildData(a,b):console.log("Data is null")})},renderChildDetailBar:function(a,b,c,d){a.parentNode.classList.contains("is-active")?shinobi.ordercommandmanagementrender.getDataForChildButton(a,b,c,d,"actived"):shinobi.ordercommandmanagementrender.getDataForChildButton(a,b,c,d,"")},renderDataForChildTable:function(a,
b,c){for(var d=0;d<c.length;d++){var e=document.createElement("tr");e.setAttribute("class","child-container");e.innerHTML='\n                <td snb-key="fullname" snb-render="shinobi.ordercommandmanagementrender.renderChildChildFullName">                </td>\n                <td snb-key="createddate" snb-render="shinobi.roottemplate.renderElemTextCentered">             </td>\n                <td snb-key="allocationaccount" snb-render="shinobi.roottemplate.renderElemTextCentered">       </td>\n                <td snb-key="allocationratio" snb-render="shinobi.roottemplate.renderElemTextCentered">         </td>\n                <td snb-key="orderid" snb-render="shinobi.roottemplate.renderElemTextCentered">                 </td>\n                <td snb-key="stockcode" snb-render="shinobi.roottemplate.renderElemTextCentered">               </td>\n                <td snb-key="price" snb-render="shinobi.roottemplate.renderElemTextCentered">                   </td>\n                <td snb-key="volume" snb-render="shinobi.roottemplate.renderElemTextCentered">                  </td>\n                <td class="has-text-centered" snb-key="status" snb-render="shinobi.ordercommandmanagementrender.renderStatusChildSetting">                  </td>\n                <td snb-key="description" snb-render="shinobi.ordercommandmanagementrender.formatDescription">        </td>\n                <td snb-key="allocationaccount" snb-render="shinobi.ordercommandmanagementrender.renderMoreChildButton"></td>';
b.appendChild(e);shinobi.mapping.renderElement(e,c[d]);a.parentNode.parentNode.insertBefore(e,a.parentNode.nextSibling)}},renderChildChildFullName:function(a,b,c){a.innerHTML='<div class="button is-borderless has-background-transparent is-fullwidth level">\n                        '+b+"\n                        </div>"},formatDescription:function(a,b,c){b=shinobi.ordercommandmanagementrender.renderNoticeSub(b);a.innerHTML='<div class="order-command-notice is-italic"> '+b+" </div>"},renderMoreChildButton:function(a,
b,c){getUserInfo(function(b){b=b.usertype;var d='<a class="container-href is-hidden"></a>';"PMALADIN"==b&&(d='\n                <a class="dropdown-item pr-4 container-href">\n                    Xem th\u00eam\n                </a>');a.innerHTML='\n            <div class="has-text-centered">    \n              <div class="dropdown is-up is-right more-button">\n                <div class="dropdown-trigger">\n                  <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n                      <span><i class="fas fa-ellipsis-v"></i></span>\n                  </button>\n              </div>\n              <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                  <div class="dropdown-content">\n                        <a class="dropdown-item pr-4" onclick="shinobi.ordercommandmodal.ModifyModalAddChildCommand()">\n                          Ch\u1ec9nh s\u1eeda\n                        </a>\n                        \n            <a class="dropdown-item see-detail-order pr-4">\n                Chi ti\u1ebft l\u1ec7nh\n            </a>\n            \n                        '+
d+'\n                        <a class="dropdown-item pr-4">\n                          Xo\u00e1\n                        </a>\n                    </div>\n                </div>\n              </div>\n            </div>';var f=a.querySelector(".container-href");console.log(f);a.querySelector(".see-detail-order").onclick=function(){shinobi.ordercommandmanagementrender.modalSeeDetailOrderCommand(c)};f.onclick=function(){shinobi.ordercommandmanagementrender.transferTradingPage(c.allocationaccount)};
var g=a.querySelector(".dropdown");g.onclick=function(){g.classList.toggle("is-active")};console.log("usertype",b,"seeDetail",d)})},transferTradingPage:function(a){window.location.href="/private/tradingsystem?allocationaccount="+a},deleteChildData:function(a,b){a=a.parentNode;for(var c=0;c<b.length;c++){var d=a.nextSibling;d.classList.contains("child-container")&&d.remove()}},renderSelfEmployedSelector:function(){var a={recordPerPage:shinobi.util.getRecordNumber("selfemplyedaccountselection")},b=
new shinobi.datalist("selfemplyedaccountselection");shinobi.api.request("/authenapi/StockComAccountApi/getListOriginStockComAccount",JSON.stringify(a),function(a){a=JSON.parse(a);b.renderTable(a)})},renderPmSelector:function(){var a={recordPerPage:shinobi.util.getRecordNumber("pmaccountselection")},b=new shinobi.datalist("pmaccountselection");shinobi.api.request("/authenapi/SystemUserApi/getUserInfo",JSON.stringify(a),function(a){a=JSON.parse(a);b.renderTable(a.data)})},renderFullname:function(a,
b,c){a.setAttribute("value",b);a.innerHTML=c.fullname},renderName:function(a,b,c){a.setAttribute("value",b);a.innerHTML=c.name},setLabelCalendarPicker:function(){var a=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate();this.calendar=bulmaCalendar.attach('[type="date"]',{dateFormat:"DD/MM/YYYY",displayMode:"dialog",closeOnOverlayClick:!1,startDate:new Date("2000/1/1"),endDate:new Date(a)})},renderSearchingButton:function(){getUserInfo(function(a){a=a.usertype;"PMALADIN"==
a?shinobi.ordercommandmanagementrender.renderSearchingButtonPMAladin():"SUPERADMIN"==a&&shinobi.ordercommandmanagementrender.renderSearchingButtonSuperAdmin()})},renderSearchingButtonPMAladin:function(){document.getElementById("pmListSearch").classList.add("is-hidden");document.getElementById("searchOrderCommand").onclick=function(){var a=document.getElementById("selfemplyedaccountselection").value;if(a){console.log("searched");try{shinobi.mapping.getValue("#searchinghistory",function(a){b=a.date;
b.beginDate=shinobi.util.reverseFormatDate(b.beginDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"});b.endDate=shinobi.util.reverseFormatDate(b.endDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"})})}catch(c){var b={}}shinobi.ordercommandmanagementrender.reloadOrderCommandTable(null,a,b.beginDate,b.endDate,"PMALADIN")}}},renderSearchingButtonSuperAdmin:function(){document.getElementById("searchOrderCommand").onclick=function(){var a=document.getElementById("selfemplyedaccountselection").value,
b=document.getElementById("autocomplete").getAttribute("value");if(a){console.log("searched");try{shinobi.mapping.getValue("#searchinghistory",function(a){c=a.date;c.beginDate=shinobi.util.reverseFormatDate(c.beginDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"});c.endDate=shinobi.util.reverseFormatDate(c.endDate,{reverseFormat:"dd/MM/yyyy",format:"yyyy-MM-dd"})})}catch(d){var c={}}shinobi.ordercommandmanagementrender.reloadOrderCommandTable(b,a,c.beginDate,c.endDate,"SUPERADMIN")}}},reloadOrderCommandTable:function(a,
b,c,d,e){"SUPERADMIN"==e&&shinobi.ordercommandmanagementrender.reloadOrderCommandTableAsSuperAdmin(a,b,c,d);"PMALADIN"==e&&shinobi.ordercommandmanagementrender.reloadOrderCommandTableAsPMAladin(b,c,d)},reloadOrderCommandTableAsSuperAdmin:function(a,b,c,d){shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters=d?a?[{colname:"placedby",operator:"=",value:a},{colname:"allocationaccount",operator:"like",value:b},{colname:"createddate",operator:">=",value:c},{colname:"createddate",operator:"<=",
value:d}]:[{colname:"allocationaccount",operator:"like",value:b},{colname:"createddate",operator:">=",value:c},{colname:"createddate",operator:"<=",value:d}]:a?[{colname:"placedby",operator:"=",value:a},{colname:"allocationaccount",operator:"like",value:b}]:[{colname:"allocationaccount",operator:"like",value:b}];shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();shinobi.ordercommandmanagementrender.renderFilterButton(!0)},reloadOrderCommandTableAsPMAladin:function(a,b,c){shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters=
c?[{colname:"allocationaccount",operator:"like",value:a},{colname:"createddate",operator:">=",value:b},{colname:"createddate",operator:"<=",value:c}]:[{colname:"allocationaccount",operator:"like",value:a}];shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();shinobi.ordercommandmanagementrender.renderFilterButton(!0)},renderAutocompleteSearchingBar:function(){new shinobi.autocomplete("#autocomplete",{onSearch:function(a,b){if(1>a.length)return[];shinobi.api.request("/authenapi/SystemUserApi/getUserInfo",
JSON.stringify({filters:[{colname:"name",operator:"like",value:a}],sorts:[]}),function(a){data=JSON.parse(a).data;b(data)})},renderResult:function(a,b){console.log(a);return"\n                <li "+b+'>\n                    <div class="is-flex">\n                        <div>'+a.name+"</div>\n                    </div>\n                </li>"},onSubmit:function(a){var b=document.getElementById("autocomplete");b.value=a.name;b.setAttribute("value",a.username)}})},renderStatusSetting:function(a,b,c,
d){switch(d[b].status){case "EXECUTED":d[b].status="\u0110\u00e3 x\u1eed l\u00fd";break;case "INVALID":d[b].status="Kh\u00f4ng h\u1ee3p l\u1ec7";break;case "INPROCESS":d[b].status="\u0110ang x\u1eed l\u00fd"}a.innerHTML='<div class="has-text-centered">'+d[b].status+"</div>"},childStatusOrder:{SUCCESS:"Th\u00e0nh c\u00f4ng",ERROR:"Th\u1ea5t b\u1ea1i",PENDING:"Ch\u01b0a x\u1eed l\u00fd",CANCELED:"\u0110\u00e3 hu\u1ef7"},renderStatusChildSetting:function(a,b,c){shinobi.ordercommandmanagementrender.childStatusOrder[""+
b]&&(b=shinobi.ordercommandmanagementrender.childStatusOrder[""+b]);a.innerHTML="Th\u00e0nh c\u00f4ng"==b?'<div class="has-text-success">'+b+"</div>":"Th\u1ea5t b\u1ea1i"==b?'<div class="has-text-danger">'+b+"</div>":'<div class="">'+b+"</div>"},noticeOrder:{INVALID_ORIGINAL_SIGNAL:"T\u00edn hi\u1ec7u g\u1ed1c kh\u00f4ng h\u1ee3p l\u1ec7",INVALID_SIGNAL_TYPE:"Lo\u1ea1i t\u00edn hi\u1ec7u kh\u00f4ng h\u1ee3p l\u1ec7",INVALID_USER_PLACING_SIGNAL:"User kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p \u0111\u1eb7t l\u1ec7nh",
INVALID_STOCK_CODE:"M\u00e3 ch\u1ee9ng kho\u00e1n kh\u00f4ng h\u1ee3p l\u1ec7",INVALID_PRICE:"Gi\u00e1 kh\u00f4ng h\u1ee3p l\u1ec7",INVALID_PRICE_STEP:"B\u01b0\u1edbc g\u00eda kh\u00f4ng h\u1ee3p l\u1ec7",ORDER_VOLUME_MUST_BE_GREATER_THAN_MIN_VOLUME:"Kh\u1ed1i l\u01b0\u1ee3ng l\u1ec7nh ph\u1ea3i l\u1edbn h\u01a1n 100",ORDER_PRICE_MUST_LIES_INSIDE_INTERVAL:"Gi\u00e1 \u0111\u1eb7t ph\u1ea3i n\u1eb1m trong kho\u1ea3ng gi\u00e1",ORDER_VOLUME_MUST_BE_GREATER_THAN_ZERO:"Kh\u1ed1i l\u01b0\u1ee3ng l\u1ec7nh ph\u1ea3i l\u1edbn h\u01a1n 0",
INVALID_VOLUME_STEP:"B\u01b0\u1edbc kh\u1ed1i l\u01b0\u1ee3ng kh\u00f4ng h\u1ee3p l\u1ec7 - Kh\u1ed1i l\u01b0\u1ee3ng theo l\u00f4 100",INVALID_ORDER_SIDE:"Side kh\u00f4ng h\u1ee3p l\u1ec7 - MUA / B\u00c1N",INVALID_ORDER_TYPE:"Lo\u1ea1i kh\u00f4ng h\u1ee3p l\u1ec7 - MUA / B\u00c1N",TRADING_GROUP_NOT_FOUND:"Kh\u00f4ng t\u00ecm th\u1ea5y nh\u00f3m l\u1ec7nh",STOCK_CODE_NOT_IN_PORTFOLIO:"M\u00e3 ch\u1ee9ng kho\u00e1n kh\u00f4ng c\u00f3 trong danh m\u1ee5c",SIGNAL_VOLUME_MORE_THAN_PORTFOLIO:"Kh\u1ed1i l\u01b0\u1ee3ng l\u1ec7nh l\u1edbn h\u01a1n kh\u1ed1i l\u01b0\u1ee3ng th\u1ef1c trong danh m\u1ee5c",
SIGNAL_VALUE_MORE_THAN_PURCHASING_POWER:"S\u1ee9c mua kh\u00f4ng \u0111\u1ee7",CAN_NOT_FIND_ORIGINAL_SIGNAL:"Kh\u00f4ng t\u00ecm th\u1ea5y t\u00edn hi\u1ec7u g\u1ed1c",NOT_YOUR_SIGNAL:"Kh\u00f4ng ph\u1ea3i t\u00edn hi\u1ec7u c\u1ee7a b\u1ea1n",CAN_NOT_FIND_ORDER:"Kh\u00f4ng t\u00ecm th\u1ea5y l\u1ec7nh",DO_NOT_HAVE_SIGNAL_TO_CANCEL:"Kh\u00f4ng c\u00f3 l\u1ec7nh \u0111\u1ec3 h\u1ee7y",CAN_NOT_CREATE_COPYTRADE_SIGNAL_TO_PM_BY_PMALADIN:"Kh\u00f4ng th\u1ec3 \u0111\u00e1nh copytrade tr\u00ean t\u00e0i kho\u1ea3n PM b\u1eb1ng PMAladin",
PLACE_VPS_NORMAL_ORDER_FAILURE:"Kh\u00f4ng th\u1ec3 \u0111\u1eb7t l\u1ec7nh tr\u00ean VPS",CANCEL_VPS_ORDER_FAILURE:"Hu\u1ef7 l\u1ec7nh VPS th\u1ea5t b\u1ea1i",THIS_STOCK_IS_RESTRICTED_FROM_TRADING_FOR_THIS_ACCOUNT:"M\u00e3 ch\u1ee9ng kho\u00e1n b\u1ecb gi\u1edbi h\u1ea1n giao d\u1ecbch tr\u00ean t\u00e0i kho\u1ea3n n\u00e0y",CALL_VPS_PROXY_API_FAILURE:"Kh\u00f4ng th\u1ec3 call API c\u1ee7a VPS"},renderNoticeSub:function(a){shinobi.ordercommandmanagementrender.noticeOrder[""+a]&&(a=shinobi.ordercommandmanagementrender.noticeOrder[""+
a]);return a},renderFilterButton:function(a){var b=document.getElementById("cancelfilter");a?b.classList.remove("is-hidden"):b.classList.add("is-hidden")},reloadApiFilterButton:function(){document.getElementById("cancelfilter").onclick=function(){shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters=[];shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();shinobi.ordercommandmanagementrender.renderFilterButton(!1)}},modalSeeDetailOrderCommand:function(a){var b=document.getElementById("seeDetailOrderModal");
b.classList.add("is-active");document.querySelectorAll("#seeDetailOrderModal [snb-key]").forEach(function(a){a.innerHTML=""});shinobi.mapping.renderElement(b,a)},subSideLeftDetailOrder:function(a,b,c){c={BUY:"MUA",SELL:"B\u00c1N"};c[""+b]&&(b=c[""+b]);a.innerHTML='\n        <div class="has-text-left">'+b+"</div>\n        ";"MUA"==b?a.querySelector("div").style.color="#48c78e":"B\u00c1N"==b&&(a.querySelector("div").style.color="#f14668")}};
shinobi.ordercommandmodal={build:function(){},openModalAddChildCommand:function(){shinobi.ordercommandmodal.activeModal("addChildOrderCommand")},ModifyModalAddChildCommand:function(){shinobi.ordercommandmodal.activeModal("modifyChildOrderCommand")},activeModal:function(a){document.getElementById(a).classList.add("is-active")}};
shinobi.ordermanagementrender={table:"",build:function(){shinobi.ordermanagementrender.renderTable()},renderTable:function(){var a=shinobi.coreapi.inprocessOrderApi+"findDataList",b={};b.recordPerPage=shinobi.util.getRecordNumber("dataContainer");var c=shinobi.tableHelper.getColname("dataContainer"),d=shinobi.tableHelper.getRender("dataContainer");shinobi.ordermanagementrender.table=new shinobi.table("dataContainer");shinobi.ordermanagementrender.table.staticfilters=[];shinobi.ordermanagementrender.table.staticsorts=
[{colname:"createddate",value:"desc"}];shinobi.ordermanagementrender.table.initLoadApi(a,b,c,d)},renderButtonCancelOrder:function(a,b,c,d){var e=a.innerHTML;a.innerHTML="";b=document.createElement("a");b.setAttribute("class","button is-small is-danger");b.innerHTML="H\u1ee7y";b.onclick=function(){shinobi.notification.notification.loading();var a=shinobi.coreapi.systemOrderManagement+"forceCancelOrder",b={};b.orderid=e;shinobi.api.request(a,JSON.stringify(b),function(a){shinobi.ordermanagementrender.table.reloadApi()})};
a.appendChild(b)}};
shinobi.pmmanagementrender={build:function(){shinobi.pmmanagementrender.changeNameCreateButton();shinobi.pmmanagementrender.renderPMTableData()},shaPassword:function(a){return shinobi.util.sha256(a)},renderMoreButton:function(a,b,c,d){a.innerHTML='\n      <div class="has-text-centered">    \n        <div class="dropdown is-up is-right more-button">\n          <div class="dropdown-trigger">\n            <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span><i class="fas fa-ellipsis-v"></i></span>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a class="dropdown-item pr-4" onclick="shinobi.pmmanagementrender.renderModifyButton()">\n                    Ch\u1ec9nh s\u1eeda\n                </a>\n                <a class="dropdown-item pr-4">\n                    Xo\u00e1\n                </a>\n            </div>\n          </div>\n        </div>\n      </div>';var e=
a.querySelector(".dropdown");e.onclick=function(){e.classList.toggle("is-active")}},renderModifyButton:function(){document.querySelector("#addAccountModal").classList.add("is-active");shinobi.pmmanagementrender.settingModifyAccountModal()},settingModifyAccountModal:function(){var a=document.querySelector("#addAccountModal #createModal"),b=document.querySelector("#addAccountModal #saveModal");a.style.display="none";b.style.display="block";document.querySelector("#addAccountModal .modal-card-title").innerText=
"Phan Huy T\u00edn"},changeNameCreateButton:function(){document.querySelector("#addAccountButton").innerText="Th\u00eam t\u00e0i kho\u1ea3n PM"},renderPMTableData:function(){var a=shinobi.tableHelper.getColname("pmmanagementboard"),b=shinobi.tableHelper.getRender("pmmanagementboard");if(!shinobi.pmmanagementrender.pmmanagementboard){var c=new shinobi.table("pmmanagementboard");shinobi.pmmanagementrender.pmmanagementboard=c}shinobi.pmmanagementrender.pmmanagementboard.staticsorts=[{colname:"createddate",
value:"desc"}];c={recordPerPage:shinobi.util.getRecordNumber("pmmanagementboard")};shinobi.pmmanagementrender.pmmanagementboard.initLoadApi("/authenapi/PmManagementApi/findDataList",c,a,b)},renderFullname:function(a,b,c,d){console.log(d);a.innerHTML=d[b].firstname+" "+d[b].lastname}};
shinobi.portfoliousermenurender={build:function(){shinobi.portfoliousermenurender.activeMenu();shinobi.portfoliousermenurender.renderHiddenTable("#portfoliousermenu ul li");shinobi.portfoliousermenurender.renderHiddenTable("#tabsmatchingorder ul li")},activeMenu:function(){shinobi.portfoliousermenurender.renderActiveTab("#portfoliousermenu ul li");shinobi.portfoliousermenurender.renderActiveTab("#tabsmatchingorder ul li")},renderActiveTab:function(a){var b=document.querySelectorAll(a),c=document.getElementById("refreshportfolio");
b.forEach(function(d){d.onclick=function(){b.forEach(function(a){a.classList.remove("is-active")});d.classList.add("is-active");shinobi.portfoliousermenurender.renderHiddenTable(a);0==document.querySelector('#tabsmatchingorder [value="tablematchingorderhistory"]').classList.contains("is-active")?(document.getElementById("searchinghistory").classList.add("is-hidden"),c.classList.remove("is-hidden")):(document.getElementById("searchinghistory").classList.remove("is-hidden"),c.classList.add("is-hidden"))}})},
renderHiddenTable:function(a){document.querySelectorAll(a).forEach(function(a){a=a.getAttribute("value");document.querySelector("table#"+a).parentNode.classList.add("is-hidden")});shinobi.portfoliousermenurender.renderVisibleTable(a)},renderVisibleTable:function(a){document.querySelectorAll(a).forEach(function(a){1==a.classList.contains("is-active")&&(a=a.getAttribute("value"),document.querySelector("table#"+a).parentNode.classList.remove("is-hidden"),shinobi.portfoliousermenurender.renderTables(a))})},
renderTables:function(a){shinobi.portfoliousermenurender.renderPortFolioUser(a);shinobi.portfoliousermenurender.renderAssetUser(a);shinobi.portfoliousermenurender.renderAccountEfficiencyUser(a);shinobi.portfoliousermenurender.renderTableOrderSignal(a)},renderPortFolioUser:function(a){"tablematchingorderdate"==a&&console.log("Load B\u1ea3ng S\u1ed5 l\u1ec7nh Trong Ng\u00e0y");"tablematchingorderhistory"==a&&console.log("Load B\u1ea3ng S\u1ed5 l\u1ec7nh L\u1ecbch S\u1eed")},renderAssetUser:function(a){"tableassetorder"==
a&&(console.log("Load B\u1ea3ng T\u00e0i S\u1ea3n"),shinobi.assetuserrender.getAssetUser(shinobi.tradingsystemrender.getCurrentAllocationAccount()))},renderAccountEfficiencyUser:function(a){"tableaccountefficiency"==a&&console.log("Load B\u1ea3ng Hi\u1ec7u qu\u1ea3 TK")},renderTableOrderSignal:function(a){"tableordersignal"==a&&console.log("Load B\u1ea3ng T\u00edn Hi\u1ec7u")}};
shinobi.portfoliouserrender={table:"",tableHistory:"",build:function(a){shinobi.portfoliouserrender.renderTableAssetUser(a);shinobi.portfoliouserrender.renderTableAssetUserHistory(a)},rebuildOnChangeSelect:function(a){},reloadPortfolioUser:function(){shinobi.portfoliouserrender.table.hasOwnProperty("reloadApi")&&shinobi.portfoliouserrender.table.reloadApi()},renderTableAssetUser:function(a){console.log("valueAccount",a);var b=shinobi.tableHelper.getColname("tablematchingorderdate"),c=shinobi.tableHelper.getRender("tablematchingorderdate");
shinobi.portfoliouserrender.table=new shinobi.table("tablematchingorderdate");var d={allocationaccount:a,recordPerPage:shinobi.util.getRecordNumber("tablematchingorderdate")};shinobi.portfoliouserrender.table.initLoadApi("/authenapi/StockComOrderApi/findDataList",d,b,c,{callback:function(){document.getElementById("refreshportfolio").onclick=function(){shinobi.portfoliouserrender.table.paramsRequestList={allocationaccount:a};shinobi.portfoliouserrender.table.reloadApi(1,{loading:!1})}}})},renderTableAssetUserHistory:function(a){var b=
shinobi.tableHelper.getColname("tablematchingorderhistory"),c=shinobi.tableHelper.getRender("tablematchingorderhistory");shinobi.portfoliouserrender.tableHistory=new shinobi.table("tablematchingorderhistory");console.log(a);var d={recordPerPage:shinobi.util.getRecordNumber("tablematchingorderhistory")};shinobi.portfoliouserrender.tableHistory.staticfilters=[{colname:"allocationaccount",operator:"=",value:a}];shinobi.portfoliouserrender.tableHistory.initLoadApi("/authenapi/StockComOrderHistoryApi/findDataList",
d,b,c,{})},snbRenderButton:function(a,b,c,d){"PENDING"==d[b].status||"PARTIAL_MATCHED"==d[b].status?(value=a.innerHTML,a.innerHTML='\n            <div class="is-flex is-justify-content-space-between">\n                <div class="has-text-left">    \n                    <button class="cancel-button has-text-white has-text-weight-bold has-background-danger button is-small">\n                        Hu\u1ef7\n                    </button>\n                </div>\n                <div class="has-text-right">    \n                    <button class="see-detail button is-small">\n                        <span><i class="fas fa-ellipsis-v"></i></span>\n                    </button>\n                </div>\n            </div>',
console.log(d[b].status),a.querySelector(".see-detail").onclick=function(){shinobi.portfoliouserrender.openModalDetail(value,d[b])},a.querySelector(".cancel-button").onclick=function(){shinobi.notification.confirm(function(){shinobi.portfoliouserrender.cancelOrder(d[b].systemorderid)},{title:"X\u00e1c nh\u1eadn",content:"B\u1ea1n mu\u1ed1n x\u00e1c nh\u1eadn h\u1ee7y l\u1ec7nh?",yesConent:"X\u00e1c nh\u1eadn"})}):(value=a.innerHTML,a.innerHTML='\n                <div class="has-text-right">    \n                    <button class="see-detail button is-small">\n                        <span><i class="fas fa-ellipsis-v"></i></span>\n                    </button>\n                </div>',
console.log(d[b].status),a.querySelector(".see-detail").onclick=function(){shinobi.portfoliouserrender.openModalDetail(value,d[b])})},cancelOrder:function(a){var b=document.getElementById("selectPM").value;a=[a];var c={allocationaccount:b,ordertype:"CANCEL",signaltype:"COPYTRADE",orderlist:a};console.log("console",c,"->",a);shinobi.api.request("/authenapi/CreateSignalApi/cancelSignal",JSON.stringify(c),function(a){shinobi.notification.notification.info("H\u1ee7y l\u1ec7nh th\u00e0nh c\u00f4ng !");
shinobi.portfoliouserrender.build(b)})},openModalDetail:function(a,b){a=document.getElementById("modalOrderDate");a.classList.add("is-active");shinobi.mapping.renderElement(a,b)}};
shinobi.roottemplate={config:"",init:function(){shinobi.initbulma.build();shinobi.util.addEventInternetConnection();this.renderDevelopingTooltip();this.activeMenuType()},activeMenuType:function(){var a=document.getElementById("menuleft"),b=a.querySelector(".pm-menu"),c=a.querySelector(".superadmin-menu"),d=a.querySelector(".aladin-admin-menu");getUserInfo(function(a){"PM"==a.usertype?(b.classList.remove("is-hidden"),c.classList.add("is-hidden")):"SUPERADMIN"==a.usertype?(b.classList.add("is-hidden"),
c.classList.remove("is-hidden")):"PMALADIN"==a.usertype&&(d.classList.remove("is-hidden"),c.classList.add("is-hidden"))})},renderMobileNavigatorNavbar:function(){shinobi.coreapi.checkAuthen(function(a){a&&shinobi.usernotificationrender.updateNotificationBadge()})},renderDevelopingTooltip:function(){document.querySelectorAll(".is-developing").forEach(function(a){a.classList.add("has-tooltip-bottom","has-tooltip-multiline");a.setAttribute("data-tooltip","\u0110ang ph\u00e1t tri\u1ec3n")})},renderCellTextCentered:function(a,
b,c,d){value=a.innerHTML;a.innerHTML='\n      <div class="has-text-centered">\n        '+value+"\n      </div>\n  "},renderCellTextBoldCentered:function(a,b,c,d){value=a.innerHTML;a.innerHTML='\n      <div class="has-text-centered has-text-weight-bold">\n        '+value+"\n      </div>\n  "},renderElemTextCentered:function(a,b,c){a.innerHTML='\n      <div class="has-text-centered">\n        '+b+"\n      </div>\n  "},renderCellTextRight:function(a,b,c,d){value=a.innerHTML;a.innerHTML='\n      <div class="has-text-right">\n        '+
value+"\n      </div>\n  "},renderElemTextRight:function(a,b,c){a.innerHTML='\n      <div class="has-text-right">\n        '+b+"\n      </div>\n  "},renderFirstNameLastName:function(a,b,c,d){b=d[b];a.innerHTML='<div class="has-text-centered">'+b.firstname+" "+b.lastname+"</div>"},renderProfitPercent:function(a,b,c,d){a.innerHTML='<div class="has-text-right">'+100*a.innerHTML+"%</div>"}};
shinobi.roottemplaterender={init:function(){shinobi.roottemplaterender.changeLoggedState(shinobi.roottemplaterender.showLoginSignUpButton);shinobi.roottemplate.init()},changeLoggedState:function(a){shinobi.coreapi.reCheckAuthen(function(b){b?(document.body.classList.add("has-logged"),document.body.classList.remove("not-logged")):(document.body.classList.remove("has-logged"),document.body.classList.add("not-logged"));"function"==typeof a&&a()})},showLoginSignUpButton:function(){if(JSON.stringify(document.body.classList).includes("not-logged")){var a=
document.querySelectorAll(".is-signup-button");a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b.value.classList.remove("is-hidden");a=document.querySelectorAll(".is-login-button");a=$jscomp.makeIterator(a);for(b=a.next();!b.done;b=a.next())b.value.classList.remove("is-hidden")}}};
shinobi.selfemployedaccountrender={systemsubaccount:"",colNames:"",build:function(){shinobi.selfemployedaccountrender.activeTab();shinobi.selfemployedaccountrender.renderCreateActiveModal();shinobi.selfemployedaccountrender.renderModalButtons();shinobi.selfemployedaccountrender.createFirstAccount();shinobi.selfemployedaccountrender.renderSelfEmployedAccountSelect(function(){shinobi.selfemployedaccountrender.checkSeflEmployedAccountData();shinobi.selfemployedaccountrender.renderForTable();shinobi.selfemployedaccountrender.getUnallocatedPercent();
shinobi.selfemployedaccountrender.addEventCheckAccountSelect()})},activeTab:function(){getUserInfo(function(a){document.querySelector('#menuleft [value="'+a.usertype+'"] a[href="/private/selfemployedaccount"').classList.add("is-active")})},renderMoreButton:function(a,b,c,d){a.innerHTML='\n          <div class="has-text-centered">    \n            <div class="dropdown is-up is-right more-button">\n              <div class="dropdown-trigger">\n                <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span><i class="fas fa-ellipsis-v"></i></span>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a class="dropdown-item pr-4" onclick="shinobi.selfemployedaccountrender.renderModifyButton()">\n                        Ch\u1ec9nh s\u1eeda\n                    </a>\n                    <a class="dropdown-item pr-4">\n                        Xo\u00e1\n                    </a>\n                </div>\n              </div>\n            </div>\n          </div>';
var e=a.querySelector(".dropdown");e.onclick=function(){e.classList.toggle("is-active")}},renderCreateActiveModal:function(){shinobi.selfemployedaccountrender.activeModal("#allocateAccount","#addAccountModal","Ph\u00e2n b\u1ed5 t\u00e0i kho\u1ea3n");shinobi.selfemployedaccountrender.activeModal("#allocateFirstAccount","#addAccountModal","Ph\u00e2n b\u1ed5 t\u00e0i kho\u1ea3n");shinobi.selfemployedaccountrender.activeModal("#addAccountButton","#addSelfEmployedAccountModal","Th\u00eam t\u00e0i kho\u1ea3n t\u1ef1 doanh")},
activeModal:function(a,b,c){var d=this;document.querySelector(a).onclick=function(){d.getListPm1NotAllotment();shinobi.mapping.clear(b);document.querySelector(b).classList.add("is-active");shinobi.selfemployedaccountrender.settingCreateAccountModal(b,c);shinobi.selfemployedaccountrender.setUpPasswordInput(b)}},settingCreateAccountModal:function(a,b){var c=document.querySelector(a+" #createModal"),d=document.querySelector(a+" #saveModal");c.style.display="block";d.style.display="none";document.querySelector(a+
" .modal-card-title").innerText=b},renderModifyButton:function(){shinobi.selfemployedaccountrender.getListPm1NotAllotment();var a=document.querySelector("#addAccountModal");a.classList.add("is-active");a="#addAccountModal";shinobi.selfemployedaccountrender.settingModifyAccountModal(a);shinobi.selfemployedaccountrender.setUpPasswordInput(a)},settingModifyAccountModal:function(a){var b=document.querySelector(a+" #createModal"),c=document.querySelector(a+" #saveModal");b.style.display="none";c.style.display=
"block";document.querySelector(a+" .modal-card-title").innerText="Phan Huy T\u00edn"},setUpPasswordInput:function(a){var b=document.querySelector(a+" #loginPassword input"),c=document.querySelector(a+" #orderPassword input"),d=document.querySelector(a+" #loginPassword .button");a=document.querySelector(a+" #orderPassword .button");b&&c&&shinobi.selfemployedaccountrender.showPassword(d,b);d&&a&&shinobi.selfemployedaccountrender.showPassword(a,c)},showPassword:function(a,b){b.setAttribute("type","password");
a.innerHTML='<i class="fas fa-eye-slash"></i>';a.onclick=function(){"password"==b.getAttribute("type")?(b.setAttribute("type","text"),a.innerHTML='<i class="fas fa-eye"></i>'):(b.setAttribute("type","password"),a.innerHTML='<i class="fas fa-eye-slash"></i>')}},getListPm1NotAllotment:function(){document.getElementById("selfemplyedaccountselection");var a={recordPerPage:getRecordNumber("listpmusername")};if(!shinobi.selfemployedaccountrender.listPMUserName){var b=new shinobi.datalist("listpmusername");
shinobi.selfemployedaccountrender.listPMUserName=b}shinobi.selfemployedaccountrender.listPMUserName.initLoadApi("/authenapi/PmManagementApi/findDataList",a)},renderFullnameAllocation:function(a,b,c){a.setAttribute("value",b);a.innerHTML=c.firstname+" "+c.lastname},renderModalButtons:function(){shinobi.selfemployedaccountrender.renderModelAllotment("#addAccountModal");shinobi.selfemployedaccountrender.renderModalEvent("#addSelfEmployedAccountModal")},renderModalEvent:function(a){shinobi.selfemployedaccountrender.renderEventCreateButton(a);
shinobi.selfemployedaccountrender.renderEventSaveButton(a)},renderEventCreateButton:function(a,b){document.querySelector(a+" #createModal").onclick=function(){shinobi.selfemployedaccountrender.getValueUser(a,function(a){listJson={stockcom:a.stockcom,account:a.account,username:a.account,password:a.password,pincode:a.pincode,userid:"",name:a.name};shinobi.notification.notification.loading();shinobi.api.request("/authenapi/StockComAccountRegistrationApi/createAdminUser",JSON.stringify(listJson),function(a){shinobi.notification.notification.loaded();
shinobi.notification.notification.info("Th\u00eam t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!");setTimeout(function(){window.location.reload()},100)})})}},renderEventSaveButton:function(a){document.querySelector(a+" #saveModal").onclick=function(){shinobi.fragmentfindandaddaccountmanagementrender.getValue(a,function(a){console.log(a)})}},renderModelAllotment:function(a){shinobi.selfemployedaccountrender.renderEventSaveAllotmentButton(a);shinobi.selfemployedaccountrender.renderEventCreateAllotmentButton(a)},
renderEventSaveAllotmentButton:function(a,b){document.querySelector(a+" #createModal").onclick=function(){shinobi.selfemployedaccountrender.getValue(a,function(a){var b=document.getElementById("selfemplyedaccountselection");listJson={systemsubaccount:b.querySelector('[value="'+b.value+'"]').getAttribute("sub-value"),startdate:a.startdate,enddate:a.enddate,profitcommisionratio:Number(a.profitcommisionratio)/100,pmusername:a.pmusername,allocationratio:Number(a.allocationratio)/100};shinobi.notification.notification.loading();
shinobi.api.request("/authenapi/AllocationManagementApi/setOriginSubAccountAllocation",JSON.stringify(listJson),function(a){shinobi.notification.notification.loaded();shinobi.notification.notification.info("Th\u00eam t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!");setTimeout(function(){window.location.reload()},100)})})}},renderEventCreateAllotmentButton:function(a){document.querySelector(a+" #saveModal").onclick=function(){shinobi.fragmentfindandaddaccountmanagementrender.getValue(a,function(a){console.log(a)})}},
getValue:function(a,b){shinobi.mapping.getValue(a,function(a){Object.values(a).includes("")?shinobi.util.fillInputMessage():b(a)},{checkEmpty:!0})},getValueUser:function(a,b){shinobi.mapping.getValue(a,function(a){delete a.pincode;Object.values(a).includes("")?shinobi.util.fillInputMessage():b(a)},{checkEmpty:!0})},createFirstAccount:function(){document.querySelector("#addFirstAccountButton").onclick=function(){var a=document.querySelector("#addSelfEmployedAccountModal");a.classList.add("is-active");
a="#addSelfEmployedAccountModal";shinobi.selfemployedaccountrender.settingCreateAccountModal(a,"Th\u00eam t\u00e0i kho\u1ea3n t\u1ef1 doanh");shinobi.selfemployedaccountrender.setUpPasswordInput(a)}},checkSeflEmployedAccountData:function(){shinobi.api.request("/authenapi/StockComAccountApi/getListOriginStockComAccount","{}",function(a){a=JSON.parse(a);var b=document.querySelector("#selfEmployedTable"),c=document.querySelector("#noSelfEmployedAccount");shinobi.selfemployedaccountrender.checkDataRenderTable(a,
b,c,!0)})},checkAllotmentAccountData:function(){shinobi.selfemployedaccountrender.listDataLinkedPM(function(a){shinobi.cacheapi.request("/authenapi/OriginStockComAccountManagementApi/findDataList",JSON.stringify({recordPerPage:"5",pageNum:1,filters:[{colname:"systemsubaccount",operator:"=",value:a.systemsubaccount},{colname:"isactive",operator:"=",value:"true"}],sorts:[]}),function(a){a=JSON.parse(a);var b=document.querySelector("#allotmentTable"),d=document.querySelector("#noAccountPMTable");shinobi.selfemployedaccountrender.checkDataRenderTable(a.data,
b,d,!1)})})},listDataLinkedPM:function(a){var b=document.getElementById("selfemplyedaccountselection").value;shinobi.cacheapi.request("/authenapi/StockComSubAccountApi/getListSubAccount",JSON.stringify({systemaccount:b}),function(c){c=JSON.parse(c);c.forEach(function(c){b==c.systemaccount&&a(c)})})},checkDataRenderTable:function(a,b,c,d){console.log(a,a.length,a.length);a.length?0!=a.length&&(b.classList.remove("is-hidden"),d&&shinobi.selfemployedaccountrender.checkAllotmentAccountData()):c.classList.remove("is-hidden")},
renderForTable:function(){this.renderCompanySelect()},renderCompanySelect:function(a){var b=void 0===a?"companyName":a;a=new shinobi.datalist(b);b={recordPerPage:shinobi.util.getRecordNumber(b),pageNum:1};a.initLoadApi("/api/StockComInfoApi/findDataList",b)},renderFullname:function(a,b,c){a.setAttribute("value",b);a.innerHTML=c.fullname;a.setAttribute("sub-value",c.tradingsubaccount)},renderSelfEmployedAccountSelect:function(a){if(!shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection){var b=
new shinobi.datalist("selfemplyedaccountselection");shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection=b}var c={recordPerPage:shinobi.util.getRecordNumber("selfemplyedaccountselection"),pageNum:1};shinobi.api.request("/authenapi/StockComAccountApi/getListOriginStockComAccount",JSON.stringify(c),function(c){c=JSON.parse(c);b.renderTable(c);var d=setInterval(function(){!shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection.tableContainerNode&&clearInterval(d);b.tableNode.querySelectorAll("option").length>=
c.length&&(shinobi.selfemployedaccountrender.selectLocalStorage(),c.forEach(function(a){document.querySelector("#selfemplyedaccountselection").value==a.systemaccount&&(shinobi.selfemployedaccountrender.checkChildAccount(a.systemaccount,a.fullname),a.tradingsubaccount&&shinobi.selfemployedaccountrender.renderLinkedPMTable(a.tradingsubaccount),a.tradingsubaccount?(shinobi.selfemployedaccountrender.checkPMAccount(!0,a.tradingsubaccount),shinobi.selfemployedaccountrender.getUnallocatedPercent(),shinobi.selfemployedaccountrender.getinfoUserAccount(a.tradingsubaccount)):
shinobi.selfemployedaccountrender.checkPMAccount(!1,"NoItem"))}),clearInterval(d))},100);a&&a()})},checkChildAccount:function(a,b,c,d){var e={systemaccount:a};console.log(a);window.localStorage.valueSelfEmployedAccountSelect=a;shinobi.api.request("/authenapi/StockComAccountApi/checkHasConfigTradingSubAccount",JSON.stringify(e),function(e){e=JSON.parse(e);shinobi.selfemployedaccountrender.loadListChildAccount(a,b,c,d);e?c&&c():shinobi.selfemployedaccountrender.loadListChildAccount(a,b,c,d)})},loadListChildAccount:function(a,
b,c,d){var e={systemaccount:a},f=new shinobi.datalist("listChildAccount");shinobi.cacheapi.request("/authenapi/StockComSubAccountApi/getListSubAccount",JSON.stringify(e),function(a){a=JSON.parse(a);f.renderTable(a);document.querySelector("#listChildAccount").value=""});document.querySelector("#confirmDealAccountModal header .has-fullname").innerHTML="C\u1ea5u h\u00ecnh t\u00e0i kho\u1ea3n "+b;document.querySelector("#confirmDealAccountModal section .has-fullname").innerHTML="X\u00e1c \u0111\u1ecbnh t\u00e0i kho\u1ea3n giao d\u1ecbch c\u1ee7a "+
b;document.getElementById("confirmDealAccountModal").classList.add("is-active");shinobi.selfemployedaccountrender.submitChildAccount(a,d,c)},renderChildAccountName:function(a,b,c){a.setAttribute("value",b);a.innerHTML=c.subaccount+": "+c.subaccountname},chooseDealAccount:function(a,b,c,d){value=a.innerHTML;a.innerHTML='\n        <div class="has-text-centered">\n            <label class="radio">\n                <input type="radio" name="dealAccount" snb-key="systemsubaccount" radio-value="'+value+
'">\n            </label>\n        </div>'},inputFeeForDealAccount:function(a,b,c,d){a.innerHTML='\n        <input class="input is-small has-text-right feeDealAccountInput" snb-key="fee">\n        '},inputTaxForDealAccount:function(a,b,c,d){a.innerHTML='\n        <input class="input is-small has-text-right taxDealAccountInput" snb-key="tax">\n        '},getValueDealAccountModal:function(a,b){shinobi.mapping.getValue(a,function(a){delete a.fee;delete a.tax;Object.values(a).includes("")?shinobi.util.fillInputMessage():
b(a)},{checkEmpty:!0})},submitChildAccount:function(a,b,c){document.querySelector("#confirmDealAccount").onclick=function(){shinobi.selfemployedaccountrender.getValueDealAccountModal("#confirmDealAccountModal",function(d){var e={systemaccount:a,systemsubaccount:d.systemsubaccount};shinobi.selfemployedaccountrender.systemsubaccount=e.systemsubaccount;console.log("rq",e,d);shinobi.api.request("/authenapi/StockComAccountApi/configTradingSubAccount",JSON.stringify(e),function(a){shinobi.notification.notification.loaded();
shinobi.notification.notification.info("C\u1ea5u h\u00ecnh t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!");b?(document.getElementById("confirmDealAccountModal").classList.remove("is-active"),c&&c(e.systemsubaccount)):setTimeout(function(){window.location.reload()},100)})})}},addEventCheckAccountSelect:function(){document.querySelector("#selfemplyedaccountselection").onchange=function(){var a={recordPerPage:shinobi.util.getRecordNumber("selfemplyedaccountselection")};shinobi.api.request("/authenapi/StockComAccountApi/getListOriginStockComAccount",
JSON.stringify(a),function(a){a=JSON.parse(a);a.forEach(function(a){document.querySelector("#selfemplyedaccountselection").value==a.systemaccount&&(shinobi.selfemployedaccountrender.checkChildAccount(a.systemaccount,a.fullname),a.tradingsubaccount&&shinobi.selfemployedaccountrender.renderLinkedPMTable(a.tradingsubaccount),a.tradingsubaccount?(shinobi.selfemployedaccountrender.checkPMAccount(!0,a.tradingsubaccount),shinobi.selfemployedaccountrender.getUnallocatedPercent(),shinobi.selfemployedaccountrender.getinfoUserAccount(a.tradingsubaccount)):
shinobi.selfemployedaccountrender.checkPMAccount(!1,"NoItem"))})})}},checkPMAccount:function(a,b){var c=document.querySelector("#noAccountPMTable"),d=document.querySelector("#allotmentTable");a?shinobi.cacheapi.request("/authenapi/OriginStockComAccountManagementApi/findDataList",JSON.stringify({recordPerPage:"5",pageNum:1,filters:[{colname:"systemsubaccount",operator:"=",value:b},{colname:"isactive",operator:"=",value:"true"}],sorts:[]}),function(a){json=JSON.parse(a);json.data.length?(c.classList.add("is-hidden"),
d.classList.remove("is-hidden")):(c.classList.remove("is-hidden"),d.classList.add("is-hidden"))}):(c.classList.remove("is-hidden"),d.classList.add("is-hidden"))},renderLinkedPMTable:function(a){var b=shinobi.tableHelper.getColname("linkedpmaccounttable"),c=shinobi.tableHelper.getRender("linkedpmaccounttable"),d=new shinobi.table("linkedpmaccounttable");shinobi.selfemployedaccountrender.table1=d;d.staticfilters=[{colname:"systemsubaccount",operator:"=",value:a},{colname:"isactive",operator:"=",value:"true"}];
a={recordPerPage:shinobi.util.getRecordNumber("linkedpmaccounttable")};var e=function(a){var b=document.getElementById("noAccountPMTable");setTimeout(function(){0<a.tableRows.length?b.classList.add("is-hidden"):b.classList.remove("is-hidden")},300)};d.initLoadApi("/authenapi/OriginStockComAccountManagementApi/findDataList",a,b,c,{callback:function(){return e(d)}})},selectLocalStorage:function(){var a=window.localStorage.valueSelfEmployedAccountSelect;a&&(document.querySelector("#selfemplyedaccountselection").value=
a)},getUnallocatedPercent:function(){var a=document.getElementById("unallocatedPercent"),b=document.getElementById("selfemplyedaccountselection"),c=b.value;b.querySelectorAll("option").forEach(function(b){var d=b.getAttribute("value");b=b.getAttribute("sub-value");d==c&&("undefined"==b&&(b=""),b&&shinobi.cacheapi.request("/authenapi/AllocationManagementApi/getTradingUnallocatedRatio",JSON.stringify({systemsubaccount:b}),function(b){a.innerHTML=shinobi.util.formatNumber(100*Number(b))+"%"}))})},getinfoUserAccount:function(a){shinobi.api.request("/authenapi/StockComAccountApi/getStockComAccountInfo",
JSON.stringify({recordPerPage:"10",pageNum:1,systemsubaccount:a}),function(a){a=JSON.parse(a);console.log(a);var b=document.getElementById("nameuser");shinobi.mapping.renderElement(b,a)})}};
shinobi.setnewpasswordrender={build:function(){var a=document.getElementById("submitButton");document.querySelector("#ipRepassword").addEventListener("keypress",function(a){13===(a.which||a.keyCode)&&shinobi.setnewpasswordrender.submit()});a.onclick=function(){shinobi.setnewpasswordrender.submit()}},submit:function(){var a=document.getElementById("ipPassword"),b=document.getElementById("ipRepassword");a=a.value.trim();b=b.value.trim();if(""==a||""==b)alert("Vui l\u00f2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin!");
else if(0!=shinobi.setnewpasswordrender.checkInput(a,b)){var c=window.location.pathname.split("/"),d=c[3];c=c[4];var e={};e.password=shinobi.util.sha256(a);e.verifypassword=shinobi.util.sha256(b);e.id=d;e.randomstring=c;shinobi.api.request("/api/UserApi/sendRequestRecoveryPassword",JSON.stringify(e),function(a){shinobi.notification.notification.info("\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u th\u00e0nh c\u00f4ng!");window.location.href="/page/index"})}},checkInput:function(a,b){if(a.trim()!=b.trim())return alert("M\u1eadt kh\u1ea9u v\u00e0 x\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u kh\u00f4ng gi\u1ed1ng nhau!"),
!1;if(4>a.trim().value||15<a.trim().value||4>b.trim().value||15<b.trim().value)return alert("\u0110\u1ed9 d\u00e0i m\u1eadt kh\u1ea9u kh\u00f4ng h\u1ee3p l\u1ec7! Chi\u1ec1u d\u00e0i t\u1eeb 4 \u0111\u1ebfn 15 k\u00ed t\u1ef1 t\u1ed1i thi\u1ec3u 2 ch\u1eef c\u00e1i v\u00e0 2 con s\u1ed1!"),!1;b=a.toString();console.log(b);a=shinobi.util.countNumberInInput(b);b=shinobi.util.countTextCharacterInInput(b);return 2>a||2>b?(alert("M\u1eadt kh\u1ea9u kh\u00f4ng h\u1ee3p l\u1ec7! T\u1ed1i thi\u1ec3u 2 ch\u1eef c\u00e1i v\u00e0 2 con s\u1ed1!"),
!1):!0}};
shinobi.socketmanager={publicWebSocket:"",privateWebSocket:"",closeNotice5MinuteTimeout:"",noticeRemainTimeSound:"",socketMessage:{public:[],private:[]},init:function(){shinobi.config.getConfig()},addEventSocketPublicProcess:function(){setInterval(function(){if(0<shinobi.socketmanager.socketMessage.public.length){var a=shinobi.socketmanager.socketMessage.public.shift();switch(a.messagetype){case "PRICEBOARD_DETAIL":shinobi.socketmanager.updatePriceBoardDetail(a);break;case "PRICEBOARD_OVERVIEW":shinobi.socketmanager.updatePriceBoardOverview(a);break;
case "MARKET_STATUS":shinobi.socketmanager.updateMarketStatus(a);break;case "MARKET_DATE":shinobi.indexrender.renderMarketDateData(JSON.parse(a.data));break;case "SJC_PRICE":shinobi.indexrender.renderMarketSjcPriceData(JSON.parse(a.data));break;case "GOLD_SPOT":shinobi.indexrender.renderMarketGoldSpotData(JSON.parse(a.data))}}},100)},addEventSocketPrivateProcess:function(){setInterval(function(){if(0<shinobi.socketmanager.socketMessage.private.length){var a=shinobi.socketmanager.socketMessage.private.shift();
switch(a.hasOwnProperty("messagetype")?a.messagetype:a.type){case "USER_ONLINE_STATUS":shinobi.userstatus.updateUserStatusProcess(a);break;case "PRICEBOARD_PRIVATE_DETAIL":a=JSON.parse(a.data);shinobi.priceboardcontrol.updateUserId(a);break;case "notification":shinobi.usernotificationrender.updateNotificationBadge()}}},10)},updatePriceBoardDetail:function(a){a=JSON.parse(a.data);shinobi.priceboardcontrol.socketQueue=shinobi.priceboardcontrol.socketQueue.concat(a)},updateMarketStatus:function(a){shinobi.indexrender.renderMarketStatusData(a.data)},
updatePriceBoardOverview:function(a){a=JSON.parse(a.data);shinobi.priceboardcontrol.socketQueue=shinobi.priceboardcontrol.socketQueue.concat(a)},createWebSocketPrivate:function(){shinobi.socketmanager.privateWebSocket="loading";shinobi.util.checkAuthen(function(a){a?shinobi.message.connectSocketServer(function(){shinobi.message.connect(shinobi.config.current.imserver,function(){},{onMessage:function(a){shinobi.socketmanager.socketMessage.private=shinobi.socketmanager.socketMessage.private.concat(a)}});
shinobi.socketmanager.privateWebSocket=shinobi.message;shinobi.socketmanager.disconnectContainer=shinobi.util.addEventInternetConnection();shinobi.socketmanager.checkPrivateSocketDisconnect()}):shinobi.socketmanager.privateWebSocket=""})},createWebSocketPublic:function(){shinobi.socketmanager.publicWebSocket=new shinobi.socket({url:shinobi.config.current.publicWebSocketUrl,onMessage:function(a){shinobi.socketmanager.socketMessage.public=shinobi.socketmanager.socketMessage.public.concat(a)}});shinobi.socketmanager.disconnectContainer=
shinobi.util.addEventInternetConnection();shinobi.socketmanager.checkPublicSocketDisconnect()},checkPrivateSocketDisconnectCount:0,checkPublicSocketDisconnectCount:0,checkPrivateSocketDisconnect:function(){var a=shinobi.socketmanager.privateWebSocket.socket;setTimeout(function(){shinobi.socketmanager.checkPrivateSocketDisconnectCount=a.readyState==a.OPEN?0:shinobi.socketmanager.checkPrivateSocketDisconnectCount+1;var b=shinobi.util.internetConnection;var c=5>shinobi.socketmanager.checkPrivateSocketDisconnectCount&&
5>shinobi.socketmanager.checkPublicSocketDisconnectCount?!0:!1;b&&(c?shinobi.socketmanager.disconnectContainer.classList.remove("is-active"):shinobi.socketmanager.disconnectContainer.classList.add("is-active"));shinobi.socketmanager.checkPrivateSocketDisconnect()},1E3)},checkPublicSocketDisconnect:function(){setTimeout(function(){shinobi.socketmanager.checkPublicSocketDisconnectCount=shinobi.socketmanager.publicWebSocket.socket.readyState==shinobi.socketmanager.publicWebSocket.socket.OPEN?0:shinobi.socketmanager.checkPublicSocketDisconnectCount+
1;var a=shinobi.util.internetConnection;var b=5>shinobi.socketmanager.checkPublicSocketDisconnectCount?!0:!1;a&&(b?shinobi.socketmanager.disconnectContainer.classList.remove("is-active"):shinobi.socketmanager.disconnectContainer.classList.add("is-active"));shinobi.socketmanager.checkPublicSocketDisconnect()},1E3)}};
shinobi.stocomorderrender={build:function(){this.toggerCheckboxOrder();this.addEventCancelOrder()},addEventCancelOrder:function(){var a=this,b=[];document.getElementById("cancelorderbutton").onclick=function(){shinobi.notification.confirm(function(){var c=document.getElementById("tickallorder"),d=document.querySelectorAll("[snb-key-checkbox]");c.checked?b.push("ALL"):d.forEach(function(a){a.checked&&(a=a.getAttribute("snb-key-checkbox"),b.push(a))});a.cancelOrder(b)},{title:"X\u00e1c nh\u1eadn",content:"B\u1ea1n mu\u1ed1n x\u00e1c nh\u1eadn h\u1ee7y l\u1ec7nh?",
yesConent:"X\u00e1c nh\u1eadn"})}},cancelOrder:function(a){var b=document.getElementById("selectPM").value;shinobi.api.request("/authenapi/CreateSignalApi/cancelSignal",JSON.stringify({allocationaccount:b,ordertype:"CANCEL",signaltype:"COPYTRADE",orderlist:a}),function(a){shinobi.notification.notification.info("H\u1ee7y l\u1ec7nh th\u00e0nh c\u00f4ng !");shinobi.portfoliouserrender.build(b)})},toggerCheckboxOrder:function(){var a=document.getElementById("tickallorder");a.onchange=function(){console.log("change");
var b=document.querySelectorAll("[snb-key-checkbox]");console.log(b);b.forEach(function(b){b.checked=a.checked?!0:!1})}}};
shinobi.tableordersignalrender={orderSignalTable:"",build:function(a){this.renderTableAssetUser(a)},renderTableAssetUser:function(a){var b=shinobi.tableHelper.getColname("tableordersignal"),c=shinobi.tableHelper.getRender("tableordersignal");shinobi.tableordersignalrender.orderSignalTable||(shinobi.tableordersignalrender.orderSignalTable=new shinobi.table("tableordersignal"));var d={recordPerPage:shinobi.util.getRecordNumber("tableordersignal")};shinobi.tableordersignalrender.orderSignalTable.staticfilters=
[{colname:"allocationaccount",operator:"=",value:""+a}];shinobi.tableordersignalrender.orderSignalTable.initLoadApi("/authenapi/SignalListApi/getSignalList",d,b,c)},renderStatusChildSetting:function(a,b,c,d){b=a.innerHTML;shinobi.ordercommandmanagementrender.childStatusOrder[""+b]&&(b=shinobi.ordercommandmanagementrender.childStatusOrder[""+b]);a.innerHTML="Th\u00e0nh c\u00f4ng"==b?'<div class="has-text-centered has-text-success">'+b+"</div>":"Th\u1ea5t b\u1ea1i"==b?'<div class="has-text-centered has-text-danger">'+
b+"</div>":'<div class="has-text-centered">'+b+"</div>"},formatDescription:function(a,b,c,d){b=a.innerHTML;b=shinobi.ordercommandmanagementrender.renderNoticeSub(b);a.innerHTML='<div class="order-command-notice is-italic"> '+b+" </div>"},formatFullname:function(a,b,c,d){a.innerHTML='<div class="has-text-centered" value="'+a.innerHTML+'"> '+d[b].fullname+" </div>"}};
shinobi.tradingsystemrender={listOrder:["LO","ATO","ATC","MP"],currentStock:"",tableStocComOrder:"",interval:"",currentPrice:"",classSell:"is-active-sell",classBuy:"is-active-buy",stepVolume:100,contentOrderBuy:"MUA",contentOrderSell:" B\u00c1N",init:function(){var a=this;a.addEventStepVolume("#setvolume");a.addEventStepPrice("#setprice");a.addDropdowMenu();shinobi.portfoliousermenurender.build();a.addEventActiveBuySell();a.addEventSearchUser();a.addEventSearchStock();a.activeTab();a.getAllVirtualSubaccount();
a.initTradingviewStock("VNINDEX");shinobi.stocomorderrender.build();a.setUpOrderValueTab();a.activeSelectOptionCopytrade();a.renderRadioButtonEvent();a.createStruct(function(){a.submitOrderCommand()})},createStruct:function(a){var b=document.getElementById("selecttypeorder");getUserInfo(function(c){"PM"==c.usertype&&(b.value="COPYTRADE");a&&a()})},activeSelectOptionCopytrade:function(){var a=document.getElementById("containerselectcompytrade");getUserInfo(function(b){"PMALADIN"==b.usertype&&a.classList.remove("is-hidden")})},
activeTab:function(){getUserInfo(function(a){document.querySelector('#menuleft [value="'+a.usertype+'"] a[href="/private/tradingsystem"').classList.add("is-active")})},setCurrentPrice:function(a,b,c){shinobi.tradingsystemrender.currentPrice=b},getInput:function(a){var b=this;shinobi.mapping.getValue("#containertrading",function(c){var d={},e=document.getElementById("selectPM").value,f=b.getOrderType();d.allocationaccount=e;d.side=f;d.stockcode=c.stocksymbol;isNaN(c.currentprice)?d.ordertype=c.currentprice:
d.ordertype="LO";d.price=c.currentprice;d.volume=c.currentweight;d.signaltype=c.signaltype;""==d.stockcode?shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp m\u00e3 ch\u1ee9ng kho\u00e1n !"):""==d.currentprice?shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp gi\u00e1 mua b\u00e1n !"):""==d.volume?shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp kh\u1ed1i l\u01b0\u1ee3ng"):a(d)})},getOrderType:function(){return document.getElementById("containertrading").classList.contains(this.classBuy)?
"BUY":"SELL"},getAllVirtualSubaccount:function(){var a=this,b=document.getElementById("selectPM");shinobi.api.request("/authenapi/SystemUserApi/getListAllocationAccount",JSON.stringify({}),function(c){c=JSON.parse(c).data;c.forEach(function(a){var c=document.createElement("option");c.setAttribute("value",a.account);c.innerHTML=a.fullname;b.appendChild(c)});if(b.value){if(c=shinobi.util.getAllSearchInPath().allocationaccount)document.getElementById("selectPM").value=c,c=document.getElementById("portfoliousermenu").offsetTop-
4*Number(shinobi.util.getFontSize()),c=0<c?c:0,document.body.scrollTop=c,document.documentElement.scrollTop=c,document.querySelector('#portfoliousermenu [value="tableordersignal"]').click();a.addEventSelectChange()}})},addEventSelectChange:function(){var a=this,b=document.getElementById("selectPM");shinobi.tradingsystemrender.setCurrentAllocationAccount(b.value);setInterval(function(){var b=document.getElementById("selectPM");b.value&&a.getValuePurchasingPower(b.value)},1E3);shinobi.portfoliouserrender.build(b.value);
shinobi.tableordersignalrender.build(b.value);shinobi.assetuserrender.build(b.value);shinobi.accountefficiencyuserrender.build(b.value);shinobi.tradingsystemrender.updateAllocationAccountInfo(b.value);b.onchange=function(){a.updatePage(b.value)}},updatePage:function(a){shinobi.tradingsystemrender.setCurrentAllocationAccount(a);shinobi.portfoliouserrender.table.paramsRequestList={allocationaccount:a};shinobi.portfoliouserrender.table.reloadApi(1,{loading:!1});shinobi.portfoliouserrender.tableHistory.paramsRequestList=
{allocationaccount:a};shinobi.portfoliouserrender.tableHistory.staticfilters=[{colname:"allocationaccount",operator:"=",value:a}];shinobi.portfoliouserrender.tableHistory.reloadApi(1,{loading:!1});shinobi.accountefficiencyuserrender.renderAccountEfficiencyUser(a);shinobi.tableordersignalrender.build(a);shinobi.tradingsystemrender.updateAllocationAccountInfo(a);document.getElementById("updateAllocationAccountAssetButton").click()},setCurrentAllocationAccount:function(a){localStorage.setItem("currentAllocationAccount",
a)},getCurrentAllocationAccount:function(){return localStorage.getItem("currentAllocationAccount")},updateAllocationAccountInfo:function(a){shinobi.mapping.clear("#PMInfoPanel");shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getFollowingPMInfo",JSON.stringify({allocationaccount:a}),function(a){JSON.parse(a);shinobi.mapping.render("#PMInfoPanel",a)});shinobi.mapping.clear("#allocationAccountInfo");shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo",
JSON.stringify({allocationaccount:a}),function(a){var b=JSON.parse(a);console.log(b);shinobi.mapping.render("#allocationAccountInfo",a)})},getValuePurchasingPower:function(a){var b=document.getElementById("couldbuy");shinobi.api.request("/authenapi/SystemUserApi/getPuchasingPower",JSON.stringify({account:a}),function(a){b.innerHTML=shinobi.util.formatNumber(a)})},getValueStocsympol:function(){var a=this;interval=setInterval(function(){a.currentStock&&shinobi.api.request("/api/PriceBoardApi/findDataList",
JSON.stringify({recordPerPage:"20",pageNum:1,filters:[{colname:"stocksymbol",operator:"=",value:a.currentStock}]}),function(b){a.getInfoStocSympol(b);a.getInfo3PriceStock(b)})},1E3)},getInfoStocSympol:function(a){var b=document.getElementById("infostocsympol");a=JSON.parse(a).data[0];shinobi.mapping.renderElement(b,a)},getInfo3PriceStock:function(a){var b=document.getElementById("pricestocksympol");a=JSON.parse(a).data[0];shinobi.mapping.renderElement(b,a)},formatPrice:function(a,b,c){a.innerHTML=
b;b==c.ceiling?a.parentNode.classList.add("ceiling-value"):b==c.floor?a.parentNode.classList.add("floor-value"):b==c.priorcloseprice?a.parentNode.classList.add("reference-value"):Number(b)>Number(c.priorcloseprice)?a.parentNode.classList.add("up-value"):a.parentNode.classList.add("down-value")},addTimeLoadAll:function(a,b){response={start:"2021-21-05 10:00",end:"2021-21-06 10:00"};shinobi.util.setRangeCalendar('[snb-key="date"]',new Date(response.start),new Date(response.end));b&&b()},addEventSearchUser:function(){var a=
this;shinobi.api.request("/authenapi/SystemUserApi/getListAllocationAccount",JSON.stringify({}),function(b){var c=JSON.parse(b).data;new shinobi.autocomplete("#autocompletesearchstocksymbol",{onSearch:function(a,b){if(1>a.length)return[];var d=c.filter(function(b){return b.fullname.toLowerCase().includes(a.toLowerCase())});b(d)},onSubmit:function(b){var c=document.getElementById("selectPM");document.getElementById("autocompletesearchstocksymbol").value="";c.value=b.account;a.updatePage(b.account)},
renderResult:function(a,b){return"\n          <li "+b+'>\n              <div class="title has-text-primary is-size-6">\n               '+a.fullname+"\n              </div>\n          </li>"}})})},addEventSearchStock:function(){var a=this,b=document.querySelector("#searchstocsympol input");b.addEventListener("input",function(){b.value=b.value.toUpperCase()});b.addEventListener("focusout",function(){var c=b.value;a.initTradingviewStock(c);a.currentStock=c});a.getValueStocsympol();b.onchange=function(){var a=
document.getElementById("infostocsympol");""==this.value.trim()?a.classList.add("is-hidden"):a.classList.remove("is-hidden")};new Autocomplete("#searchstocsympol",{search:function(a){if(1>a.length)return[];var b={recordPerPage:"20",pageNum:1,filters:[{colname:"stocksymbol",operator:"like",value:a}]};return new Promise(function(a){shinobi.api.request("/api/PriceBoardApi/findDataList",JSON.stringify(b),function(b){b=JSON.parse(b).data;a(b)})})},autoSelect:!0,getResultValue:function(a){return a.stocksymbol.toUpperCase()},
onSubmit:function(b){a.currentStock=b.stocksymbol;a.initTradingviewStock(b.stocksymbol);var c=document.getElementById("infostocsympol");""==b.stocksymbol?c.classList.add("is-hidden"):c.classList.remove("is-hidden")},renderResult:function(a,b){return"\n          <li "+b+'>\n              <div class="title has-text-primary is-size-5">\n             '+a.stocksymbol+'\n              </div>\n              <div class="subtitle">'+a.securityname+"</div>\n          </li>"}})},initTradingviewStock:function(a){var b=
document.getElementById("tradingviewstock");a="https://chart.aladin.finance/web/index.html?symbol="+a;b.getAttribute("src")!=a&&b.setAttribute("src",a)},addDropdowMenu:function(){var a=this;a.currentPrice=10;var b=document.querySelector("#dropdown-menu .dropdown-content"),c=document.querySelector("#dropdown-menu").parentNode,d=document.querySelector("#setprice .current-value");a.listOrder.forEach(function(e){var f=document.createElement("a");f.setAttribute("class","dropdown-item");f.innerHTML=e;f.onclick=
function(){d.value="LO"!=e?e:a.currentPrice;c.classList.remove("is-active")};b.appendChild(f)})},submitOrderCommand:function(){var a=this;document.getElementById("buttontrading").onclick=function(){a.getInput(function(b){var c=document.getElementById("orderCommandConfirmModal");shinobi.mapping.renderElement(c,b);document.getElementById("orderCommandConfirmModal").classList.add("is-active");console.log(b);a.confirmOrderCommandConfirmModal(b);a.renderSourceSellFunction(b)})}},confirmOrderCommandConfirmModal:function(a){var b=
this,c=document.getElementById("confirmOrderModal"),d=document.getElementById("otherOptionInput");c.onclick=function(){document.getElementById("otherOptionSourceContainer")&&shinobi.mapping.getValue("#otherOptionSourceContainer",function(c){shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo","{allocationaccount: "+a.allocationaccount+"}",function(e){var f=JSON.parse(e);console.log(f);getUserInfo(function(e){"PMALADIN"==e.usertype?"SELL"==a.side?
"OTHER"==c.typeModal?a.beneficiary={beneficiary:c.typeModal,value:d.value}:(a.beneficiary={beneficiary:c.typeModal,value:f.pm},d.value="none"):(d.value="none",a.beneficiary&&delete a.beneficiary):d.value="none";console.log("REQUEST",a);d.value?shinobi.api.request("/authenapi/CreateSignalApi/createNormalSignal",JSON.stringify(a),function(a){shinobi.notification.notification.info("\u0110\u1eb7t l\u1ec7nh th\u00e0nh c\u00f4ng");b.clearPrice();document.getElementById("orderCommandConfirmModal").classList.remove("is-active")}):
shinobi.notification.notification.error("Vui l\u00f2ng nh\u1eadp gi\u00e1 tr\u1ecb ngu\u1ed3n!")})})})}},renderAccountName:function(a,b,c){shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo","{allocationaccount: "+b+"}",function(b){b=JSON.parse(b);a.innerHTML=b.systemaccountname})},renderPMAcountName:function(a,b,c){shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo","{allocationaccount: "+
b+"}",function(b){b=JSON.parse(b);a.innerHTML="(T\u1ea3i kho\u1ea3n "+b.pmfullname+")";a.setAttribute("value",b.pm)})},renderRadioButtonEvent:function(){var a=document.getElementById("otherOptionInput").parentNode;document.querySelectorAll('#otherOptionSourceContainer [snb-key="typeModal"]').forEach(function(b){b.onclick=function(){b.checked&&("OTHER"==b.getAttribute("radio-value")?a.classList.remove("is-hidden"):a.classList.add("is-hidden"),a.querySelector("input").value="")}})},renderSourceSellFunction:function(a){getUserInfo(function(b){var c=
document.querySelector("#orderCommandConfirmModal .field.is-flex");"PMALADIN"==b.usertype?"BUY"==a.side?c.classList.contains("is-hidden")||c.classList.add("is-hidden"):"SELL"==a.side&&c.classList.contains("is-hidden")&&c.classList.remove("is-hidden"):c&&c.classList.add("is-hidden")})},renderSideColor:function(a,b,c){"BUY"==b?a.innerHTML='<span class="has-text-success">MUA</span>':"SELL"==b&&(a.innerHTML='<span class="has-text-danger">B\u00c1N</span>')},clearPrice:function(){document.querySelector("#searchstocsympol input").value=
"";document.getElementById("orderPriceTab").value="";document.getElementById("currentweight").value=""},addEventStepPrice:function(a){var b=this;b.currentPrice=10;a=document.querySelector(a);var c=a.querySelector(".step-next-button"),d=a.querySelector(".step-pre-button"),e=a.querySelector(".current-value");c.onclick=function(){var a=e.value;if(0!=a){if(a=shinobi.render.removeFormatNumber(a),a=parseFloat(a),!isNaN(a)){var c=b.getStepPrice(a);e.value=Math.round(100*(a+c))/100}}else e.value=b.currentPrice};
d.onclick=function(){var a=e.value;a=shinobi.render.removeFormatNumber(a);a=Number(a);if(0<=a&&!isNaN(a)){var c=b.getStepPrice(a);e.value=Math.round(100*(a-c))/100}}},getStepPrice:function(a,b){return"HOSE"!=b?0<=a&&10>a?.01:10<=a&&50>=a?.05:.1:.1},addEventStepVolume:function(a){var b=this;a=document.querySelector(a);var c=a.querySelector(".step-next-button"),d=a.querySelector(".step-pre-button"),e=a.querySelector(".current-value");c.onclick=function(){var a=e.value;a=shinobi.render.removeFormatNumber(a);
a=Number(a);e.value=shinobi.util.formatNumber(a+b.stepVolume)};d.onclick=function(){var a=e.value;a=shinobi.render.removeFormatNumber(a);a=Number(a);a>=b.stepVolume&&(e.value=shinobi.util.formatNumber(a-b.stepVolume))}},addEventActiveBuySell:function(){var a=this,b=document.querySelector(".button-outline .button.buy"),c=document.querySelector(".button-outline .button.sell"),d=document.getElementById("containertrading"),e=document.getElementById("buttontrading");e.innerHTML=a.contentOrderBuy;b.onclick=
function(){b.parentNode.classList.add(a.classBuy);c.parentNode.classList.remove(a.classSell);e.classList.add("buy");e.classList.remove("sell");e.innerHTML=a.contentOrderBuy;d.classList.add(a.classBuy);d.classList.remove(a.classSell)};c.onclick=function(){b.parentNode.classList.remove(a.classBuy);c.parentNode.classList.add(a.classSell);e.classList.remove("buy");e.classList.add("sell");e.innerHTML=a.contentOrderSell;d.classList.add(a.classSell);d.classList.remove(a.classBuy)}},setUpOrderValueTab:function(){var a=
document.querySelector("#setprice #orderPriceTab"),b=document.querySelector("#setvolume #orderVolumeTab");a.addEventListener("input",function(a){var c={account:document.getElementById("selectPM").value,price:a.target.value};0<a.target.value?shinobi.api.request("/authenapi/StockPriceInfoApi/getMaxVolumnOrder",JSON.stringify(c),function(a){a=JSON.parse(a);a=shinobi.util.formatNumber(a);b.innerText=a}):b.innerText=""})},getOrderSideInfo:function(a,b){var c={BUY:{text:"MUA",classList:["order-side","buy-side"]},
SELL:{text:"B\u00c1N",classList:["order-side","sell-side"]}},d="",e=[];a.hasOwnProperty(b)&&(d=a[b],c.hasOwnProperty(d)&&(a=c[d],d=a.text,e=a.classList));return{text:d,classList:e}},renderOrderSide:function(a,b,c,d){b=shinobi.tradingsystemrender.getOrderSideInfo(d[b],"side");a.innerHTML=b.text;a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(b.classList))},renderOrderSideDataList:function(a,b,c){b=shinobi.tradingsystemrender.getOrderSideInfo(c,"side");a.innerHTML=b.text;a.classList.add.apply(a.classList,
$jscomp.arrayFromIterable(b.classList))},renderOrderStockCode:function(a,b,c,d){b=shinobi.tradingsystemrender.getOrderSideInfo(d[b],"side");a.classList.add.apply(a.classList,$jscomp.arrayFromIterable(b.classList))},renderOrderTypeStatus:function(a,b,c,d){a.classList.add("has-text-left");b=a.innerHTML;c={NEW:{text:"M\u1edbi",icon:"/static/image/pending.jpg"},INPROCESS:{text:"\u0110ang x\u1eed l\u00fd",icon:"/static/image/pending.jpg"},SUCCESS:{text:"Th\u00e0nh c\u00f4ng",icon:"/static/image/matched.jpg"},
PENDING:{text:"Ch\u1edd kh\u1edbp",icon:"/static/image/pending.jpg"},MATCHED:{text:"\u0110\u00e3 kh\u1edbp",icon:"/static/image/matched.jpg"},EDITED:{text:"\u0110\u00e3 s\u1eeda",icon:"/static/image/pending.jpg"},CANCELED:{text:"\u0110\u00e3 h\u1ee7y",icon:"/static/image/cancel.jpg"},ERROR:{text:"L\u1ed7i",icon:"/static/image/.jpg"},PARTIAL_MATCHED:{text:"Kh\u1edbp m\u1ed9t ph\u1ea7n",icon:"/static/image/partialmatched.jpg"},PARTIAL_MATCHED_REST_CANCELLED:{text:"Kh\u1edbp m\u1ed9t ph\u1ea7n, h\u1ee7y ph\u1ea7n c\u00f2n l\u1ea1i",
icon:"/static/image/partialmatchedpartialcancel.jpg"}};c.hasOwnProperty(b)?(b=c[b],a.innerHTML='<div class="level has-text-left" style="\n                            justify-content: left;\n                        ">\n                          <span class="level-left"><img class="icon is-small" src="'+b.icon+'"></span>\n                          <span class="level-item is-narrow ml-1"> '+b.text+"</span>\n                        </div>"):a.innerHTML=b},renderOrderTypeStatusDatalist:function(a,b,c){a.classList.add("has-text-left");
c={NEW:{text:"M\u1edbi",icon:"/static/image/pending.jpg"},INPROCESS:{text:"\u0110ang x\u1eed l\u00fd",icon:"/static/image/pending.jpg"},SUCCESS:{text:"Th\u00e0nh c\u00f4ng",icon:"/static/image/matched.jpg"},PENDING:{text:"Ch\u1edd kh\u1edbp",icon:"/static/image/pending.jpg"},MATCHED:{text:"\u0110\u00e3 kh\u1edbp",icon:"/static/image/matched.jpg"},EDITED:{text:"\u0110\u00e3 s\u1eeda",icon:"/static/image/pending.jpg"},CANCELED:{text:"\u0110\u00e3 h\u1ee7y",icon:"/static/image/cancel.jpg"},ERROR:{text:"L\u1ed7i",
icon:"/static/image/.jpg"},PARTIAL_MATCHED:{text:"Kh\u1edbp m\u1ed9t ph\u1ea7n",icon:"/static/image/partialmatched.jpg"},PARTIAL_MATCHED_REST_CANCELLED:{text:"Kh\u1edbp m\u1ed9t ph\u1ea7n, h\u1ee7y ph\u1ea7n c\u00f2n l\u1ea1i",icon:"/static/image/partialmatchedpartialcancel.jpg"}};c.hasOwnProperty(b)?(b=c[b],a.innerHTML='<div class="level has-text-left" style="\n                            justify-content: left;\n                        ">&nbsp\n                          <span class="level-left"><img class="icon is-small" src="'+
b.icon+'"></span>\n                          <span class="level-item is-narrow ml-1"> '+b.text+"</span>\n                        </div>"):a.innerHTML=b},titleDetailOrder:function(a,b,c){a.innerHTML=b?"Chi ti\u1ebft l\u1ec7nh (\u0110\u00e3 hu\u1ef7 l\u00fac "+b+")":"Chi ti\u1ebft l\u1ec7nh"}};
shinobi.template_1={listBackground:["staticpage-background1.jpg","staticpage-background2.jpg","staticpage-background3.jpg","staticpage-background4.jpg"],init:function(){this.checkLogin();this.renderHeader()},checkLogin:function(){var a=this;shinobi.coreapi.checkAuthen(function(){a.getInfoLogin()})},getInfoLogin:function(a){shinobi.cacheapi.request("/authenapi/SystemUserApi/getInfoLogin",JSON.stringify({}),function(b){window.localStorage.infoUser=b;a&&a(window.localStorage.infoUser)})},renderHeader:function(){this.getInfoLogin(function(a){shinobi.mapping.render("#navbarBasicExample",
a)})}};
